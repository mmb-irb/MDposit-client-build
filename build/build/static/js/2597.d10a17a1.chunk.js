"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[2597],{10939:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),l=n(12110),r=n(17604);const s="style_container__M9GCG";var o=n(70579);const i={opacity:[0,1]};(0,r.A)()||(i.transform=["translateY(50px)","translateY(0)"]);const c={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},d=(0,a.forwardRef)(((e,t)=>{let{overrideComponent:n,...r}=e;const d=(0,a.useRef)(null);(0,a.useLayoutEffect)((()=>{const e=d.current&&d.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex((t=>e===t)),n=e.animate(i,{...c,delay:150*t});return()=>n.cancel()}),[]);const h=n?"section":l.A;return(0,o.jsx)("div",{ref:d,className:s,children:(0,o.jsx)(h,{component:"section",...r,ref:t})})}))},60676:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(65043),l=n(26494);const r="style_horizontal__KW-k9",s="style_vertical__YKrT2",o="style_heatmap-horizontal__HjdIF",i="style_heatmap-vertical__utgJY";var c=n(85941),d=n(70579);const h=e=>{let{title:t="",maxValue:n=1,minValue:h=0,colorPlan:u,splits:x=19,vertical:p=!1,className:m}=e;const{legendData:f,legendLabels:g}=(0,a.useMemo)((()=>{const e=[];if(h===n)e.push(h);else for(let a=h;a<=n;a+=(n-h)/x)e.push(a);let t=e.map((e=>Math.round(e)));if(t.length>1)for(let n=1;new Set(t).size<t.length;n++)t=e.map((e=>Math.round(e*10**n)/10**n));return{legendData:p?e.map((e=>[e])):[e],legendLabels:t}}),[n,h,x,p]);return(0,d.jsxs)(l.A,{className:m||(p?s:r),children:[t,(0,d.jsx)(c.A,{data:f,xAxisValues:p?[""]:g,yAxisValues:p?g:[""],colorPlan:u,flippedXAxisValues:!1,className:p?i:o})]})}},85941:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),l=n(77691),r=n(32577),s=n(13232),o=n(70579);const i="normal 10px sans-serif",c="normal 14px sans-serif",d=(0,a.memo)((e=>{let{data:t,xAxisValues:n=[],yAxisValues:d=[],xAxisLabel:h,yAxisLabel:u,verticalPadding:x=0,colorPlan:p=["red","white","blue"],colorScale:m,onTooltip:f,onClick:g,flippedXAxisValues:y=!0,margin:v={top:10,right:10,bottom:10,left:10},className:b}=e;if(!t)throw new Error("Data is missing. Data is mandatory for the heatmap representation");if(n.length!==new Set(n).size)throw console.log(n),new Error("Duplicated values in the X axis. See console logs");if(d.length!==new Set(d).size)throw console.log(d),new Error("Duplicated values in the Y axis. See console logs");0===n.length&&(n=Array.from(Array(t[0].length).keys())),0===d.length&&(d=Array.from(Array(t[0].length).keys()));const A=[].concat(...t),w=Math.max(...A),_=Math.min(...A),M=[].concat(...Array(t.length).fill(n)),j=[];for(const a of d)j.push(...Array(n.length).fill(a));const C=[];for(const a in A)C.push({v:A[a],x:M[a],y:j[a]});const V=(0,a.useRef)(null),S=(0,a.useRef)(null),[,L]=(0,a.useState)(null),k=(0,l.jY)("|",i).height,E=(0,l.jY)("|",c).height+9,z=Math.max(...n.map((e=>(0,l.q_)(e,i))))+9,R=Math.max(...d.map((e=>(0,l.q_)(e,i)))),N=h?E:0,T=u?E+9:0,H=y?z+N:k+N,I=1===d.length?Math.max(R,(0,l.q_)(u,c)):R+T,Y={top:v.top,right:v.right,bottom:H+v.bottom,left:I+v.left};return(0,a.useEffect)((()=>{S.current&&S.current.forEach((e=>e.remove()));const e=V.current,{clientWidth:a,clientHeight:l}=e.parentElement,o=a-Y.left-Y.right,i=l-Y.top-Y.bottom,c=o/(1.05*(y?k:z)),b=i/(1.05*k),A=Math.ceil(n.length/c),M=Math.ceil(d.length/b),j=document.createElement("CANVAS");(0,r.Ltv)(e).node().appendChild(j);const C=(0,r.Ltv)(j).attr("id","canvas").attr("width",o).attr("height",i).style("position","absolute").style("top",Y.top+"px").style("left",Y.left+"px").style("cursor",g?"pointer":void 0),E=C.node().getContext("2d"),R=(0,r.Ltv)(e).append("svg").attr("id","svg").attr("viewBox",[0,0,a,l]),N=(0,r.WH)().range([Y.left,o+Y.left]).domain(n).paddingInner(0),I=R.append("g").attr("transform","translate(0,"+(i+Y.top)+")").call((0,r.l78)(N).tickFormat(((e,t)=>t%A===0?e:""))).selectAll("text");y&&I.style("text-anchor","end").attr("dx","-9px").attr("dy","-9px").attr("transform","rotate(-90)"),R.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",Y.left+o/2).attr("y",Y.top+i+H).text(h);const D=(0,r.WH)().domain(d).range([Y.top,i+Y.top]).padding(x);R.append("g").attr("transform","translate("+Y.left+", 0)").call((0,r.V4s)(D).tickFormat(((e,t)=>t%M===0?e:""))),1===d.length?R.append("text").attr("class","y label").attr("text-anchor","start").attr("x",0).attr("y",v.top+i).text(u):R.append("text").attr("class","y label").attr("text-anchor","middle").attr("x",-(Y.top+i/2)).attr("y",v.left+T-9-9).attr("transform","rotate(-90)").text(u);const O=m||(0,r.m4Y)().range(p).domain([_,(_+w)/2,w]),P=N.bandwidth(),W=D.bandwidth();t.forEach(((e,t)=>{const a=D(d[t])-Y.top;e.forEach(((e,t)=>{const l=N(n[t])-Y.left;E.fillStyle=O(e),E.fillRect(l,a,P,W)}))}));const q=e=>{const a=j.getBoundingClientRect(),l=e.clientX-a.left,r=e.clientY-a.top;let s=Math.floor(l/N.step()),o=Math.floor(r/D.step());const i=t[0].length-1;s<0&&(s=0),s>i&&(s=i);const c=t.length-1;o<0&&(o=0),o>c&&(o=c);const h=n[s],u=d[o];return{xIndex:s,yIndex:o,value:t[o][s],xAxisValue:h,yAxisValue:u}};let X;f&&(X=document.createElement("div"),Object.assign(X.style,{display:"none",position:"absolute",pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),e.appendChild(X),j.onmousemove=t=>{const n=q(t);X.innerText=f(n),X.style.display="inline-block";const{x:a,y:l}=(0,s.L)(e,X,{x:t.clientX,y:t.clientY},3);X.style.left=a+"px",X.style.top=l+"px"},j.onmouseleave=()=>{X.style.display="none"}),g&&(j.onmousedown=e=>{const t=q(e);g(t)}),S.current=X?[R,C,X]:[R,C];const F=()=>{L({innerWidth:window.innerWidth,innerHeight:window.innerHeight})};return window.addEventListener("resize",F),()=>{window.removeEventListener("resize",F)}})),(0,o.jsx)("div",{className:b,style:b?void 0:{height:"600px",width:"600px"},children:(0,o.jsx)("div",{ref:V,id:"container",style:{position:"relative",width:"100%",height:"100%"}})})}))},24310:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),l=n(26494);const r="style_loading__boyy5",s="style_heatmap__03kXZ";var o=n(85941),i=n(60676);Math.floor,String.fromCharCode;var c=n(70579);const d=e=>{let{inputData:t,xMaxCells:n=110,yMaxCells:d=260,onTooltip:h,onClick:u,legendTitle:x="",colorPlan:p,xTitle:m,yTitle:f}=e;const{data:g,xLabels:y,yLabels:v,minValue:b,maxValue:A,xstep:w,ystep:_}=(0,a.useMemo)((()=>{if(!t||!t.data||0===t.data.length)return{};const e=t.data;let a=t.xLabels,l=t.yLabels;const r=e[0].length,s=e.length;e.forEach((e=>{if(e.length!==r)throw new Error("All rows must have the same length")}));const o=r/n,i=s/d;let c,h,u;if(i<=1)if(o<=1)c=e;else{c=new Array(s);const t=new Array(n);for(let e=0;e<n;e++)t[e]=Math.round(e*o);for(let n=0;n<s;n++)c[n]=t.map((t=>e[n][t]))}else if(c=new Array(d).fill().map((e=>new Array(n).fill(null))),o<=1)for(let t=0;t<d;t++)c[t]=e[Math.round(t*i)];else for(let t=0;t<d;t++){const a=Math.round(t*i);for(let l=0;l<n;l++){const n=Math.round(l*o);c[t][l]=e[a][n]}}if(a||(a=Array.from(Array(r).keys())),l||(l=Array.from(Array(s).keys())),r!==a.length&&console.error("Heatmap error: x labels do not match data dimensions"),s!==l.length&&console.error("Heatmap error: y labels do not match data dimensions"),o<=1)h=a;else{h=new Array(n);for(let e=0;e<n;e++)h[e]=a[Math.round(e*o)]}if(i<=1)u=l;else{u=new Array(d);for(let e=0;e<d;e++)u[e]=l[Math.round(e*i)]}const x=Math.min(...c.map((e=>Math.min(...e)))),p=Math.max(...c.map((e=>Math.max(...e))));return{data:c,xLabels:h,yLabels:u,minValue:x,maxValue:p,xstep:o,ystep:i}}),[t,n,d]);if(!t)return'Heatmap Error: No "inputData" was provided';if(!t.data||0===t.data.length)return"Heatmap Error: The data field is empty or non existent";const M=e=>{let{xIndex:t,yIndex:n,value:a,xAxisValue:l,yAxisValue:r}=e;return{xIndex:w<=1?t:Math.round(t*w),yIndex:_<=1?n:Math.round(n*_),value:a,xAxisValue:l,yAxisValue:r}};return(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)("div",{className:r,children:"Loading..."}),children:[(0,c.jsx)(o.A,{data:g,xAxisValues:y,yAxisValues:v,colorPlan:p,xAxisLabel:m,yAxisLabel:f,onClick:e=>{if(!u)return;const t=M(e);return u(t)},onTooltip:e=>{if(!h)return;const t=M(e);return h(t)},className:s}),x&&(0,c.jsx)(l.A,{children:(0,c.jsx)(i.A,{title:x,minValue:b,maxValue:A,colorPlan:p})})]})}},507:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(65043),l=n(2260),r=n(32143),s=n(57972),o=n(68577),i=n(14256),c=n(67784),d=n(17392),h=n(92127),u=n(12639),x=n(17545);const p="style_horizontal__2DIWx",m="style_horizontal-margined__e9fQR";var f=n(70579);const g=[{label:"All residues",value:"residue_indices"},{label:"Interface residues",value:"interface_indices"}],y=e=>{let{interactions:t,selectedInteraction:n,setSelectedInteraction:y,selectedResidues:v,setSelectedResidues:b,selectedOrder:A,handleToggleOrder:w,firstOrderLabel:_,firstOrderTooltip:M,secondOrderLabel:j,secondOrderTooltip:C,toggleOrderTooltip:V,interfaceOnly:S=!1}=e;const L=t[n];return(0,f.jsxs)(a.Suspense,{fallback:(0,f.jsx)(x.A,{}),children:[(0,f.jsx)(l.A,{value:n,onChange:e=>{y(e.target.value)},className:m,children:t.map(((e,t)=>(0,f.jsx)(r.A,{value:t,children:e.label||e.name},t)))}),v&&(0,f.jsx)(s.A,{value:v,onChange:e=>{b(e.target.value)},className:p,children:g.map(((e,t)=>(0,f.jsx)(o.A,{value:e.value,control:(0,f.jsx)(i.A,{color:"primary"}),label:e.label,disabled:"All residues"===e.label&&S},t)))}),void 0!==A&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.A,{label:_,title:M,value:A?L.agent_1:L.agent_2}),(0,f.jsx)(d.A,{title:V,onClick:()=>{w()},size:"large",children:(0,f.jsx)(h.g,{icon:u._qq})}),(0,f.jsx)(c.A,{label:j,title:C,value:A?L.agent_2:L.agent_1})]})]})}},34088:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(65043),l=n(43126),r=n(10939);const s="style_rnd__Txifm",o="style_floating-card__HHpby";var i=n(70579);const c=(0,a.lazy)((()=>Promise.all([n.e(7784),n.e(8095),n.e(3845),n.e(2594),n.e(9070),n.e(8280),n.e(6190),n.e(1235),n.e(9117)]).then(n.bind(n,92428))));let d=0;const h=e=>{const t=e.viewerRef||(0,a.useRef)(null),[n,h]=(0,a.useState)((()=>{const{innerWidth:e,innerHeight:t,scrollY:n}=window,a=document.querySelector("main").offsetTop,l=Math.max(Math.min(e/4,t/4),150),r=1.5*l;return{width:2*l,height:r,x:0,y:t-a-r-20+n}}));return(0,i.jsx)(l.p,{position:{x:n.x,y:n.y},size:{width:n.width,height:n.height},style:{zIndex:(d+=1,d)},className:s,"data-rnd":!0,bounds:"window",cancel:"canvas, [data-popover], #preventDragSize",onDragStart:()=>{h({...n})},onResizeStart:()=>{h({...n})},onDragStop:(e,t)=>{0===e.layerX&&0===e.layerY||n.x===t.x&&n.y===t.y||h({...n,x:t.x,y:t.y})},onResize:()=>t.current&&t.current.autoResize(),onResizeStop:(e,t,n,a,l)=>{h({width:n.style.width,height:n.style.height,...l})},children:(0,i.jsx)(r.A,{className:o,elevation:4,children:(0,i.jsx)(a.Suspense,{fallback:null,children:(0,i.jsx)(c,{className:o,ref:t,startsPlaying:!1,...e})})})})},u=e=>{let{newViewer:t,nailing:n=!0,onNail:l,onClose:r}=e;const[s,o]=(0,a.useState)([]),c=[...s],d=(0,a.useRef)([]);if(t){const e=()=>{let e=0;for(;e<999;){if(-1===d.current.indexOf(e))return e;e+=1}console.error("Maximum number of viewers reached")};t.id=e(),t.close=()=>{n&&o((e=>{const n=[...e],a=e.indexOf(t);return-1!==a&&n.splice(a,1),n})),r&&r(t),d.current.push(t.id)},n&&(t.nail=()=>{o((e=>[...e,t])),l&&l(t),d.current.push(t.id)}),c.push(t)}return c.map((e=>(0,i.jsx)(h,{...e},e.id)))}},77691:(e,t,n)=>{n.d(t,{jY:()=>l,q_:()=>a});const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=(a.canvas||(a.canvas=document.createElement("canvas"))).getContext("2d");n.font=t;return n.measureText(e).width},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=document.createElement("div"),a=document.createTextNode(e);return n.appendChild(a),Object.assign(n.style,{font:t,position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap"}),document.body.appendChild(n),{width:n.clientWidth,height:n.clientHeight}}},13232:(e,t,n)=>{n.d(t,{L:()=>a});const a=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const l=e.getBoundingClientRect(),r=t.getBoundingClientRect();let s=n.x;if(Math.abs(l.left-s)>Math.abs(s-l.right)){s-=a+(r.right-r.left)}else s+=a;s-=l.left;let o=n.y;if(Math.abs(l.top-o)>Math.abs(o-l.bottom)){o-=a+(r.bottom-r.top)}else o+=a;return o-=l.top,{x:s,y:o}}}}]);
//# sourceMappingURL=2597.d10a17a1.chunk.js.map