"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[925],{29449:(e,a,s)=>{s.d(a,{I:()=>n,f:()=>t});var r=s(65043);const t=(0,r.createContext)(null),n=(0,r.createContext)(null)},89408:(e,a,s)=>{s.d(a,{A:()=>l});var r=s(65043),t=s(82746);const n=(e,a)=>{switch(a.type){case"INIT":return{...e,loading:!0,file:null,error:null};case"SUCCESS":return{...e,loading:!1,file:a.file};case"ERROR":return{...e,loading:!1,error:a.error};default:throw new Error(`"${a.type}" is not a valid action`)}},l=(e,a)=>{let{defaultRepresentation:s,ext:l}=a;const[i,o]=(0,r.useReducer)(n,{loading:!!e,file:null,error:null});return(0,r.useEffect)((()=>{if(!e)return void o({type:"SUCCESS"});o({type:"INIT"});let a=!1;return(0,t.autoLoad)(e,{defaultRepresentation:s,ext:l}).then((e=>!a&&o({type:"SUCCESS",file:e}))).catch((e=>!a&&o({type:"ERROR",error:e}))),()=>a=!0}),[e,s,l]),i}},45780:(e,a,s)=>{s.r(a),s.d(a,{default:()=>ne});var r=s(65043),t=s(73216),n=s(35475),l=s(11906),i=s(85865),o=s(2260),c=s(32143),d=s(92127),u=s(12639),h=s(91707),p=s(58338),m=s(89408),b=s(96553),f=s(17545),j=s(69392),x=s(20036),y=s(17392),g=s(38978),P=s(34535);const z="style_default__DjLzc";var v=s(70579);const A=(0,P.Ay)((0,r.forwardRef)(((e,a)=>{let{className:s,...r}=e;return(0,v.jsx)(j.A,{...r,classes:{popper:s},ref:a})})))((e=>{let{theme:a}=e;return{[`& .${g.A.tooltip}`]:{fontSize:"1em",maxWidth:"100%",margin:"0"}}})),k=e=>{let{tooltip:a,className:s}=e;const[t,n]=(0,r.useState)(!1);return(0,v.jsx)(x.x,{onClickAway:()=>n(!1),children:(0,v.jsx)(A,{title:a,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,open:t,children:(0,v.jsx)(y.A,{className:s||z,color:t?"info":"primary",onClick:()=>n((e=>!e)),children:(0,v.jsx)(d.g,{icon:u.iW_,size:"lg"})})})})};var S=s(1198),_=s(29449),$=s(66062),w=s(95747);const N="style_container__dFMTv",C="style_title__uoSaZ",R="style_link-to-api__FRbDu",M="style_info__2dDtu",E="style_selector__XaqWz",I=(0,r.lazy)((()=>Promise.all([s.e(3316),s.e(3850)]).then(s.bind(s,61343)))),T=(0,r.lazy)((()=>Promise.all([s.e(3845),s.e(2594),s.e(2542)]).then(s.bind(s,25622)))),D=(0,r.lazy)((()=>Promise.all([s.e(3845),s.e(1280),s.e(7664)]).then(s.bind(s,33506)))),L=(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(8095),s.e(3845),s.e(2577),s.e(2594),s.e(9070),s.e(8280),s.e(6190),s.e(1235),s.e(232)]).then(s.bind(s,5600)))),q=(0,r.lazy)((()=>Promise.all([s.e(8095),s.e(4040),s.e(8324),s.e(3316),s.e(4044)]).then(s.bind(s,21700)))),F=(0,r.lazy)((()=>Promise.all([s.e(8095),s.e(8324),s.e(4039)]).then(s.bind(s,31327)))),U=(0,r.lazy)((()=>Promise.all([s.e(8095),s.e(8324),s.e(2627)]).then(s.bind(s,38747)))),O=(0,r.lazy)((()=>Promise.all([s.e(8095),s.e(2577),s.e(8324),s.e(6797)]).then(s.bind(s,41604)))),W=(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(8095),s.e(3845),s.e(4040),s.e(2577),s.e(2594),s.e(9070),s.e(8280),s.e(6190),s.e(1235),s.e(5291),s.e(1772),s.e(1499)]).then(s.bind(s,24539)))),B=(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(8095),s.e(3845),s.e(4040),s.e(2577),s.e(2594),s.e(9070),s.e(8280),s.e(6190),s.e(5839),s.e(1235),s.e(5007)]).then(s.bind(s,67551)))),Z=(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(4040),s.e(2577),s.e(8324),s.e(5839),s.e(3316),s.e(2597),s.e(3241)]).then(s.bind(s,25797)))),H=(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(3845),s.e(4040),s.e(2577),s.e(8324),s.e(5839),s.e(2597),s.e(3682)]).then(s.bind(s,68542)))),Q=(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(8095),s.e(4040),s.e(2577),s.e(8324),s.e(5839),s.e(7803),s.e(4001)]).then(s.bind(s,4733)))),V=(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(4040),s.e(8324),s.e(5839),s.e(4011)]).then(s.bind(s,19121)))),X=(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(8095),s.e(3845),s.e(4040),s.e(2594),s.e(9070),s.e(8280),s.e(6190),s.e(1235),s.e(5748)]).then(s.bind(s,44564)))),G=(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(8095),s.e(3845),s.e(2577),s.e(2594),s.e(9070),s.e(8280),s.e(6190),s.e(1235),s.e(1772),s.e(7017)]).then(s.bind(s,53965)))),J=(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(8095),s.e(3845),s.e(4040),s.e(2594),s.e(9070),s.e(8280),s.e(6190),s.e(7803),s.e(1235),s.e(790)]).then(s.bind(s,56642)))),K=(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(8095),s.e(3845),s.e(4040),s.e(2577),s.e(2594),s.e(9070),s.e(8280),s.e(6190),s.e(1235),s.e(5291),s.e(1772),s.e(1079)]).then(s.bind(s,64711)))),Y=(0,r.lazy)((()=>s.e(8825).then(s.bind(s,31056)))),ee={overview:T,trajectory:L,electrostatic:B,rgyr:F,rmsds:q,"rmsd-perres":W,"rmsd-pairwise":H,pca:O,fluctuation:U,sasa:K,"dist-perres":Z,hbonds:Q,energies:V,pockets:X,mutations:G,epitopes:J,populations:(0,r.lazy)((()=>Promise.all([s.e(7784),s.e(8095),s.e(3845),s.e(2577),s.e(2594),s.e(9070),s.e(8280),s.e(6190),s.e(1235),s.e(1772),s.e(7017)]).then(s.bind(s,98797)))),markov:(0,r.lazy)((()=>Promise.all([s.e(9070),s.e(8324),s.e(9683)]).then(s.bind(s,26379)))),files:D},ae=(e,a)=>{let s;switch(a){case"overview":case"trajectory":s="";break;case"electrostatic":s="analyses/interactions";break;case"rgyr":case"rmsds":case"rmsd-perres":case"rmsd-pairwise":case"pca":case"fluctuation":case"sasa":case"dist-perres":case"hbonds":case"energies":case"pockets":case"markov":s=`analyses/${a}`;break;case"files":s=a;break;case"mutations":case"epitopes":s="references";break;case"populations":s="files/populations.json";break;default:return null}return`${w.o2}current/projects/${e}/${s}`},se=e=>{let{subPage:a,dataUrl:s}=e;const n=(0,r.useContext)(_.f),l=(0,m.A)(`${w.nP}/${n.accessionAndMdNumber}/files/${w.i3}`,{defaultRepresentation:!1,ext:"pdb"});if(l.loading)return(0,v.jsx)(f.A,{});if(l.error)return l.error.toString()+" (in pdbData)";if(!l.file)return"Something bad happened with the pdb data";const i=ee[a];return(0,v.jsxs)(b.A,{children:[" ",(0,v.jsx)(_.I.Provider,{value:l,children:(0,v.jsxs)(t.BV,{children:[(0,v.jsx)(t.qh,{path:"/",element:i?(0,v.jsx)(r.Suspense,{fallback:(0,v.jsx)(f.A,{}),children:(0,v.jsx)(i,{})}):(0,v.jsx)(v.Fragment,{children:`Subpage "${a}" not known`})}),(0,v.jsx)(t.qh,{path:"/json",element:(0,v.jsx)(r.Suspense,{fallback:(0,v.jsx)(f.A,{}),children:(0,v.jsx)(Y,{url:s})})}),(0,v.jsx)(t.qh,{path:"*",element:"This route is not defined in the client accession"})]})})]})},re=e=>{let{accessionAndMdNumber:a,subPage:s}=e;return ae(a,s)?(0,v.jsxs)(l.A,{component:n.N_,target:"_blank",to:`/id/${a}/${s}/json`,className:R,children:[(0,v.jsx)(d.g,{icon:u.LBj}),"\xa0\xa0data in this page"]}):null},te=(e,a,s)=>{if(!e)return!1;if(e.accession!==a&&e.identifier!==a)return!1;if(!e.mdNumber)return!0;const r=null!==s?s:e.mdref+1;return e.mdNumber===r},ne=()=>{const e=(0,t.zy)(),a=(0,t.Zp)(),{accession:s,page:n}=(0,t.g)(),m=s.split("."),b=m[0],j=m.length>1?+m[1]:null,[x,y]=(0,r.useState)(null);let g=!1;if(g=te(x,b,j),!g){const a=e.state&&e.state.projectData;if(te(a,b,j)){y(new $.M(a))}}const P=g?null:`${w.nP}/${s}/`,z=(0,p.A)(P);if((0,r.useMemo)((()=>{x&&(x.accession||(x.accession=x.identifier),x.chains&&x.chains.sort())}),[x]),!g){if(z.loading)return(0,v.jsx)(f.A,{});if(z.error)return z.error.toString();if(!z.payload)return"Something bad happened with the project data";if(z.payload.removed)return"The requested MD has been removed";y(new $.M(z.payload))}if(!x)return;const A=S.m.find((e=>e.id===n)),T=A&&A.page&&(0,v.jsxs)(v.Fragment,{children:[A.page,(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),"To learn more about this page and how data is obtained please"," ",(0,v.jsx)("a",{href:`/help#/help#${A.id}`,target:"_blank",rel:"noreferrer noopener",children:"click here"}),"."]}),D=e.pathname,L="/json"===D.substr(D.length-5),q=ae(s,n),F=x.mdCount>1;return(0,v.jsxs)(_.f.Provider,{value:x,children:[(0,v.jsx)(I,{accessionAndMdNumber:s,subPage:n}),(0,v.jsxs)("span",{className:N,children:[(0,v.jsxs)(i.A,{variant:"h6",className:C,children:[`Project ${b}`,(0,v.jsx)(h.A,{color:"primary",fontSize:"large"}),F&&(0,v.jsx)(o.A,{variant:"standard",value:x.mdIndex,onChange:e=>{const s=e.target.value+1;a(`/id/${b}.${s}/${n}`)},className:E,children:x.mds.map(((e,a)=>(0,v.jsx)(c.A,{value:a,children:e},a)))}),F&&(0,v.jsx)(h.A,{color:"primary",fontSize:"large"}),`${w.h7.get(n)||n} page ${L?" (raw data)":""}`,!L&&A&&A.page&&(0,v.jsx)(k,{tooltip:T,className:M})]}),L?(0,v.jsxs)(l.A,{target:"_blank",href:q,className:R,children:[(0,v.jsx)(d.g,{icon:u.CQO}),"\xa0REST API"]}):(0,v.jsx)(re,{accessionAndMdNumber:s,subPage:n})]}),(0,v.jsx)(se,{subPage:n,dataUrl:q})]})}}}]);
//# sourceMappingURL=accession.c4286bd5.chunk.js.map