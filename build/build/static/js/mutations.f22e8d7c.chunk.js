"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[7017,9117],{36114:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(65043),s=n(82746),o=n(32577),a=n(29449);const i=["grey","yellow","red"],c=()=>{const{topology:e}=(0,r.useContext)(a.f);return(0,r.useMemo)((()=>{if(!e)return;if(!e.proteinReferences.some((e=>!!e.entropies)))return;const t=e.proteinReferences.map((e=>{if(!e.entropies)return[];const t=e.entropies.map((e=>Math.log(e+1e-4)));return e.logarithmicEntropies=t,t})),n=[].concat.apply([],t),r=Math.max(...n),a=Math.min(...n),c=(0,o.m4Y)().range(i).domain([a,(a+r)/2,r]);return[{name:"Mutations",color:"custom",customScheme:s.ColormakerRegistry.addScheme((function(t){this.atomColor=t=>{const n=t.residueIndex,r=e.getResidueByIndex(n);if(!r.referenceId)return parseInt("ffffff",16);const s=r.referenceData.logarithmicEntropies;if(!s||0===s.length)return parseInt("ffffff",16);const a=s[r.referenceNumber-1];if(!a)return parseInt("ffffff",16);const i=(0,o.yWT)(c(a)).formatHex();return parseInt(i.substring(1),16)}}))}]}),[e])}},53965:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(65043),s=n(89257),o=n(10939),a=n(92428),i=n(36114);const c="style_container__eJ9YA",l="style_nglcard__lM3g-",d="style_selector__WXY0g";var u=n(17545),f=n(95747),p=n(29449),h=n(48838),m=n(70579);const x={triggerOnce:!0,rootMargin:"100px"},g=()=>{const[e,t]=(0,s.Wx)(x),{topology:n}=(0,r.useContext)(p.f),g=(0,r.useMemo)((()=>{if(!n)return;if(0===n.proteinReferences.filter((e=>f.kO.includes(e.uniprot)&&e.entropies)).length)return;const e=n.residueCount,t=new Array(e).fill(null);for(let r=0;r<e;r++){const e=n.getResidueByIndex(r);if(!e.referenceId)continue;const s=e.referenceNumber-1,o=e.referenceData.entropies;if(!o)continue;const a=o[s];if(void 0===a)continue;const i=Math.round(1e3*Math.log(a+1e-4))/1e3;t[r]=i}return t}),[n]),[y,_]=(0,r.useState)([]),j=y.map((e=>+e.index)),A=(0,i.A)(),v=(0,r.useCallback)(((e,t,n)=>{const r={color:n,index:t};_((e=>[...e,r]))}),[_]),C=(0,r.useCallback)(((e,t)=>{_((e=>e.filter((e=>e.index!==t))))}),[_]),b=(0,r.useCallback)((()=>{_([])}),[_]),M=(0,r.useCallback)((e=>`Logarithmic entropy: ${Math.round(100*e.value)/100}`),[]);return n&&!g?"Missing entropies data":A?(0,m.jsxs)(r.Suspense,{fallback:(0,m.jsx)(u.A,{}),children:[(0,m.jsx)(o.A,{className:l,ref:e,children:t?(0,m.jsx)(a.default,{className:c,startingRepresentations:A,selectedResidueIndices:j}):(0,m.jsx)("div",{style:{height:"50vh"}})}),(0,m.jsx)(o.A,{children:(0,m.jsx)(h.A,{residueValues:g,legendTitle:"Logarithmic entropy",onSelect:v,onDeselect:C,onClean:b,onTooltip:M,className:d})})]}):(0,m.jsx)(u.A,{})}},98797:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(65043),s=n(89257),o=n(71806),a=n(84882),i=n(28076),c=n(10039),l=n(73460),d=n(10939),u=n(92428);const f="style_paper__-IPRl",p="style_tablecard__36QJ9",h="style_nglcard__UaXJ8",m="style_container__4ECe+",x="style_selectedrow__yv8kY",g="style_row__fdlru";var y=n(29449),_=n(17545),j=n(70579);const A={triggerOnce:!0,rootMargin:"100px"},v=e=>{const t=100*e;return(Math.round(100*t)/100).toString().padEnd(4,"0")},C=()=>{const[e,t]=(0,s.Wx)(A),{metadata:n,populations:C}=(0,r.useContext)(y.f),b=(0,r.useContext)(y.I),M=(0,r.useRef)(null),[k,I]=(0,r.useState)(0),{loading:w,payload:N,error:R}=C,S=(0,r.useMemo)((()=>{if(!N)return;const e=[];return N.forEach(((t,n)=>{t<.001||e.push({pop:t,frame:n})})),e.sort(((e,t)=>e.pop<t.pop?1:e.pop>t.pop?-1:0)),e}),[N]);return w?(0,j.jsx)(_.A,{}):R?R.toString():N?n&&b.file?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.A,{className:p,children:(0,j.jsx)("div",{className:f,children:(0,j.jsxs)(o.A,{stickyHeader:!0,size:"small",children:[(0,j.jsx)(a.A,{children:(0,j.jsxs)(i.A,{children:[(0,j.jsx)(c.A,{children:"Population (%)"},0),(0,j.jsx)(c.A,{children:"Frame"},1)]})}),(0,j.jsx)(l.A,{children:S.map(((e,t)=>{const n=e.frame;return(0,j.jsxs)(i.A,{hover:n!==k,className:n===k?x:g,onClick:()=>I(n),children:[(0,j.jsx)(c.A,{children:v(e.pop)},0),(0,j.jsx)(c.A,{children:n},1)]},t)}))})]})})}),(0,j.jsx)(d.A,{className:h,ref:e,children:t?(0,j.jsx)(u.default,{className:m,requestedFrame:k,ref:M}):(0,j.jsx)("div",{style:{height:"50vh"}})})]}):(0,j.jsx)(_.A,{}):"Something bad happened"}},77691:(e,t,n)=>{n.d(t,{jY:()=>s,q_:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=(r.canvas||(r.canvas=document.createElement("canvas"))).getContext("2d");n.font=t;return n.measureText(e).width},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=document.createElement("div"),r=document.createTextNode(e);return n.appendChild(r),Object.assign(n.style,{font:t,position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap"}),document.body.appendChild(n),{width:n.clientWidth,height:n.clientHeight}}}}]);
//# sourceMappingURL=mutations.f22e8d7c.chunk.js.map