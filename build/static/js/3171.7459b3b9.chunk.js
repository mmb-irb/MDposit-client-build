"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[1814,3171,4963,8029,9632],{8029:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var n=s(65043);const a=e=>({async as(t){let s=t,n=await e();if(n.default&&(n=n.default),!s&&n.is&&"string"===typeof n.is&&(s=n.is),!s)throw new Error("Please a specify a name for custom element");const a=window.customElements.get(s);if(a){if(a===n)return s;throw new Error("This name is already used by another component")}return window.customElements.define(s,n),s}});var r=s(9632),i=s(24963),o=s(70579);let l,c=[];const u=new Promise(e=>{l=e}),d=(0,n.memo)(e=>{let{match:t,length:s,shape:a,classAttr:r}=e;const i=(0,n.useRef)();return(0,n.useEffect)(()=>{(async()=>{await u,i.current.data=[t],i.current.contributors=t.signatures||[]})()},[]),(0,o.jsx)("protvista-interpro-track",{ref:i,length:s,shape:a,class:r})}),h=(0,n.memo)(e=>{let{chain:t,data:u,firstResidueNumber:h}=e;(0,n.useEffect)(()=>{(async()=>{c.length>0||(c=[await a(()=>s.e(2737).then(s.bind(s,48501))).as("protvista-manager"),a(()=>Promise.all([s.e(1502),s.e(1307)]).then(s.bind(s,77665))).as("protvista-sequence"),a(()=>s.e(5874).then(s.bind(s,6843))).as("protvista-navigation"),a(()=>Promise.all([s.e(1502),s.e(2707)]).then(s.bind(s,67340))).as("protvista-coloured-sequence"),a(()=>Promise.all([s.e(1502),s.e(2707)]).then(s.bind(s,67340))).as("protvista-coloured-sequence"),a(()=>Promise.all([s.e(7955),s.e(1502),s.e(6525)]).then(s.bind(s,88393))).as("protvista-interpro-track")],await Promise.all(c),l())})()},[]);const m=u.sequence,f=m.length,p=u.interproscan;if(!p)return"No InterProScan data";const g=p.results[0].matches,b=(0,r.default)(g,h),y=h+f,v=" ".repeat(h)+m;return(0,o.jsxs)("protvista-manager",{attributes:"length displaystart displayend",length:f,chain:t,children:[(0,o.jsx)("protvista-navigation",{rulerstart:h,displaystart:h,displayend:y}),(0,o.jsxs)("div",{className:i.default.entries,children:[(0,o.jsx)("protvista-sequence",{sequence:v,height:"37"}),(0,o.jsx)("protvista-coloured-sequence",{sequence:v,scale:"hydrophobicity-scale",height:"15"}),b.length?b.map((e,t)=>(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:i.default.label,children:e.accession}),(0,o.jsx)(d,{match:e,shape:"roundRectangle",classAttr:e.signatures?i.default["has-signatures"]:void 0})]},t)):"No entry was found for this sequence"]})]})})},9632:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});const n=e=>{let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return t},a=e=>{const t=n(e);return`hsla(${Math.abs(t%360)}, ${Math.abs(t%20)+40}%, ${Math.abs(t%10)+45}%, 1)`},r=(e,t)=>Number.isFinite(t)?e[0]=t:e[0],i=(e,t)=>Number.isFinite(t)?e[1]=t:e[1],o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const n=Array.from(e).sort((e,s)=>t(e)-t(s));let a,o=[];for(const r of n)a?s(a)<t(r)?(o.push(a),a=r):s(a,Math.max(s(a),s(r))):a=r;return a&&o.push(a),o},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map(e=>{return{fragments:(s=e["location-fragments"],n=t,s.forEach(e=>{e.start+=n-1,e.end+=n-1}),s)};var s,n})},c=(e,t)=>{const s=[];for(const n of e||[])if(n.signature.entry){let e=s.find(e=>e.accession===n.signature.entry.accession);e||(e={accession:n.signature.entry.accession,db:"InterPro",signatures:[],locations:[],color:a(n.signature.entry.accession)},s.push(e));const r=l(n.locations,t);e.locations=o([...e.locations,...r],(e,t)=>Number.isFinite(t)?e.fragments[0].start=t:e.fragments[0].start,(e,t)=>Number.isFinite(t)?e.fragments[0].end=t:e.fragments[0].end),e.signatures.push({accession:n.signature.accession,db:n.signature.signatureLibraryRelease.library,locations:r,color:e.color.replace(", 1)",", 0.25)")})}else s.push({accession:n.signature.accession,db:n.signature.signatureLibraryRelease.library,locations:l(n.locations,t),color:a(n["model-ac"])});return s.sort((e,t)=>e.locations[0].fragments[0].start-t.locations[0].fragments[0].start).sort((e,t)=>(t.signatures||[]).length-(e.signatures||[]).length),s}},24963:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});const n={entries:"style_entries__T4f7r","has-signatures":"style_has-signatures__4CW-U",label:"style_label__UT0BE"}},51814:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});const n={popup:"style_popup__-6ZHj","portal-container":"style_portal-container__B70Nq","chain-analysis-list":"style_chain-analysis-list__TzUHq","trajectory-metadata-title":"style_trajectory-metadata-title__7GlAT"}},53171:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var n=s(65043),a=s(85865),r=s(92127),i=s(12639),o=s(29449),l=s(8029),c=s(17604),u=s(51814),d=s(70579);const h=new Map([["InterPro","InterPro"],["TIGRFAM","tigrfams"],["PROSITE_PROFILES","profile"],["PROSITE_PATTERNS","prosite"],["SUPERFAMILY","ssf"],["GENE3D","cathgene3d"],["CDD","cdd"],["HAMAP","hamap"],["PANTHER","panther"],["PFAM","pfam"],["PIRSF","pirsf"],["PRINTS","prints"],["SFLD","sfld"],["SMART","smart"]]),m=(0,n.memo)(()=>{const{topology:e}=(0,n.useContext)(o.f);if((0,n.useEffect)(()=>{const e=document.createElement("div");let t,s;e.className=u.default.popup,"HTMLPortalElement"in window&&(s=document.createElement("div"),s.className=u.default["portal-container"],t=document.createElement("portal"),s.appendChild(t),e.appendChild(s),t.addEventListener("click",()=>{const e=t.getBoundingClientRect();t.animate({transform:[`scale(1) translate(${-e.left}px, ${-e.top}px)`]},{duration:(0,c.A)()?0:1e3,easing:"cubic-bezier(.23,-0.26,0,1)",fill:"both"}).onfinish=()=>{window.location.href=t.src}}));const n=document.createElement("a");n.rel="noopener",n.target="_blank",e.appendChild(n);let a,r=!1;const i=()=>{n.textContent="",n.href="",t&&(s.style.display="none",t.src=null,t.removeAttribute("src")),e.style.visibility="hidden",e.style.transform="translate(0, 0)"},o=()=>clearTimeout(a),l=()=>a=setTimeout(i,1e3);e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",l);const d=o=>{if(!o.detail)return;let l,c,u;switch(o.detail.eventtype){case"mouseover":if(!o.detail.feature.accession)return;clearTimeout(a);const d=h.get(o.detail.feature.db),m=d&&`https://www.ebi.ac.uk/interpro/entry/${d}/${o.detail.feature.accession}/`;t&&d&&(t.src=m),n.textContent=`${o.detail.feature.db} - ${o.detail.feature.accession}`,n.href=m,d?t&&(s.style.display="block"):(t&&(s.style.display="none",t.removeAttribute("src"),t.src=null),n.removeAttribute("href")),l=o.detail.target.getBoundingClientRect(),c=e.getBoundingClientRect(),u=o.detail.target.closest("protvista-interpro-track").getBoundingClientRect();const f=Math.min(Math.max(l.left+l.width/2-c.width/2,u.left),u.right-c.width),p=window.scrollY+l.top-c.height;e.style.visibility="visible",e.style.transform=`translate(${f}px, ${p}px)`,r=!0;break;case"mouseout":if(!r)return;a=setTimeout(i,1e3),r=!1}};return document.body.appendChild(e),window.addEventListener("change",d),()=>{window.removeEventListener("change",d),e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",l),document.body.removeChild(e)}},[]),!e)return;const t=e&&e.chainReferences;return t&&t.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.A,{variant:"h5",children:"Protein functional analysis"}),(0,d.jsx)("br",{}),(0,d.jsxs)(a.A,{variant:"subtitle2",children:[(0,d.jsx)("strong",{children:t.length})," chains were analysed."]}),(0,d.jsx)("ul",{className:u.default["chain-analysis-list"],children:(()=>{const s=[];return t.forEach(t=>{t.chains.forEach(n=>{let o="",c=1;if(e){const t=e.getChainByName(n);o=t.metadataChainName,c=t.residueNumbers[0]}s.push((0,d.jsxs)("li",{children:[(0,d.jsxs)(a.A,{variant:"h6",children:[(0,d.jsx)(r.g,{icon:i.vmR}),` Chain ${n} ${o?"("+o+")":""}`]}),(0,d.jsx)(l.default,{chain:n,data:t,firstResidueNumber:c})]},n))})}),s.sort((e,t)=>e.key.localeCompare(t.key))})()}),(0,d.jsxs)(a.A,{variant:"body2",children:["Data generated using"," ",(0,d.jsx)("a",{href:"https://www.ebi.ac.uk/",target:"_blank",rel:"noreferrer noopener",children:"EBI"}),"'s"," ",(0,d.jsx)("a",{href:"https://www.ebi.ac.uk/interpro/about/interproscan/",target:"_blank",rel:"noreferrer noopener",children:"InterProScan service"})," ","and visualised using the"," ",(0,d.jsx)("a",{href:"https://ebi-webcomponents.github.io/nightingale/",target:"_blank",rel:"noreferrer noopener",children:"Nightingale visualisation library"}),"."]})]}):"No chain analyses available"})}}]);
//# sourceMappingURL=3171.7459b3b9.chunk.js.map