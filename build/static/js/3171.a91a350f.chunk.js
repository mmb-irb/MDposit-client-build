"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[1814,3171,4963,8029,9632],{8029:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(65043);const s=e=>({async as(t){let n=t,a=await e();if(a.default&&(a=a.default),!n&&a.is&&"string"===typeof a.is&&(n=a.is),!n)throw new Error("Please a specify a name for custom element");const s=window.customElements.get(n);if(s){if(s===a)return n;throw new Error("This name is already used by another component")}return window.customElements.define(n,a),n}});var r=n(9632),i=n(24963),o=n(70579);let l,c=[];const u=new Promise(e=>{l=e}),d=(0,a.memo)(e=>{let{match:t,length:n,shape:s,classAttr:r}=e;const i=(0,a.useRef)();return(0,a.useEffect)(()=>{(async()=>{await u,i.current.data=[t],i.current.contributors=t.signatures||[]})()},[]),(0,o.jsx)("protvista-interpro-track",{ref:i,length:n,shape:s,class:r})}),h=(0,a.memo)(e=>{let{chain:t,data:u,firstResidueNumber:h}=e;(0,a.useEffect)(()=>{(async()=>{c.length>0||(c=[await s(()=>n.e(2737).then(n.bind(n,48501))).as("protvista-manager"),s(()=>Promise.all([n.e(1502),n.e(1307)]).then(n.bind(n,77665))).as("protvista-sequence"),s(()=>n.e(5874).then(n.bind(n,6843))).as("protvista-navigation"),s(()=>Promise.all([n.e(1502),n.e(2707)]).then(n.bind(n,67340))).as("protvista-coloured-sequence"),s(()=>Promise.all([n.e(1502),n.e(2707)]).then(n.bind(n,67340))).as("protvista-coloured-sequence"),s(()=>Promise.all([n.e(7955),n.e(1502),n.e(6525)]).then(n.bind(n,88393))).as("protvista-interpro-track")],await Promise.all(c),l())})()},[]);const m=u.sequence,f=m.length,p=u.interproscan;if(!p)return"No InterProScan data";const g=p.results[0].matches,b=(0,r.default)(g,h),y=h+f,v=" ".repeat(h)+m;return(0,o.jsxs)("protvista-manager",{attributes:"length displaystart displayend",length:f,chain:t,children:[(0,o.jsx)("protvista-navigation",{rulerstart:h,displaystart:h,displayend:y}),(0,o.jsxs)("div",{className:i.default.entries,children:[(0,o.jsx)("protvista-sequence",{sequence:v,height:"37"}),(0,o.jsx)("protvista-coloured-sequence",{sequence:v,scale:"hydrophobicity-scale",height:"15"}),b.length?b.map((e,t)=>(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:i.default.label,children:e.accession}),(0,o.jsx)(d,{match:e,shape:"roundRectangle",classAttr:e.signatures?i.default["has-signatures"]:void 0})]},t)):"No entry was found for this sequence"]})]})})},9632:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});const a=e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t},s=e=>{const t=a(e),n=Math.abs(t%360),s=Math.abs(t%20)+40,r=Math.abs(t%10)+45;return"hsla(".concat(n,", ").concat(s,"%, ").concat(r,"%, 1)")},r=(e,t)=>Number.isFinite(t)?e[0]=t:e[0],i=(e,t)=>Number.isFinite(t)?e[1]=t:e[1],o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const a=Array.from(e).sort((e,n)=>t(e)-t(n));let s,o=[];for(const r of a)s?n(s)<t(r)?(o.push(s),s=r):n(s,Math.max(n(s),n(r))):s=r;return s&&o.push(s),o},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map(e=>{return{fragments:(n=e["location-fragments"],a=t,n.forEach(e=>{e.start+=a-1,e.end+=a-1}),n)};var n,a})},c=(e,t)=>{const n=[];for(const a of e||[])if(a.signature.entry){let e=n.find(e=>e.accession===a.signature.entry.accession);e||(e={accession:a.signature.entry.accession,db:"InterPro",signatures:[],locations:[],color:s(a.signature.entry.accession)},n.push(e));const r=l(a.locations,t);e.locations=o([...e.locations,...r],(e,t)=>Number.isFinite(t)?e.fragments[0].start=t:e.fragments[0].start,(e,t)=>Number.isFinite(t)?e.fragments[0].end=t:e.fragments[0].end),e.signatures.push({accession:a.signature.accession,db:a.signature.signatureLibraryRelease.library,locations:r,color:e.color.replace(", 1)",", 0.25)")})}else n.push({accession:a.signature.accession,db:a.signature.signatureLibraryRelease.library,locations:l(a.locations,t),color:s(a["model-ac"])});return n.sort((e,t)=>e.locations[0].fragments[0].start-t.locations[0].fragments[0].start).sort((e,t)=>(t.signatures||[]).length-(e.signatures||[]).length),n}},24963:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a={entries:"style_entries__T4f7r","has-signatures":"style_has-signatures__4CW-U",label:"style_label__UT0BE"}},51814:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a={popup:"style_popup__-6ZHj","portal-container":"style_portal-container__B70Nq","chain-analysis-list":"style_chain-analysis-list__TzUHq","trajectory-metadata-title":"style_trajectory-metadata-title__7GlAT"}},53171:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(65043),s=n(85865),r=n(92127),i=n(12639),o=n(29449),l=n(8029),c=n(17604),u=n(51814),d=n(70579);const h=new Map([["InterPro","InterPro"],["TIGRFAM","tigrfams"],["PROSITE_PROFILES","profile"],["PROSITE_PATTERNS","prosite"],["SUPERFAMILY","ssf"],["GENE3D","cathgene3d"],["CDD","cdd"],["HAMAP","hamap"],["PANTHER","panther"],["PFAM","pfam"],["PIRSF","pirsf"],["PRINTS","prints"],["SFLD","sfld"],["SMART","smart"]]),m=(0,a.memo)(()=>{const{topology:e}=(0,a.useContext)(o.f);if((0,a.useEffect)(()=>{const e=document.createElement("div");let t,n;e.className=u.default.popup,"HTMLPortalElement"in window&&(n=document.createElement("div"),n.className=u.default["portal-container"],t=document.createElement("portal"),n.appendChild(t),e.appendChild(n),t.addEventListener("click",()=>{const e=t.getBoundingClientRect();t.animate({transform:["scale(1) translate(".concat(-e.left,"px, ").concat(-e.top,"px)")]},{duration:(0,c.A)()?0:1e3,easing:"cubic-bezier(.23,-0.26,0,1)",fill:"both"}).onfinish=()=>{window.location.href=t.src}}));const a=document.createElement("a");a.rel="noopener",a.target="_blank",e.appendChild(a);let s,r=!1;const i=()=>{a.textContent="",a.href="",t&&(n.style.display="none",t.src=null,t.removeAttribute("src")),e.style.visibility="hidden",e.style.transform="translate(0, 0)"},o=()=>clearTimeout(s),l=()=>s=setTimeout(i,1e3);e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",l);const d=o=>{if(!o.detail)return;let l,c,u;switch(o.detail.eventtype){case"mouseover":if(!o.detail.feature.accession)return;clearTimeout(s);const d=h.get(o.detail.feature.db),m=d&&"https://www.ebi.ac.uk/interpro/entry/".concat(d,"/").concat(o.detail.feature.accession,"/");t&&d&&(t.src=m),a.textContent="".concat(o.detail.feature.db," - ").concat(o.detail.feature.accession),a.href=m,d?t&&(n.style.display="block"):(t&&(n.style.display="none",t.removeAttribute("src"),t.src=null),a.removeAttribute("href")),l=o.detail.target.getBoundingClientRect(),c=e.getBoundingClientRect(),u=o.detail.target.closest("protvista-interpro-track").getBoundingClientRect();const f=Math.min(Math.max(l.left+l.width/2-c.width/2,u.left),u.right-c.width),p=window.scrollY+l.top-c.height;e.style.visibility="visible",e.style.transform="translate(".concat(f,"px, ").concat(p,"px)"),r=!0;break;case"mouseout":if(!r)return;s=setTimeout(i,1e3),r=!1}};return document.body.appendChild(e),window.addEventListener("change",d),()=>{window.removeEventListener("change",d),e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",l),document.body.removeChild(e)}},[]),!e)return;const t=e&&e.chainReferences;return t&&t.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.A,{variant:"h5",children:"Protein functional analysis"}),(0,d.jsx)("br",{}),(0,d.jsxs)(s.A,{variant:"subtitle2",children:[(0,d.jsx)("strong",{children:t.length})," chains were analysed."]}),(0,d.jsx)("ul",{className:u.default["chain-analysis-list"],children:(()=>{const n=[];return t.forEach(t=>{t.chains.forEach(a=>{let o="",c=1;if(e){const t=e.getChainByName(a);o=t.metadataChainName,c=t.residueNumbers[0]}n.push((0,d.jsxs)("li",{children:[(0,d.jsxs)(s.A,{variant:"h6",children:[(0,d.jsx)(r.g,{icon:i.vmR})," Chain ".concat(a," ").concat(o?"("+o+")":"")]}),(0,d.jsx)(l.default,{chain:a,data:t,firstResidueNumber:c})]},a))})}),n.sort((e,t)=>e.key.localeCompare(t.key))})()}),(0,d.jsxs)(s.A,{variant:"body2",children:["Data generated using"," ",(0,d.jsx)("a",{href:"https://www.ebi.ac.uk/",target:"_blank",rel:"noreferrer noopener",children:"EBI"}),"'s"," ",(0,d.jsx)("a",{href:"https://www.ebi.ac.uk/interpro/about/interproscan/",target:"_blank",rel:"noreferrer noopener",children:"InterProScan service"})," ","and visualised using the"," ",(0,d.jsx)("a",{href:"https://ebi-webcomponents.github.io/nightingale/",target:"_blank",rel:"noreferrer noopener",children:"Nightingale visualisation library"}),"."]})]}):"No chain analyses available"})}}]);
//# sourceMappingURL=3171.a91a350f.chunk.js.map