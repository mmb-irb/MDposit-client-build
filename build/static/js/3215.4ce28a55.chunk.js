"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[3215,5154,9117],{1679:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var s=n(65043),i=n(89257),o=n(10939),a=n(14696),l=n(5154),r=n(17545),c=n(95747),d=n(29449),u=n(48838),f=n(70579);const h={triggerOnce:!0,rootMargin:"100px"},p=()=>{const[e,t]=(0,i.Wx)(h),{topology:n}=(0,s.useContext)(d.f),p=(0,s.useMemo)(()=>{if(!n)return;if(0===n.proteinReferences.filter(e=>c.kO.includes(e.uniprot)&&e.entropies).length)return;const e=n.residueCount,t=new Array(e).fill(null);for(let s=0;s<e;s++){const e=n.getResidueByIndex(s);if(!e.referenceId)continue;const i=e.referenceNumber-1,o=e.referenceData.entropies;if(!o)continue;const a=o[i];if(void 0===a)continue;const l=Math.round(1e3*Math.log(a+1e-4))/1e3;t[s]=l}return t},[n]),[g,x]=(0,s.useState)([]),m=g.map(e=>+e.index),b=n&&n.mutationsRepresentations,v=(0,s.useCallback)((e,t,n)=>{const s={color:n,index:t};x(e=>[...e,s])},[x]),y=(0,s.useCallback)((e,t)=>{x(e=>e.filter(e=>e.index!==t))},[x]),C=(0,s.useCallback)(()=>{x([])},[x]),j=(0,s.useCallback)(e=>`Logarithmic entropy: ${Math.round(100*e.value)/100}`,[]);return n&&!p?"Missing entropies data":b?(0,f.jsxs)(s.Suspense,{fallback:(0,f.jsx)(r.A,{}),children:[(0,f.jsx)(o.A,{className:l.default.nglcard,ref:e,children:t?(0,f.jsx)(a.default,{className:l.default.container,startingRepresentations:b,selectedResidueIndices:m}):(0,f.jsx)("div",{style:{height:"50vh"}})}),(0,f.jsx)(o.A,{children:(0,f.jsx)(u.A,{residueValues:p,legendTitle:"Logarithmic entropy",onSelect:v,onDeselect:y,onClean:C,onTooltip:j,className:l.default.selector})})]}):(0,f.jsx)(r.A,{})}},5154:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});const s={container:"style_container__eJ9YA",nglcard:"style_nglcard__lM3g-",selector:"style_selector__WXY0g"}},77691:(e,t,n)=>{n.d(t,{jY:()=>i,q_:()=>s});const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=(s.canvas||(s.canvas=document.createElement("canvas"))).getContext("2d");n.font=t;return n.measureText(e).width},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=document.createElement("div"),s=document.createTextNode(e);return n.appendChild(s),Object.assign(n.style,{font:t,position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap"}),document.body.appendChild(n),{width:n.clientWidth,height:n.clientHeight}}}}]);
//# sourceMappingURL=3215.4ce28a55.chunk.js.map