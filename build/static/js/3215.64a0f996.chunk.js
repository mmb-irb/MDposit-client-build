"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[3215,5154,9117],{1679:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(65043),s=n(89257),o=n(10939),i=n(92428),a=n(36114),c=n(5154),l=n(17545),u=n(95747),d=n(29449),f=n(48838),p=n(70579);const h={triggerOnce:!0,rootMargin:"100px"},m=()=>{const[e,t]=(0,s.Wx)(h),{topology:n}=(0,r.useContext)(d.f),m=(0,r.useMemo)((()=>{if(!n)return;if(0===n.proteinReferences.filter((e=>u.kO.includes(e.uniprot)&&e.entropies)).length)return;const e=n.residueCount,t=new Array(e).fill(null);for(let r=0;r<e;r++){const e=n.getResidueByIndex(r);if(!e.referenceId)continue;const s=e.referenceNumber-1,o=e.referenceData.entropies;if(!o)continue;const i=o[s];if(void 0===i)continue;const a=Math.round(1e3*Math.log(i+1e-4))/1e3;t[r]=a}return t}),[n]),[g,x]=(0,r.useState)([]),y=g.map((e=>+e.index)),b=(0,a.A)(),C=(0,r.useCallback)(((e,t,n)=>{const r={color:n,index:t};x((e=>[...e,r]))}),[x]),v=(0,r.useCallback)(((e,t)=>{x((e=>e.filter((e=>e.index!==t))))}),[x]),M=(0,r.useCallback)((()=>{x([])}),[x]),k=(0,r.useCallback)((e=>`Logarithmic entropy: ${Math.round(100*e.value)/100}`),[]);return n&&!m?"Missing entropies data":b?(0,p.jsxs)(r.Suspense,{fallback:(0,p.jsx)(l.A,{}),children:[(0,p.jsx)(o.A,{className:c.default.nglcard,ref:e,children:t?(0,p.jsx)(i.default,{className:c.default.container,startingRepresentations:b,selectedResidueIndices:y}):(0,p.jsx)("div",{style:{height:"50vh"}})}),(0,p.jsx)(o.A,{children:(0,p.jsx)(f.A,{residueValues:m,legendTitle:"Logarithmic entropy",onSelect:C,onDeselect:v,onClean:M,onTooltip:k,className:c.default.selector})})]}):(0,p.jsx)(l.A,{})}},5154:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r={container:"style_container__eJ9YA",nglcard:"style_nglcard__lM3g-",selector:"style_selector__WXY0g"}},36114:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(65043),s=n(82746),o=n(32577),i=n(29449);const a=["grey","yellow","red"],c=()=>{const{topology:e}=(0,r.useContext)(i.f);return(0,r.useMemo)((()=>{if(!e)return;if(!e.proteinReferences.some((e=>!!e.entropies)))return;const t=e.proteinReferences.map((e=>{if(!e.entropies)return[];const t=e.entropies.map((e=>Math.log(e+1e-4)));return e.logarithmicEntropies=t,t})),n=[].concat.apply([],t),r=Math.max(...n),i=Math.min(...n),c=(0,o.m4Y)().range(a).domain([i,(i+r)/2,r]);return[{name:"Mutations",color:"custom",customScheme:s.ColormakerRegistry.addScheme((function(t){this.atomColor=t=>{const n=t.residueIndex,r=e.getResidueByIndex(n);if(!r.referenceId)return parseInt("ffffff",16);const s=r.referenceData.logarithmicEntropies;if(!s||0===s.length)return parseInt("ffffff",16);const i=s[r.referenceNumber-1];if(!i)return parseInt("ffffff",16);const a=(0,o.yWT)(c(i)).formatHex();return parseInt(a.substring(1),16)}}))}]}),[e])}},77691:(e,t,n)=>{n.d(t,{jY:()=>s,q_:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=(r.canvas||(r.canvas=document.createElement("canvas"))).getContext("2d");n.font=t;return n.measureText(e).width},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=document.createElement("div"),r=document.createTextNode(e);return n.appendChild(r),Object.assign(n.style,{font:t,position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap"}),document.body.appendChild(n),{width:n.clientWidth,height:n.clientHeight}}}}]);
//# sourceMappingURL=3215.64a0f996.chunk.js.map