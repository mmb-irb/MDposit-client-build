"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[134,3287],{10134:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a={card:"style_card__+sr5O","margined-bottom":"style_margined-bottom__qKmBu"}},10939:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(89379),o=n(80045),r=n(65043),s=n(12110),c=n(17604);const l="style_container__M9GCG";var i=n(70579);const d=["overrideComponent"],u={opacity:[0,1]};(0,c.A)()||(u.transform=["translateY(50px)","translateY(0)"]);const h={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},p=(0,r.forwardRef)((e,t)=>{let{overrideComponent:n}=e,c=(0,o.A)(e,d);const p=(0,r.useRef)(null);(0,r.useLayoutEffect)(()=>{const e=p.current&&p.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex(t=>e===t),n=e.animate(u,(0,a.A)((0,a.A)({},h),{},{delay:150*t}));return()=>n.cancel()},[]);const m=n?"section":s.A;return(0,i.jsx)("div",{ref:p,className:l,children:(0,i.jsx)(m,(0,a.A)((0,a.A)({component:"section"},c),{},{ref:t}))})})},34088:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(89379),o=n(65043),r=n(43126),s=n(10939);const c="style_rnd__Txifm",l="style_floating-card__HHpby";var i=n(70579);const d=(0,o.lazy)(()=>Promise.all([n.e(7784),n.e(8095),n.e(3845),n.e(9070),n.e(247),n.e(7955),n.e(8677),n.e(4061),n.e(335),n.e(9117)]).then(n.bind(n,14696)));let u=0;const h=e=>{const t=e.viewerRef||(0,o.useRef)(null),[n,h]=(0,o.useState)(()=>{const{innerWidth:e,innerHeight:t,scrollY:n}=window,a=document.querySelector("main").offsetTop,o=Math.max(Math.min(e/4,t/4),150),r=1.5*o;return{width:2*o,height:r,x:0,y:t-a-r-20+n}});return(0,i.jsx)(r.p,{position:{x:n.x,y:n.y},size:{width:n.width,height:n.height},style:{zIndex:(u+=1,u)},className:c,"data-rnd":!0,bounds:"window",cancel:"canvas, [data-popover], #preventDragSize, .prevent-drag",onDragStart:()=>{h((0,a.A)({},n))},onResizeStart:()=>{h((0,a.A)({},n))},onDragStop:(e,t)=>{0===e.layerX&&0===e.layerY||n.x===t.x&&n.y===t.y||h((0,a.A)((0,a.A)({},n),{},{x:t.x,y:t.y}))},onResize:()=>t.current&&t.current.autoResize(),onResizeStop:(e,t,n,o,r)=>{h((0,a.A)({width:n.style.width,height:n.style.height},r))},children:(0,i.jsx)(s.A,{className:l,elevation:4,children:(0,i.jsx)(o.Suspense,{fallback:null,children:(0,i.jsx)(d,(0,a.A)({className:l,ref:t,startsPlaying:!1},e))})})})},p=e=>{let{newViewer:t,nailing:n=!0,onNail:r,onClose:s}=e;const[c,l]=(0,o.useState)([]),d=[...c],u=(0,o.useRef)([]);if(t){const e=()=>{let e=0;for(;e<999;){if(-1===u.current.indexOf(e))return e;e+=1}console.error("Maximum number of viewers reached")};t.id=e(),t.close=()=>{n&&l(e=>{const n=[...e],a=e.indexOf(t);return-1!==a&&n.splice(a,1),n}),s&&s(t),u.current.push(t.id)},n&&(t.nail=()=>{l(e=>[...e,t]),r&&r(t),u.current.push(t.id)}),d.push(t)}return d.map(e=>(0,i.jsx)(h,(0,a.A)({},e),e.id))}},48940:(e,t,n)=>{n.d(t,{G:()=>o,c:()=>a});const a=e=>{if(!e)return;return e.reduce((e,t)=>e+t,0)/e.length},o=e=>{if(!e)return;const t=e.reduce((e,t)=>e+t,0),n=e.length,a=t/n,o=Math.sqrt(e.map(e=>Math.pow(e-a,2)).reduce((e,t)=>e+t)/n);return{mean:a,stdv:o}}},51962:(e,t,n)=>{n.d(t,{A:()=>M});var a=n(98587),o=n(58168),r=n(65043),s=n(58387),c=n(98610),l=n(60061),i=n(33064),d=n(59662),u=n(70579);const h=(0,d.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var x=n(6803),A=n(98206),y=n(34535),f=n(61475),b=n(92532),v=n(72372);function j(e){return(0,v.Ay)("MuiCheckbox",e)}const S=(0,b.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),g=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],z=(0,y.Ay)(i.A,{shouldForwardProp:e=>(0,f.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat((0,x.A)(n.size))],"default"!==n.color&&t["color".concat((0,x.A)(n.color))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(S.checked,", &.").concat(S.indeterminate)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(S.disabled)]:{color:(t.vars||t).palette.action.disabled}})}),k=(0,u.jsx)(p,{}),w=(0,u.jsx)(h,{}),C=(0,u.jsx)(m,{}),M=r.forwardRef(function(e,t){var n,l;const i=(0,A.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:d=k,color:h="primary",icon:p=w,indeterminate:m=!1,indeterminateIcon:y=C,inputProps:f,size:b="medium",className:v}=i,S=(0,a.A)(i,g),M=m?y:p,N=m?y:d,_=(0,o.A)({},i,{color:h,indeterminate:m,size:b}),D=(e=>{const{classes:t,indeterminate:n,color:a,size:r}=e,s={root:["root",n&&"indeterminate","color".concat((0,x.A)(a)),"size".concat((0,x.A)(r))]},l=(0,c.A)(s,j,t);return(0,o.A)({},t,l)})(_);return(0,u.jsx)(z,(0,o.A)({type:"checkbox",inputProps:(0,o.A)({"data-indeterminate":m},f),icon:r.cloneElement(M,{fontSize:null!=(n=M.props.fontSize)?n:b}),checkedIcon:r.cloneElement(N,{fontSize:null!=(l=N.props.fontSize)?l:b}),ownerState:_,ref:t,className:(0,s.A)(D.root,v)},S,{classes:D}))})},53287:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var a=n(89379),o=n(65043),r=n(26494),s=n(8939),c=n(24056),l=n(71806),i=n(84882),d=n(28076),u=n(10039),h=n(73460),p=n(83558),m=n(51962),x=n(10939),A=n(34088),y=n(17545),f=n(58338),b=n(29449),v=n(95747),j=n(48940),S=n(10134),g=n(70579);const z=(0,o.lazy)(()=>Promise.all([n.e(7631),n.e(3969),n.e(5291),n.e(5077)]).then(n.bind(n,75291))),k=[{type:"mass",label:"Mass",ylabel:"Density (Da/\xc5)"},{type:"number",label:"Number",ylabel:"Density (N/\xc5)"},{type:"electron",label:"Electron",ylabel:"Density (e\u207b/\xc5)"}];let w=[];const C={A:"blue",B:"purple",G:"green",M:"orange",polar:"red",L:"yellow"},M=()=>{const{accessionAndMdNumber:e,metadata:t,chains:n}=(0,o.useContext)(b.f),{loading:M,payload:N,error:_}=(0,f.A)("".concat(v.nP,"/").concat(e,"/analyses/density/")),[D,R]=(0,o.useState)(k[0]),[E,P]=(0,o.useState)({}),[H,L]=(0,o.useState)([]),[O,I]=(0,o.useState)(null),{densityData:V,xAxisStep:B,xAxisLabel:T,isEnsemble:Y,xTooltip:q}=(0,o.useMemo)(()=>{if(!N||!N.data||!N.data.comps)return{};const e={},a=[],o={};N.data.comps.forEach((t,r)=>{const s={},c=D.type;let l=t.name;s.data=t[c].dens,s.color=C[l],s.average=(0,j.c)(s.data),s.stddev=(0,j.c)(t[c].stdv),s.areaStdDev=t[c].stdv,"polar"===l?(l="Headgroups",a.push({name:l,type:"ball+stick",color:s.color,opacity:.5,selection:"@"+t.selection.join(","),other:{radius:.3}})):-1!==n.indexOf(l)?a.push({name:l,type:"cartoon",color:s.color,selection:":"+l}):a.push({name:l,type:"licorice",color:s.color,opacity:.5,selection:":"+l}),e[l]=s,o[l]=!0}),w=a.map(e=>e.color),I(a),P(o);const r="ensemble"===t.TYPE,s=N.data.z,c=s[1]-s[0];return{densityData:e,xAxisStep:c,xAxisLabel:"Z axis (\xc5)",isEnsemble:r,xTooltip:e=>"".concat(e.toFixed(2)," \xc5"),xValues:s}},[t,N,D]),G=(0,o.useMemo)(()=>[{x:H,attr:{fill:"#c8c8c8"}}],[H]);if((0,o.useEffect)(()=>{O&&0!==O.length&&I(e=>{var t=Object.keys(E);return e.forEach((e,n)=>{const a=E[t[n]];e.show=!!a}),[...e]})},[E]),M)return(0,g.jsx)(y.A,{});if(_)return _.toString();if(!N)return"Something bad happened loading density data";const F=e=>Math.round(100*e)/100;return(0,g.jsxs)(o.Suspense,{fallback:(0,g.jsx)(y.A,{}),children:[(0,g.jsx)(x.A,{className:S.default.card,children:(0,g.jsxs)(r.A,{children:[(0,g.jsx)(s.A,{value:D,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",onChange:(e,t)=>{L(null),R(t)},className:S.default["margined-bottom"],children:k.map((e,t)=>(0,g.jsx)(c.A,{value:e,label:e.label},t))}),(0,g.jsxs)(l.A,{padding:"checkbox",children:[(0,g.jsx)(i.A,{children:(0,g.jsxs)(d.A,{children:[(0,g.jsx)(u.A,{children:"Selected chains"}),(0,g.jsx)(u.A,{children:"Mean"}),(0,g.jsx)(u.A,{children:"Mean of standard deviations"})]})}),(0,g.jsx)(h.A,{children:Object.entries(V).map((e,t)=>{let[n,o]=e;return(0,g.jsxs)(d.A,{children:[(0,g.jsx)(u.A,{children:(0,g.jsx)(p.A,{onChange:()=>P(e=>(e[n]=!e[n],(0,a.A)({},e))),control:(0,g.jsx)(m.A,{checked:E[n],style:{color:w[t]}}),label:n})}),(0,g.jsx)(u.A,{children:F(o.average)}),(0,g.jsx)(u.A,{children:F(o.stddev)})]},n)})})]})]})}),(0,g.jsx)(x.A,{className:S.default.card,children:(0,g.jsx)(r.A,{children:(0,g.jsx)(z,{yData:V,step:B,xAxisLabel:T,yAxisLabel:D.ylabel,type:Y?"dots":"line",xTooltip:q,xScaleFactor:1,onSelect:L,selfLegend:!1,dataDisplay:E,marks:G,areaStdDev:!0})})}),(0,g.jsx)(A.A,{newViewer:"number"===typeof H?{xSelection:H,xAxisStep:B,representationsState:[O,I]}:null,onNail:e=>L(t=>e.xSelection===t?null:t),onClose:e=>L(t=>e.xSelection===t?null:t)})]})}}}]);
//# sourceMappingURL=3287.f73008f2.chunk.js.map