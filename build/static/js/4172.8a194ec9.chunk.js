"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[4172],{10939:(t,e,n)=>{n.d(e,{A:()=>p});var a=n(89379),l=n(80045),o=n(65043),r=n(12110),s=n(17604);const i="style_container__M9GCG";var c=n(70579);const d=["overrideComponent"],h={opacity:[0,1]};(0,s.A)()||(h.transform=["translateY(50px)","translateY(0)"]);const u={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},p=(0,o.forwardRef)((t,e)=>{let{overrideComponent:n}=t,s=(0,l.A)(t,d);const p=(0,o.useRef)(null);(0,o.useLayoutEffect)(()=>{const t=p.current&&p.current.firstElementChild;if(!t||!t.animate)return;const e=Array.from(document.querySelectorAll("main section")).findIndex(e=>t===e),n=t.animate(h,(0,a.A)((0,a.A)({},u),{},{delay:150*e}));return()=>n.cancel()},[]);const f=n?"section":r.A;return(0,c.jsx)("div",{ref:p,className:i,children:(0,c.jsx)(f,(0,a.A)((0,a.A)({component:"section"},s),{},{ref:e}))})})},13232:(t,e,n)=>{n.d(e,{L:()=>a});const a=function(t,e,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const l=t.getBoundingClientRect(),o=e.getBoundingClientRect();let r=n.x;if(Math.abs(l.left-r)>Math.abs(r-l.right)){r-=a+(o.right-o.left)}else r+=a;r-=l.left;let s=n.y;if(Math.abs(l.top-s)>Math.abs(s-l.bottom)){s-=a+(o.bottom-o.top)}else s+=a;return s-=l.top,{x:r,y:s}}},24310:(t,e,n)=>{n.d(e,{A:()=>d});var a=n(65043),l=n(26494);const o="style_loading__boyy5",r="style_heatmap__03kXZ";var s=n(85941),i=n(60676);Math.floor,String.fromCharCode;var c=n(70579);const d=t=>{let{inputData:e,xMaxCells:n=110,yMaxCells:d=260,onTooltip:h,onClick:u,legendTitle:p="",colorPlan:f,xTitle:m,yTitle:x,minValue:y,maxValue:g}=t;const{data:v,xLabels:A,yLabels:b,minValue:w,maxValue:M,xstep:V,ystep:C}=(0,a.useMemo)(()=>{if(!e||!e.data||0===e.data.length)return{};const t=e.data;let a=e.xLabels,l=e.yLabels;const o=t[0].length,r=t.length;t.forEach(t=>{if(t.length!==o)throw new Error("All rows must have the same length")});const s=o/n,i=r/d;let c,h,u;if(i<=1)if(s<=1)c=t;else{c=new Array(r);const e=new Array(n);for(let t=0;t<n;t++)e[t]=Math.round(t*s);for(let n=0;n<r;n++)c[n]=e.map(e=>t[n][e])}else if(c=new Array(d).fill().map(t=>new Array(n).fill(null)),s<=1)for(let e=0;e<d;e++)c[e]=t[Math.round(e*i)];else for(let e=0;e<d;e++){const a=Math.round(e*i);for(let l=0;l<n;l++){const n=Math.round(l*s);c[e][l]=t[a][n]}}if(a||(a=Array.from(Array(o).keys())),l||(l=Array.from(Array(r).keys())),o!==a.length&&console.error("Heatmap error: x labels do not match data dimensions"),r!==l.length&&console.error("Heatmap error: y labels do not match data dimensions"),s<=1)h=a;else{h=new Array(n);for(let t=0;t<n;t++)h[t]=a[Math.round(t*s)]}if(i<=1)u=l;else{u=new Array(d);for(let t=0;t<d;t++)u[t]=l[Math.round(t*i)]}const p=c.flat().filter(t=>!isNaN(t));return{data:c,xLabels:h,yLabels:u,minValue:null!==y&&void 0!==y?y:Math.min(...p),maxValue:null!==g&&void 0!==g?g:Math.max(...p),xstep:s,ystep:i}},[e,n,d,y,g]);if(!e)return'Heatmap Error: No "inputData" was provided';if(!e.data||0===e.data.length)return"Heatmap Error: The data field is empty or non existent";const _=t=>{let{xIndex:e,yIndex:n,value:a,xAxisValue:l,yAxisValue:o}=t;return{xIndex:V<=1?e:Math.round(e*V),yIndex:C<=1?n:Math.round(n*C),value:a,xAxisValue:l,yAxisValue:o}};return(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)("div",{className:o,children:"Loading..."}),children:[(0,c.jsx)(s.A,{data:v,xAxisValues:A,yAxisValues:b,colorPlan:f,xAxisLabel:m,yAxisLabel:x,onClick:t=>{if(!u)return;const e=_(t);return u(e)},onTooltip:t=>{if(!h)return;const e=_(t);return h(e)},className:r,minValue:w,maxValue:M}),p&&(0,c.jsx)(l.A,{children:(0,c.jsx)(i.A,{title:p,minValue:w,maxValue:M,colorPlan:f})})]})}},60676:(t,e,n)=>{n.d(e,{A:()=>h});var a=n(65043),l=n(26494);const o="style_horizontal__KW-k9",r="style_vertical__YKrT2",s="style_heatmap-horizontal__HjdIF",i="style_heatmap-vertical__utgJY";var c=n(85941),d=n(70579);const h=t=>{let{title:e="",maxValue:n=1,minValue:h=0,colorPlan:u,splits:p=19,vertical:f=!1,flip:m=!1,className:x}=t;const{legendData:y,legendLabels:g}=(0,a.useMemo)(()=>{const t=[];if(h===n)t.push(h);else for(let l=h;l<=n;l+=(n-h)/p)t.push(l);let e=t.map(t=>Math.round(t));if(e.length>1)for(let n=1;new Set(e).size<e.length;n++)e=t.map(t=>Math.round(t*10**n)/10**n);const a=f?t.map(t=>[t]):[t];return m&&(a.reverse(),e.reverse()),{legendData:a,legendLabels:e}},[n,h,p,f]);return(0,d.jsxs)(l.A,{className:x||(f?r:o),children:[e,(0,d.jsx)(c.A,{data:y,xAxisValues:f?[""]:g,yAxisValues:f?g:[""],colorPlan:u,flippedXAxisValues:!1,className:f?i:s})]})}},77691:(t,e,n)=>{n.d(e,{jY:()=>l,q_:()=>a});const a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=(a.canvas||(a.canvas=document.createElement("canvas"))).getContext("2d");n.font=e;return n.measureText(t).width},l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=document.createElement("div"),a=document.createTextNode(t);return n.appendChild(a),Object.assign(n.style,{font:e,position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap"}),document.body.appendChild(n),{width:n.clientWidth,height:n.clientHeight}}},85941:(t,e,n)=>{n.d(e,{A:()=>d});var a=n(65043),l=n(77691),o=n(57631),r=n(13232),s=n(70579);const i="normal 10px sans-serif",c="normal 14px sans-serif",d=(0,a.memo)(t=>{let{data:e,xAxisValues:n=[],yAxisValues:d=[],xAxisLabel:h,yAxisLabel:u,verticalPadding:p=0,colorPlan:f=["red","white","blue"],colorScale:m,onTooltip:x,onClick:y,flippedXAxisValues:g=!0,margin:v={top:10,right:10,bottom:10,left:10},className:A,NaNColor:b="#ffffff",minValue:w,maxValue:M,addBorder:V=!0}=t;if(!e)throw new Error("Data is missing. Data is mandatory for the heatmap representation");if(n.length!==new Set(n).size)throw console.log(n),new Error("Duplicated values in the X axis. See console logs");if(d.length!==new Set(d).size)throw console.log(d),new Error("Duplicated values in the Y axis. See console logs");0===n.length&&(n=Array.from(Array(e[0].length).keys())),0===d.length&&(d=Array.from(Array(e[0].length).keys()));const C=[].concat(...e),_=C.filter(t=>!isNaN(t)),E=null!==M&&void 0!==M?M:Math.max(..._),L=null!==w&&void 0!==w?w:Math.min(..._),k=[].concat(...Array(e.length).fill(n)),N=[];for(const a of d)N.push(...Array(n.length).fill(a));const j=[];for(const a in C)j.push({v:C[a],x:k[a],y:N[a]});const S=(0,a.useRef)(null),H=(0,a.useRef)(null),[,T]=(0,a.useState)(null),Y=(0,l.jY)("|",i).height,I=(0,l.jY)("|",c).height+9,R=Math.max(...n.map(t=>(0,l.q_)(t,i)))+9,z=Math.max(...d.map(t=>(0,l.q_)(t,i))),D=h?I:0,W=u?I+9:0,P=g?R+D:Y+D,X=1===d.length?Math.max(z,(0,l.q_)(u,c)):z+W,q={top:v.top,right:v.right,bottom:P+v.bottom,left:X+v.left};return(0,a.useEffect)(()=>{H.current&&H.current.forEach(t=>t.remove());const t=S.current,{clientWidth:a,clientHeight:l}=t.parentElement,s=a-q.left-q.right,i=l-q.top-q.bottom,c=s/(1.05*(g?Y:R)),A=i/(1.05*Y),w=Math.ceil(n.length/c),M=Math.ceil(d.length/A),C=document.createElement("CANVAS");(0,o.Ltv)(t).node().appendChild(C);const _=(0,o.Ltv)(C).attr("id","canvas").attr("width",s).attr("height",i).style("position","absolute").style("top",q.top+"px").style("left",q.left+"px").style("cursor",y?"pointer":void 0),k=_.node().getContext("2d"),N=(0,o.Ltv)(t).append("svg").attr("id","svg").attr("viewBox",[0,0,a,l]),j=(0,o.WH)().range([q.left,s+q.left]).domain(n).paddingInner(0),I=N.append("g").attr("transform","translate(0,"+(i+q.top)+")").call((0,o.l78)(j).tickFormat((t,e)=>e%w===0?t:"")).selectAll("text");g&&I.style("text-anchor","end").attr("dx","-9px").attr("dy","-9px").attr("transform","rotate(-90)"),N.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",q.left+s/2).attr("y",q.top+i+P).text(h);const z=(0,o.WH)().domain(d).range([q.top,i+q.top]).padding(p);N.append("g").attr("transform","translate("+q.left+", 0)").call((0,o.V4s)(z).tickFormat((t,e)=>e%M===0?t:"")),1===d.length?N.append("text").attr("class","y label").attr("text-anchor","start").attr("x",0).attr("y",v.top+i).text(u):N.append("text").attr("class","y label").attr("text-anchor","middle").attr("x",-(q.top+i/2)).attr("y",v.left+W-9-9).attr("transform","rotate(-90)").text(u);const D=t=>{if(isNaN(t))return b;return(m||(0,o.m4Y)().range(f).domain([L,(L+E)/2,E]))(t)},X=j.bandwidth(),B=z.bandwidth();e.forEach((t,e)=>{const a=z(d[e])-q.top;t.forEach((t,e)=>{const l=j(n[e])-q.left;k.fillStyle=D(t),k.fillRect(l,a,X,B),V&&(k.strokeStyle=D(t),k.lineWidth=1,k.strokeRect(l,a,X,B))})});const F=t=>{const a=C.getBoundingClientRect(),l=t.clientX-a.left,o=t.clientY-a.top;let r=Math.floor(l/j.step()),s=Math.floor(o/z.step());const i=e[0].length-1;r<0&&(r=0),r>i&&(r=i);const c=e.length-1;s<0&&(s=0),s>c&&(s=c);const h=n[r],u=d[s];return{xIndex:r,yIndex:s,value:e[s][r],xAxisValue:h,yAxisValue:u}};let G;x&&(G=document.createElement("div"),Object.assign(G.style,{display:"none",position:"absolute",pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),t.appendChild(G),C.onmousemove=e=>{const n=F(e);G.innerText=x(n),G.style.display="inline-block";const{x:a,y:l}=(0,r.L)(t,G,{x:e.clientX,y:e.clientY},3);G.style.left=a+"px",G.style.top=l+"px"},C.onmouseleave=()=>{G.style.display="none"}),y&&(C.onmousedown=t=>{const e=F(t);y(e)}),H.current=G?[N,_,G]:[N,_];const K=()=>{T({innerWidth:window.innerWidth,innerHeight:window.innerHeight})};return window.addEventListener("resize",K),()=>{window.removeEventListener("resize",K)}}),(0,s.jsx)("div",{className:A,style:A?void 0:{height:"600px",width:"600px"},children:(0,s.jsx)("div",{ref:S,id:"container",style:{position:"relative",width:"100%",height:"100%"}})})})}}]);
//# sourceMappingURL=4172.8a194ec9.chunk.js.map