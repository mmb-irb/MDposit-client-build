"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[4963,8029,9632],{8029:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(65043);const n=e=>({async as(t){let s=t,a=await e();if(a.default&&(a=a.default),!s&&a.is&&"string"===typeof a.is&&(s=a.is),!s)throw new Error("Please a specify a name for custom element");const n=window.customElements.get(s);if(n){if(n===a)return s;throw new Error("This name is already used by another component")}return window.customElements.define(s,a),s}});var r=s(9632),i=s(24963),o=s(70579);let c,l=[];const u=new Promise(e=>{c=e}),d=(0,a.memo)(e=>{let{match:t,length:s,shape:n,classAttr:r}=e;const i=(0,a.useRef)();return(0,a.useEffect)(()=>{(async()=>{await u,i.current.data=[t],i.current.contributors=t.signatures||[]})()},[]),(0,o.jsx)("protvista-interpro-track",{ref:i,length:s,shape:n,class:r})}),h=(0,a.memo)(e=>{let{chain:t,data:u,firstResidueNumber:h}=e;(0,a.useEffect)(()=>{(async()=>{l.length>0||(l=[await n(()=>s.e(2737).then(s.bind(s,48501))).as("protvista-manager"),n(()=>Promise.all([s.e(1502),s.e(1307)]).then(s.bind(s,77665))).as("protvista-sequence"),n(()=>s.e(5874).then(s.bind(s,6843))).as("protvista-navigation"),n(()=>Promise.all([s.e(1502),s.e(2707)]).then(s.bind(s,67340))).as("protvista-coloured-sequence"),n(()=>Promise.all([s.e(1502),s.e(2707)]).then(s.bind(s,67340))).as("protvista-coloured-sequence"),n(()=>Promise.all([s.e(7955),s.e(1502),s.e(6525)]).then(s.bind(s,88393))).as("protvista-interpro-track")],await Promise.all(l),c())})()},[]);const g=u.sequence,f=g.length,m=u.interproscan;if(!m)return"No InterProScan data";const p=m.results[0].matches,b=(0,r.default)(p,h),y=h+f,v=" ".repeat(h)+g;return(0,o.jsxs)("protvista-manager",{attributes:"length displaystart displayend",length:f,chain:t,children:[(0,o.jsx)("protvista-navigation",{rulerstart:h,displaystart:h,displayend:y}),(0,o.jsxs)("div",{className:i.default.entries,children:[(0,o.jsx)("protvista-sequence",{sequence:v,height:"37"}),(0,o.jsx)("protvista-coloured-sequence",{sequence:v,scale:"hydrophobicity-scale",height:"15"}),b.length?b.map((e,t)=>(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:i.default.label,children:e.accession}),(0,o.jsx)(d,{match:e,shape:"roundRectangle",classAttr:e.signatures?i.default["has-signatures"]:void 0})]},t)):"No entry was found for this sequence"]})]})})},9632:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});const a=e=>{let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return t},n=e=>{const t=a(e);return`hsla(${Math.abs(t%360)}, ${Math.abs(t%20)+40}%, ${Math.abs(t%10)+45}%, 1)`},r=(e,t)=>Number.isFinite(t)?e[0]=t:e[0],i=(e,t)=>Number.isFinite(t)?e[1]=t:e[1],o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const a=Array.from(e).sort((e,s)=>t(e)-t(s));let n,o=[];for(const r of a)n?s(n)<t(r)?(o.push(n),n=r):s(n,Math.max(s(n),s(r))):n=r;return n&&o.push(n),o},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map(e=>{return{fragments:(s=e["location-fragments"],a=t,s.forEach(e=>{e.start+=a-1,e.end+=a-1}),s)};var s,a})},l=(e,t)=>{const s=[];for(const a of e||[])if(a.signature.entry){let e=s.find(e=>e.accession===a.signature.entry.accession);e||(e={accession:a.signature.entry.accession,db:"InterPro",signatures:[],locations:[],color:n(a.signature.entry.accession)},s.push(e));const r=c(a.locations,t);e.locations=o([...e.locations,...r],(e,t)=>Number.isFinite(t)?e.fragments[0].start=t:e.fragments[0].start,(e,t)=>Number.isFinite(t)?e.fragments[0].end=t:e.fragments[0].end),e.signatures.push({accession:a.signature.accession,db:a.signature.signatureLibraryRelease.library,locations:r,color:e.color.replace(", 1)",", 0.25)")})}else s.push({accession:a.signature.accession,db:a.signature.signatureLibraryRelease.library,locations:c(a.locations,t),color:n(a["model-ac"])});return s.sort((e,t)=>e.locations[0].fragments[0].start-t.locations[0].fragments[0].start).sort((e,t)=>(t.signatures||[]).length-(e.signatures||[]).length),s}},24963:(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});const a={entries:"style_entries__T4f7r","has-signatures":"style_has-signatures__4CW-U",label:"style_label__UT0BE"}}}]);
//# sourceMappingURL=8029.a49f63e0.chunk.js.map