"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[2100,8217],{10939:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(89379),s=n(80045),i=n(65043),a=n(12110),o=n(17604);const l="style_container__M9GCG";var c=n(70579);const d=["overrideComponent"],h={opacity:[0,1]};(0,o.A)()||(h.transform=["translateY(50px)","translateY(0)"]);const u={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},m=(0,i.forwardRef)((e,t)=>{let{overrideComponent:n}=e,o=(0,s.A)(e,d);const m=(0,i.useRef)(null);(0,i.useLayoutEffect)(()=>{const e=m.current&&m.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex(t=>e===t),n=e.animate(h,(0,r.A)((0,r.A)({},u),{},{delay:150*t}));return()=>n.cancel()},[]);const f=n?"section":a.A;return(0,c.jsx)("div",{ref:m,className:l,children:(0,c.jsx)(f,(0,r.A)((0,r.A)({component:"section"},o),{},{ref:t}))})})},18217:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(65043),s=n(26494),i=n(71806),a=n(84882),o=n(28076),l=n(10039),c=n(73460),d=n(85865),h=n(10939),u=n(34088),m=n(17545),f=n(11906),x=n(92127),A=n(44642),p=n(58338),y=n(29449),j=n(95747),v=n(92249),g=n(62100),w=n(70579);const S=(0,r.lazy)(()=>Promise.all([n.e(3969),n.e(5291),n.e(5077)]).then(n.bind(n,75291))),b=()=>{const{accessionAndMdNumber:e,topology:t}=(0,r.useContext)(y.f),{loading:n,payload:b,error:C}=(0,p.A)("".concat(j.nP,"/").concat(e,"/analyses/fluctuation/"));(0,r.useMemo)(()=>{if(!b||!t)return;const e=b.y.rmsf;new v.A(b.version)<"0.1"&&(e.data=e.data.map(e=>10*e),e.average=10*e.average,e.stddev=10*e.stddev);const n=t.pbcAtoms;n&&(e.data=e.data.filter((e,t)=>!n.has(t)))},[b,t]);const[_,z]=(0,r.useState)(null),[M,k]=(0,r.useState)(new Set),N=(0,r.useMemo)(()=>Array.from(M).map(e=>({x:e,attr:{fill:"#c8c8c8"}})),[M]),{xColors:R,xTooltip:E}=(0,r.useMemo)(()=>{if(!t)return{};return{xColors:t.getAtomElementColors(),xTooltip:(e,n)=>{const r="atom "+(n+1),s=t.getAtomByIndex(n),i=s.name;if(!i)return r;const a=s.residue.name;return a?r+" (".concat(a," - ").concat(i,")"):r+" (".concat(i,")")}}},[t]);if(!t)return(0,w.jsx)(m.A,{});if(n)return(0,w.jsx)(m.A,{});if(C)return C.toString();if(!b)return"Something bad happened";const P=e=>Math.round(100*e)/100;return(0,w.jsxs)(r.Suspense,{fallback:(0,w.jsx)(m.A,{}),children:[(0,w.jsx)(h.A,{className:g.default.card,children:(0,w.jsx)(s.A,{children:(0,w.jsxs)(i.A,{children:[(0,w.jsx)(a.A,{children:(0,w.jsxs)(o.A,{children:[(0,w.jsx)(l.A,{children:"name"}),(0,w.jsx)(l.A,{children:"mean (\xc5)"}),(0,w.jsx)(l.A,{children:"standard deviation (\xc5)"})]})}),(0,w.jsx)(c.A,{children:(0,w.jsxs)(o.A,{children:[(0,w.jsx)(l.A,{children:"Fluctuation"}),(0,w.jsx)(l.A,{children:P(b.y.rmsf.average)}),(0,w.jsx)(l.A,{children:P(b.y.rmsf.stddev)})]})})]})})}),(0,w.jsx)(h.A,{className:g.default.card,children:(0,w.jsxs)(s.A,{children:[(0,w.jsx)(d.A,{variant:"h6"}),(0,w.jsx)(S,{yData:b.y,step:1,xAxisLabel:"Atom",xColors:R,xTooltip:E,yAxisLabel:"Fluctuation (\xc5)",type:"dash",onHover:z,onSelect:e=>{k(t=>{if(e instanceof Set)return e;const n=new Set(t);return n[n.has(e)?"delete":"add"](e),n})},mean:!0,standardDeviation:!0,marks:N,fullPrecision:!0}),(0,w.jsx)("div",{className:g.default.right,children:(0,w.jsxs)(f.A,{variant:"contained",disabled:!M.size,onClick:()=>k(new Set),children:[(0,w.jsx)(x.g,{icon:A.UB}),"\xa0",(0,w.jsx)("span",{children:"Clear selection"})]})})]})}),(0,w.jsx)(u.A,{newViewer:M&&M.size?{selectedAtoms:_?new Set([...M,_]):M}:null,nailing:!1,onClose:e=>k(t=>e.selectedAtoms===t?new Set:t)})]})}},34088:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(89379),s=n(65043),i=n(43126),a=n(10939);const o="style_rnd__Txifm",l="style_floating-card__HHpby";var c=n(70579);const d=(0,s.lazy)(()=>Promise.all([n.e(7784),n.e(8095),n.e(3845),n.e(9070),n.e(247),n.e(7955),n.e(8677),n.e(4061),n.e(9215),n.e(9117)]).then(n.bind(n,45944)));let h=0;const u=e=>{const t=e.viewerRef||(0,s.useRef)(null),[n,u]=(0,s.useState)(()=>{const{innerWidth:e,innerHeight:t,scrollY:n}=window,r=document.querySelector("main").offsetTop,s=Math.max(Math.min(e/4,t/4),150),i=1.5*s;return{width:2*s,height:i,x:0,y:t-r-i-20+n}});return(0,c.jsx)(i.p,{position:{x:n.x,y:n.y},size:{width:n.width,height:n.height},style:{zIndex:(h+=1,h)},className:o,"data-rnd":!0,bounds:"window",cancel:"canvas, [data-popover], #preventDragSize, .prevent-drag",onDragStart:()=>{u((0,r.A)({},n))},onResizeStart:()=>{u((0,r.A)({},n))},onDragStop:(e,t)=>{0===e.layerX&&0===e.layerY||n.x===t.x&&n.y===t.y||u((0,r.A)((0,r.A)({},n),{},{x:t.x,y:t.y}))},onResize:()=>t.current&&t.current.autoResize(),onResizeStop:(e,t,n,s,i)=>{u((0,r.A)({width:n.style.width,height:n.style.height},i))},children:(0,c.jsx)(a.A,{className:l,elevation:4,children:(0,c.jsx)(s.Suspense,{fallback:null,children:(0,c.jsx)(d,(0,r.A)({className:l,ref:t,startsPlaying:!1},e))})})})},m=e=>{let{newViewer:t,nailing:n=!0,onNail:i,onClose:a}=e;const[o,l]=(0,s.useState)([]),d=[...o],h=(0,s.useRef)([]);if(t){const e=()=>{let e=0;for(;e<999;){if(-1===h.current.indexOf(e))return e;e+=1}console.error("Maximum number of viewers reached")};t.id=e(),t.close=()=>{n&&l(e=>{const n=[...e],r=e.indexOf(t);return-1!==r&&n.splice(r,1),n}),a&&a(t),h.current.push(t.id)},n&&(t.nail=()=>{l(e=>[...e,t]),i&&i(t),h.current.push(t.id)}),d.push(t)}return d.map(e=>(0,c.jsx)(u,(0,r.A)({},e),e.id))}},62100:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r={card:"style_card__9qUkb",right:"style_right__Y0Fdo"}},92249:(e,t,n)=>{n.d(t,{A:()=>s});class r{constructor(e){void 0===e&&(e="0.0.0");const t=e.split(".");if(this.major=t[0]&&+t[0],this.major>999)throw new Error("Major version is greater than 999 and this is not allowed");if(this.minor=t[1]&&+t[1],this.minor>999)throw new Error("Minor version is greater than 999 and this is not allowed");if(this.patch=t[2]&&+t[2],this.patch>999)throw new Error("Patch version is greater than 999 and this is not allowed")}toString(){let e=this.major.toString();return void 0===this.minor?e:(e+="."+this.minor.toString(),void 0===this.patch||(e+="."+this.patch.toString()),e)}equals(e){return"string"===typeof e?this.equals(new r(e)):e.major===this.major&&((void 0===e.minor||e.minor===this.minor)&&(void 0===e.patch||e.patch===this.patch))}}r.prototype.valueOf=function(){return 1e6*this.major+1e3*(this.minor||0)+(this.patch||0)};const s=r}}]);
//# sourceMappingURL=8217.56e12ad7.chunk.js.map