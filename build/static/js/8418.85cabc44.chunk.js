"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[5471,8418],{10939:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(89379),a=n(80045),o=n(65043),c=n(12110),s=n(17604);const l="style_container__M9GCG";var i=n(70579);const d=["overrideComponent"],u={opacity:[0,1]};(0,s.A)()||(u.transform=["translateY(50px)","translateY(0)"]);const h={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},m=(0,o.forwardRef)((e,t)=>{let{overrideComponent:n}=e,s=(0,a.A)(e,d);const m=(0,o.useRef)(null);(0,o.useLayoutEffect)(()=>{const e=m.current&&m.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex(t=>e===t),n=e.animate(u,(0,r.A)((0,r.A)({},h),{},{delay:150*t}));return()=>n.cancel()},[]);const p=n?"section":c.A;return(0,i.jsx)("div",{ref:m,className:l,children:(0,i.jsx)(p,(0,r.A)((0,r.A)({component:"section"},s),{},{ref:t}))})})},34088:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(89379),a=n(65043),o=n(43126),c=n(10939);const s="style_rnd__Txifm",l="style_floating-card__HHpby";var i=n(70579);const d=(0,a.lazy)(()=>Promise.all([n.e(7784),n.e(8095),n.e(3845),n.e(9070),n.e(247),n.e(7955),n.e(8677),n.e(4061),n.e(335),n.e(9117)]).then(n.bind(n,14696)));let u=0;const h=e=>{const t=e.viewerRef||(0,a.useRef)(null),[n,h]=(0,a.useState)(()=>{const{innerWidth:e,innerHeight:t,scrollY:n}=window,r=document.querySelector("main").offsetTop,a=Math.max(Math.min(e/4,t/4),150),o=1.5*a;return{width:2*a,height:o,x:0,y:t-r-o-20+n}});return(0,i.jsx)(o.p,{position:{x:n.x,y:n.y},size:{width:n.width,height:n.height},style:{zIndex:(u+=1,u)},className:s,"data-rnd":!0,bounds:"window",cancel:"canvas, [data-popover], #preventDragSize, .prevent-drag",onDragStart:()=>{h((0,r.A)({},n))},onResizeStart:()=>{h((0,r.A)({},n))},onDragStop:(e,t)=>{0===e.layerX&&0===e.layerY||n.x===t.x&&n.y===t.y||h((0,r.A)((0,r.A)({},n),{},{x:t.x,y:t.y}))},onResize:()=>t.current&&t.current.autoResize(),onResizeStop:(e,t,n,a,o)=>{h((0,r.A)({width:n.style.width,height:n.style.height},o))},children:(0,i.jsx)(c.A,{className:l,elevation:4,children:(0,i.jsx)(a.Suspense,{fallback:null,children:(0,i.jsx)(d,(0,r.A)({className:l,ref:t,startsPlaying:!1},e))})})})},m=e=>{let{newViewer:t,nailing:n=!0,onNail:o,onClose:c}=e;const[s,l]=(0,a.useState)([]),d=[...s],u=(0,a.useRef)([]);if(t){const e=()=>{let e=0;for(;e<999;){if(-1===u.current.indexOf(e))return e;e+=1}console.error("Maximum number of viewers reached")};t.id=e(),t.close=()=>{n&&l(e=>{const n=[...e],r=e.indexOf(t);return-1!==r&&n.splice(r,1),n}),c&&c(t),u.current.push(t.id)},n&&(t.nail=()=>{l(e=>[...e,t]),o&&o(t),u.current.push(t.id)}),d.push(t)}return d.map(e=>(0,i.jsx)(h,(0,r.A)({},e),e.id))}},48940:(e,t,n)=>{n.d(t,{G:()=>a,c:()=>r});const r=e=>{if(!e)return;return e.reduce((e,t)=>e+t,0)/e.length},a=e=>{if(!e)return;const t=e.reduce((e,t)=>e+t,0),n=e.length,r=t/n,a=Math.sqrt(e.map(e=>Math.pow(e-r,2)).reduce((e,t)=>e+t)/n);return{mean:r,stdv:a}}},51962:(e,t,n)=>{n.d(t,{A:()=>M});var r=n(98587),a=n(58168),o=n(65043),c=n(58387),s=n(98610),l=n(60061),i=n(33064),d=n(59662),u=n(70579);const h=(0,d.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),m=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var x=n(6803),f=n(98206),A=n(34535),v=n(61475),y=n(92532),b=n(72372);function j(e){return(0,b.Ay)("MuiCheckbox",e)}const g=(0,y.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),S=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],k=(0,A.Ay)(i.A,{shouldForwardProp:e=>(0,v.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat((0,x.A)(n.size))],"default"!==n.color&&t["color".concat((0,x.A)(n.color))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(g.checked,", &.").concat(g.indeterminate)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(g.disabled)]:{color:(t.vars||t).palette.action.disabled}})}),w=(0,u.jsx)(m,{}),z=(0,u.jsx)(h,{}),C=(0,u.jsx)(p,{}),M=o.forwardRef(function(e,t){var n,l;const i=(0,f.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:d=w,color:h="primary",icon:m=z,indeterminate:p=!1,indeterminateIcon:A=C,inputProps:v,size:y="medium",className:b}=i,g=(0,r.A)(i,S),M=p?A:m,P=p?A:d,_=(0,a.A)({},i,{color:h,indeterminate:p,size:y}),O=(e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,c={root:["root",n&&"indeterminate","color".concat((0,x.A)(r)),"size".concat((0,x.A)(o))]},l=(0,s.A)(c,j,t);return(0,a.A)({},t,l)})(_);return(0,u.jsx)(k,(0,a.A)({type:"checkbox",inputProps:(0,a.A)({"data-indeterminate":p},v),icon:o.cloneElement(M,{fontSize:null!=(n=M.props.fontSize)?n:y}),checkedIcon:o.cloneElement(P,{fontSize:null!=(l=P.props.fontSize)?l:y}),ownerState:_,ref:t,className:(0,c.A)(O.root,b)},g,{classes:O}))})},58418:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(89379),a=n(65043),o=n(26494),c=n(8939),s=n(24056),l=n(85865),i=n(71806),d=n(84882),u=n(28076),h=n(10039),m=n(73460),p=n(83558),x=n(51962),f=n(10939),A=n(34088),v=n(17545),y=n(58338),b=n(29449),j=n(95747),g=n(48940),S=n(75471),k=n(70579);const w=(0,a.lazy)(()=>Promise.all([n.e(7631),n.e(3969),n.e(5291),n.e(5077)]).then(n.bind(n,75291))),z=["black","red","orange","yellow","green","blue","purple"],C=()=>{const{accession:e,accessionAndMdNumber:t}=(0,a.useContext)(b.f),{loading:n,payload:C,error:M}=(0,y.A)("".concat(j.nP,"/").concat(t,"/analyses/lipid-order/")),{loading:P,payload:_,error:O}=(0,y.A)("".concat(j.nP,"/").concat(t,"/analyses/mem-map/")),[N,R]=(0,a.useState)(null),[I,D]=(0,a.useState)({}),[H,L]=(0,a.useState)(null),[E,V]=(0,a.useState)(null),[G,Y]=(0,a.useState)(!1),[B,T]=(0,a.useState)(!0),q=(0,a.useMemo)(()=>C?Object.keys(C.data):[],[C]);(0,a.useMemo)(()=>{q.length&&!N&&R(q[0])},[q,N]);const W=(0,a.useMemo)(()=>{if(!C||!N||!_||!_.references)return{};const e={},t={},n=C.data[N];return Object.entries(n).forEach(n=>{let[r,a]=n;const o="".concat(_.references[N].resname," tail ").concat(parseInt(r)+1),c={data:a.avg.map(e=>G?-e:e),areaStdDev:a.std,labels:a.atoms,color:z[parseInt(r)%z.length]},{mean:s,stdv:l}=(0,g.G)(c.data);c.average=s,c.stddev=l,e[o]=c,t[o]=!0}),D(t),e},[C,N,G,_]),X=(0,a.useMemo)(()=>W&&I?Math.max(...Object.entries(W).filter(e=>{let[t]=e;return I[t]}).map(e=>{let[t,n]=e;return Math.max(...n.areaStdDev||[])})):0,[W,I]),F=(0,a.useMemo)(()=>{if(I&&W&&_)return{name:_.references[N].resname,type:"licorice",color:"orange",opacity:.5,selection:"( ".concat(_.references[N].indices," )"),reference:N,show:!0}},[N,_]);(0,a.useEffect)(()=>{if(!I||!W||!_)return;const e=[F];null!==H&&Object.keys(W).forEach((t,n)=>{const r=W[t].labels[H];r&&e.push({name:"".concat(r),type:"ball+stick",color:z[n%z.length],opacity:.9,selection:"( ".concat(_.references[N].indices," ) and .").concat(r),other:{radius:.3},show:I[t],reference:"".concat(N," ").concat(n)})}),V(e)},[F,N,H,I,W,_]);const J=(0,a.useMemo)(()=>null!==H?[{x:H,attr:{fill:"#c8c8c8"}}]:[],[H]);if(n)return(0,k.jsx)(v.A,{});if(M)return M.toString();if(!C||!_)return"Something bad happened with Lipid Order analysis";const K=e=>Math.round(100*e)/100;return(0,k.jsxs)(a.Suspense,{fallback:(0,k.jsx)(v.A,{}),children:[(0,k.jsx)(f.A,{className:S.default.card,children:(0,k.jsxs)(o.A,{children:[(0,k.jsx)(c.A,{value:N,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",onChange:(e,t)=>{R(t)},className:S.default["margined-bottom"],children:q.map(e=>{var t,n,r,a;return(0,k.jsx)(s.A,{value:e,label:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,k.jsx)("span",{children:(null===_||void 0===_||null===(t=_.references)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.resname)||e}),(0,k.jsx)(l.A,{variant:"caption",color:"text.secondary",children:(null===_||void 0===_||null===(r=_.references)||void 0===r||null===(a=r[e])||void 0===a?void 0:a.lipidmaps.name)||"Lipid"})]})},e)})}),(0,k.jsxs)(i.A,{padding:"checkbox",children:[(0,k.jsx)(d.A,{children:(0,k.jsxs)(u.A,{children:[(0,k.jsx)(h.A,{children:"Lipid"}),(0,k.jsx)(h.A,{children:"Mean Order Parameter"}),(0,k.jsx)(h.A,{children:"Standard Deviation"})]})}),(0,k.jsx)(m.A,{children:Object.entries(W).map((e,t)=>{let[n,a]=e;return(0,k.jsxs)(u.A,{children:[(0,k.jsx)(h.A,{children:(0,k.jsx)(p.A,{onChange:()=>D(e=>(0,r.A)((0,r.A)({},e),{},{[n]:!e[n]})),control:(0,k.jsx)(x.A,{checked:I[n],style:{color:a.color}}),label:n})}),(0,k.jsx)(h.A,{children:K(a.average)}),(0,k.jsx)(h.A,{children:K(a.stddev)})]},n)})})]})]})}),(0,k.jsxs)(f.A,{className:S.default.card,children:[(0,k.jsx)(p.A,{control:(0,k.jsx)(x.A,{checked:G,onChange:e=>Y(e.target.checked)}),label:"Invert Y-axis values"}),(0,k.jsx)(p.A,{control:(0,k.jsx)(x.A,{checked:B,onChange:e=>T(e.target.checked)}),label:"Show standard deviation"}),(0,k.jsx)(o.A,{children:(0,k.jsx)(w,{yData:W,xAxisLabel:"Carbon Position",yAxisLabel:"Order Parameter",type:"line",selfLegend:!1,dataDisplay:I,labelsOnHover:!0,xTooltip:(e,t)=>"Position ".concat(t+1),onSelect:L,marks:J,areaStdDev:B,yPadding:B?X:0})})]}),(0,k.jsx)(A.A,{newViewer:"number"===typeof H?{accession:e,xSelection:H,representationsState:[E,V]}:null,onNail:e=>L(t=>e.xSelection===t?null:t),onClose:e=>L(t=>e.xSelection===t?null:t)})]})}},75471:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r={card:"style_card__Tu+j+","margined-bottom":"style_margined-bottom__WM5Gb"}}}]);
//# sourceMappingURL=8418.85cabc44.chunk.js.map