"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[2633,9117,9696],{10939:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(89379),r=n(80045),o=n(65043),l=n(12110),s=n(17604);const i="style_container__M9GCG";var c=n(70579);const d=["overrideComponent"],u={opacity:[0,1]};(0,s.A)()||(u.transform=["translateY(50px)","translateY(0)"]);const h={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},f=(0,o.forwardRef)((e,t)=>{let{overrideComponent:n}=e,s=(0,r.A)(e,d);const f=(0,o.useRef)(null);(0,o.useLayoutEffect)(()=>{const e=f.current&&f.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex(t=>e===t),n=e.animate(u,(0,a.A)((0,a.A)({},h),{},{delay:150*t}));return()=>n.cancel()},[]);const p=n?"section":l.A;return(0,c.jsx)("div",{ref:f,className:i,children:(0,c.jsx)(p,(0,a.A)((0,a.A)({component:"section"},s),{},{ref:t}))})})},12110:(e,t,n)=>{n.d(t,{A:()=>g});var a=n(58168),r=n(98587),o=n(65043),l=n(58387),s=n(98610),i=n(34535),c=n(98206),d=n(63336),u=n(92532),h=n(72372);function f(e){return(0,h.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var p=n(70579);const m=["className","raised"],x=(0,i.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),g=o.forwardRef(function(e,t){const n=(0,c.b)({props:e,name:"MuiCard"}),{className:o,raised:i=!1}=n,d=(0,r.A)(n,m),u=(0,a.A)({},n,{raised:i}),h=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"]},f,t)})(u);return(0,p.jsx)(x,(0,a.A)({className:(0,l.A)(h.root,o),elevation:i?8:void 0,ref:t,ownerState:u},d))})},32633:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a={card:"style_card__pEq-k",tabs:"style_tabs__HhB5H",nglcard:"style_nglcard__3eXUT",container:"style_container__eab4U",legend_container:"style_legend_container__swfrT",legend:"style_legend__SS-DS"}},55308:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(65043),r=n(89257),o=n(26494),l=n(8939),s=n(24056),i=n(10939),c=n(14696),d=n(17545),u=(n(60676),n(58338)),h=n(29449),f=n(95747),p=n(10419),m=n(32633),x=n(82746),g=n(70579);const y={triggerOnce:!0,rootMargin:"100px"},v=()=>{const{accessionAndMdNumber:e,metadata:t,chains:n}=(0,a.useContext)(h.f),[v,A]=(0,r.Wx)(y),b=(0,a.useRef)(null),_=(0,p.A)(),{loading:w,payload:M,error:j}=(0,u.A)("".concat(f.nP,"/").concat(e,"/analyses/lipid-inter/")),{loading:C,payload:S,error:N}=(0,u.A)("".concat(f.nP,"/").concat(e,"/analyses/mem-map/")),[E,k]=(0,a.useState)(null),[V,L]=(0,a.useState)(null),R=(0,a.useRef)({}),Y=(0,a.useMemo)(()=>M&&M.data?Object.keys(M.data):[],[M]);(0,a.useMemo)(()=>{Y.length&&!E&&k(Y[0])},[Y,E]);const W=e=>{if(!M||!M.data||!e)return null;const t=Math.max(...M.data[e]);return x.hD.addScheme(function(n){this.atomColor=function(n){if(!n.residueIndex)return 13421772;const a=n.residueIndex,r=M.data[e];if(r&&a<r.length){const e=r[a];if(e<0)return 13421772;const n=e/t;let o,l,s=255;return n<.5?(o=255-Math.floor(128*n*2),l=255-Math.floor(255*n*2)):(o=127-Math.floor(127*(n-.5)*2),l=0),s<<16|o<<8|l}return 13421772}})};return(0,a.useEffect)(()=>{if(!_||0===_.length||!E)return;const e=(t=E,R.current[t]||(R.current[t]=W(t)),R.current[t]);var t;_.forEach(t=>{-1!==n.indexOf(t.selection.slice(1,2))||"Protein"===t.name?(t.color="custom",t.type="spacefill",t.customScheme=e):"Membrane"!==t.name&&"M"!==t.name||(t.color="orange",t.opacity=0)});const a={name:E,type:"licorice",color:"orange",opacity:.3,selection:"( ".concat(E," )")};L([..._,a])},[E,_,S]),w||C?(0,g.jsx)(d.A,{}):j?j.toString():N?N.toString():M&&S?(0,g.jsxs)(a.Suspense,{fallback:(0,g.jsx)(d.A,{}),children:[(0,g.jsx)(i.A,{className:m.default.card,children:(0,g.jsx)(o.A,{children:(0,g.jsx)(l.A,{value:E,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",onChange:(e,t)=>{k(t)},className:m.default.tabs,children:Y.map(e=>{var t,n;return(0,g.jsx)(s.A,{value:e,label:(0,g.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,g.jsx)("span",{children:(null===S||void 0===S||null===(t=S.references)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.resname)||e})})},e)})})})}),(0,g.jsx)(i.A,{className:m.default.nglcard,ref:v,children:A?(0,g.jsx)(c.default,{className:m.default.container,representationsState:[V,L],ref:b,rotateX:!0}):(0,g.jsx)("div",{style:{height:"50vh"}})})]}):"Something bad happened with Lipid Interactions analysis"}},60676:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(65043),r=n(26494);const o="style_horizontal__KW-k9",l="style_vertical__YKrT2",s="style_heatmap-horizontal__HjdIF",i="style_heatmap-vertical__utgJY";var c=n(85941),d=n(70579);const u=e=>{let{title:t="",maxValue:n=1,minValue:u=0,colorPlan:h,splits:f=19,vertical:p=!1,flip:m=!1,className:x}=e;const{legendData:g,legendLabels:y}=(0,a.useMemo)(()=>{const e=[];if(u===n)e.push(u);else for(let r=u;r<=n;r+=(n-u)/f)e.push(r);let t=e.map(e=>Math.round(e));if(t.length>1)for(let n=1;new Set(t).size<t.length;n++)t=e.map(e=>Math.round(e*10**n)/10**n);const a=p?e.map(e=>[e]):[e];return m&&(a.reverse(),t.reverse()),{legendData:a,legendLabels:t}},[n,u,f,p]);return(0,d.jsxs)(r.A,{className:x||(p?l:o),children:[t,(0,d.jsx)(c.A,{data:g,xAxisValues:p?[""]:y,yAxisValues:p?y:[""],colorPlan:h,flippedXAxisValues:!1,className:p?i:s})]})}},77691:(e,t,n)=>{n.d(t,{jY:()=>r,q_:()=>a});const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=(a.canvas||(a.canvas=document.createElement("canvas"))).getContext("2d");n.font=t;return n.measureText(e).width},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=document.createElement("div"),a=document.createTextNode(e);return n.appendChild(a),Object.assign(n.style,{font:t,position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap"}),document.body.appendChild(n),{width:n.clientWidth,height:n.clientHeight}}},85941:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),r=n(77691),o=n(57631),l=n(13232),s=n(70579);const i="normal 10px sans-serif",c="normal 14px sans-serif",d=(0,a.memo)(e=>{let{data:t,xAxisValues:n=[],yAxisValues:d=[],xAxisLabel:u,yAxisLabel:h,verticalPadding:f=0,colorPlan:p=["red","white","blue"],colorScale:m,onTooltip:x,onClick:g,flippedXAxisValues:y=!0,margin:v={top:10,right:10,bottom:10,left:10},className:A,NaNColor:b="#ffffff",minValue:_,maxValue:w,addBorder:M=!0}=e;if(!t)throw new Error("Data is missing. Data is mandatory for the heatmap representation");if(n.length!==new Set(n).size)throw console.log(n),new Error("Duplicated values in the X axis. See console logs");if(d.length!==new Set(d).size)throw console.log(d),new Error("Duplicated values in the Y axis. See console logs");0===n.length&&(n=Array.from(Array(t[0].length).keys())),0===d.length&&(d=Array.from(Array(t[0].length).keys()));const j=[].concat(...t),C=j.filter(e=>!isNaN(e)),S=null!==w&&void 0!==w?w:Math.max(...C),N=null!==_&&void 0!==_?_:Math.min(...C),E=[].concat(...Array(t.length).fill(n)),k=[];for(const a of d)k.push(...Array(n.length).fill(a));const V=[];for(const a in j)V.push({v:j[a],x:E[a],y:k[a]});const L=(0,a.useRef)(null),R=(0,a.useRef)(null),[,Y]=(0,a.useState)(null),W=(0,r.jY)("|",i).height,D=(0,r.jY)("|",c).height+9,H=Math.max(...n.map(e=>(0,r.q_)(e,i)))+9,I=Math.max(...d.map(e=>(0,r.q_)(e,i))),z=u?D:0,P=h?D+9:0,T=y?H+z:W+z,X=1===d.length?Math.max(I,(0,r.q_)(h,c)):I+P,q={top:v.top,right:v.right,bottom:T+v.bottom,left:X+v.left};return(0,a.useEffect)(()=>{R.current&&R.current.forEach(e=>e.remove());const e=L.current,{clientWidth:a,clientHeight:r}=e.parentElement,s=a-q.left-q.right,i=r-q.top-q.bottom,c=s/(1.05*(y?W:H)),A=i/(1.05*W),_=Math.ceil(n.length/c),w=Math.ceil(d.length/A),j=document.createElement("CANVAS");(0,o.Ltv)(e).node().appendChild(j);const C=(0,o.Ltv)(j).attr("id","canvas").attr("width",s).attr("height",i).style("position","absolute").style("top",q.top+"px").style("left",q.left+"px").style("cursor",g?"pointer":void 0),E=C.node().getContext("2d"),k=(0,o.Ltv)(e).append("svg").attr("id","svg").attr("viewBox",[0,0,a,r]),V=(0,o.WH)().range([q.left,s+q.left]).domain(n).paddingInner(0),D=k.append("g").attr("transform","translate(0,"+(i+q.top)+")").call((0,o.l78)(V).tickFormat((e,t)=>t%_===0?e:"")).selectAll("text");y&&D.style("text-anchor","end").attr("dx","-9px").attr("dy","-9px").attr("transform","rotate(-90)"),k.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",q.left+s/2).attr("y",q.top+i+T).text(u);const I=(0,o.WH)().domain(d).range([q.top,i+q.top]).padding(f);k.append("g").attr("transform","translate("+q.left+", 0)").call((0,o.V4s)(I).tickFormat((e,t)=>t%w===0?e:"")),1===d.length?k.append("text").attr("class","y label").attr("text-anchor","start").attr("x",0).attr("y",v.top+i).text(h):k.append("text").attr("class","y label").attr("text-anchor","middle").attr("x",-(q.top+i/2)).attr("y",v.left+P-9-9).attr("transform","rotate(-90)").text(h);const z=e=>{if(isNaN(e))return b;return(m||(0,o.m4Y)().range(p).domain([N,(N+S)/2,S]))(e)},X=V.bandwidth(),O=I.bandwidth();t.forEach((e,t)=>{const a=I(d[t])-q.top;e.forEach((e,t)=>{const r=V(n[t])-q.left;E.fillStyle=z(e),E.fillRect(r,a,X,O),M&&(E.strokeStyle=z(e),E.lineWidth=1,E.strokeRect(r,a,X,O))})});const B=e=>{const a=j.getBoundingClientRect(),r=e.clientX-a.left,o=e.clientY-a.top;let l=Math.floor(r/V.step()),s=Math.floor(o/I.step());const i=t[0].length-1;l<0&&(l=0),l>i&&(l=i);const c=t.length-1;s<0&&(s=0),s>c&&(s=c);const u=n[l],h=d[s];return{xIndex:l,yIndex:s,value:t[s][l],xAxisValue:u,yAxisValue:h}};let F;x&&(F=document.createElement("div"),Object.assign(F.style,{display:"none",position:"absolute",pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),e.appendChild(F),j.onmousemove=t=>{const n=B(t);F.innerText=x(n),F.style.display="inline-block";const{x:a,y:r}=(0,l.L)(e,F,{x:t.clientX,y:t.clientY},3);F.style.left=a+"px",F.style.top=r+"px"},j.onmouseleave=()=>{F.style.display="none"}),g&&(j.onmousedown=e=>{const t=B(e);g(t)}),R.current=F?[k,C,F]:[k,C];const G=()=>{Y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})};return window.addEventListener("resize",G),()=>{window.removeEventListener("resize",G)}}),(0,s.jsx)("div",{className:A,style:A?void 0:{height:"600px",width:"600px"},children:(0,s.jsx)("div",{ref:L,id:"container",style:{position:"relative",width:"100%",height:"100%"}})})})}}]);
//# sourceMappingURL=9696.6f67fdc8.chunk.js.map