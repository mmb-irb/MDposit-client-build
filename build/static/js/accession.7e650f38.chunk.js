"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[925],{29449:(e,a,t)=>{t.d(a,{I:()=>r,f:()=>s});var n=t(65043);const s=(0,n.createContext)(null),r=(0,n.createContext)(null)},89408:(e,a,t)=>{t.d(a,{A:()=>l});var n=t(65043),s=t(82746);const r=(e,a)=>{switch(a.type){case"INIT":return{...e,loading:!0,file:null,error:null};case"SUCCESS":return{...e,loading:!1,file:a.file};case"ERROR":return{...e,loading:!1,error:a.error};default:throw new Error('"'.concat(a.type,'" is not a valid action'))}},l=(e,a)=>{let{defaultRepresentation:t,ext:l}=a;const[i,o]=(0,n.useReducer)(r,{loading:!!e,file:null,error:null});return(0,n.useEffect)((()=>{if(!e)return void o({type:"SUCCESS"});o({type:"INIT"});let a=!1;return(0,s.autoLoad)(e,{defaultRepresentation:t,ext:l}).then((e=>!a&&o({type:"SUCCESS",file:e}))).catch((e=>!a&&o({type:"ERROR",error:e}))),()=>a=!0}),[e,t,l]),i}},45780:(e,a,t)=>{t.r(a),t.d(a,{default:()=>re});var n=t(65043),s=t(73216),r=t(35475),l=t(11906),i=t(85865),o=t(2260),c=t(32143),d=t(92127),u=t(12639),h=t(91707),p=t(58338),m=t(89408),b=t(96553),f=t(17545),j=t(69392),x=t(20036),y=t(17392),g=t(38978),P=t(34535);const z="style_default__DjLzc";var v=t(70579);const A=(0,P.Ay)((0,n.forwardRef)(((e,a)=>{let{className:t,...n}=e;return(0,v.jsx)(j.A,{...n,classes:{popper:t},ref:a})})))((e=>{let{theme:a}=e;return{["& .".concat(g.A.tooltip)]:{fontSize:"1em",maxWidth:"100%",margin:"0"}}})),k=e=>{let{tooltip:a,className:t}=e;const[s,r]=(0,n.useState)(!1);return(0,v.jsx)(x.x,{onClickAway:()=>r(!1),children:(0,v.jsx)(A,{title:a,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,open:s,children:(0,v.jsx)(y.A,{className:t||z,color:s?"info":"primary",onClick:()=>r((e=>!e)),children:(0,v.jsx)(d.g,{icon:u.iW_,size:"lg"})})})})};var S=t(1198),_=t(29449),w=t(66062),N=t(95747);const C="style_container__dFMTv",R="style_title__uoSaZ",M="style_link-to-api__FRbDu",E="style_info__2dDtu",I="style_selector__XaqWz",T=(0,n.lazy)((()=>Promise.all([t.e(3316),t.e(3850)]).then(t.bind(t,61343)))),D=(0,n.lazy)((()=>Promise.all([t.e(3845),t.e(2594),t.e(2542)]).then(t.bind(t,25622)))),L=(0,n.lazy)((()=>Promise.all([t.e(3845),t.e(1280),t.e(7664)]).then(t.bind(t,33506)))),q=(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(8095),t.e(3845),t.e(2577),t.e(2594),t.e(9070),t.e(8280),t.e(6190),t.e(1235),t.e(232)]).then(t.bind(t,5600)))),F=(0,n.lazy)((()=>Promise.all([t.e(8095),t.e(4040),t.e(8324),t.e(3316),t.e(4044)]).then(t.bind(t,21700)))),U=(0,n.lazy)((()=>Promise.all([t.e(8095),t.e(8324),t.e(4039)]).then(t.bind(t,31327)))),O=(0,n.lazy)((()=>Promise.all([t.e(8095),t.e(8324),t.e(2627)]).then(t.bind(t,38747)))),W=(0,n.lazy)((()=>Promise.all([t.e(8095),t.e(2577),t.e(8324),t.e(6797)]).then(t.bind(t,41604)))),B=(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(8095),t.e(3845),t.e(4040),t.e(2577),t.e(2594),t.e(9070),t.e(8280),t.e(6190),t.e(1235),t.e(5291),t.e(1772),t.e(1499)]).then(t.bind(t,24539)))),Z=(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(8095),t.e(3845),t.e(4040),t.e(2577),t.e(2594),t.e(9070),t.e(8280),t.e(6190),t.e(5839),t.e(1235),t.e(5007)]).then(t.bind(t,67551)))),H=(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(4040),t.e(2577),t.e(8324),t.e(5839),t.e(3316),t.e(2597),t.e(3241)]).then(t.bind(t,25797)))),Q=(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(3845),t.e(4040),t.e(2577),t.e(8324),t.e(5839),t.e(2597),t.e(3682)]).then(t.bind(t,68542)))),V=(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(8095),t.e(4040),t.e(2577),t.e(8324),t.e(5839),t.e(7803),t.e(4001)]).then(t.bind(t,4733)))),X=(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(4040),t.e(8324),t.e(5839),t.e(4011)]).then(t.bind(t,19121)))),G=(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(8095),t.e(3845),t.e(4040),t.e(2594),t.e(9070),t.e(8280),t.e(6190),t.e(1235),t.e(5748)]).then(t.bind(t,44564)))),J=(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(8095),t.e(3845),t.e(2577),t.e(2594),t.e(9070),t.e(8280),t.e(6190),t.e(1235),t.e(1772),t.e(7017)]).then(t.bind(t,53965)))),K=(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(8095),t.e(3845),t.e(4040),t.e(2594),t.e(9070),t.e(8280),t.e(6190),t.e(7803),t.e(1235),t.e(790)]).then(t.bind(t,56642)))),Y=(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(8095),t.e(3845),t.e(4040),t.e(2577),t.e(2594),t.e(9070),t.e(8280),t.e(6190),t.e(1235),t.e(5291),t.e(1772),t.e(1079)]).then(t.bind(t,64711)))),$=(0,n.lazy)((()=>t.e(8825).then(t.bind(t,31056)))),ee={overview:D,trajectory:q,electrostatic:Z,rgyr:U,rmsds:F,"rmsd-perres":B,"rmsd-pairwise":Q,pca:W,fluctuation:O,sasa:Y,"dist-perres":H,hbonds:V,energies:X,pockets:G,mutations:J,epitopes:K,populations:(0,n.lazy)((()=>Promise.all([t.e(7784),t.e(8095),t.e(3845),t.e(2577),t.e(2594),t.e(9070),t.e(8280),t.e(6190),t.e(1235),t.e(1772),t.e(7017)]).then(t.bind(t,98797)))),markov:(0,n.lazy)((()=>Promise.all([t.e(9070),t.e(8324),t.e(9683)]).then(t.bind(t,26379)))),files:L},ae=(e,a)=>{let t;switch(a){case"overview":case"trajectory":t="";break;case"electrostatic":t="analyses/interactions";break;case"rgyr":case"rmsds":case"rmsd-perres":case"rmsd-pairwise":case"pca":case"fluctuation":case"sasa":case"dist-perres":case"hbonds":case"energies":case"pockets":case"markov":t="analyses/".concat(a);break;case"files":t=a;break;case"mutations":case"epitopes":t="references";break;case"populations":t="files/populations.json";break;default:return null}return"".concat(N.o2,"current/projects/").concat(e,"/").concat(t)},te=e=>{let{subPage:a,dataUrl:t}=e;const r=(0,n.useContext)(_.f),l=(0,m.A)("".concat(N.nP,"/").concat(r.accessionAndMdNumber,"/files/").concat(N.i3),{defaultRepresentation:!1,ext:"pdb"});if(l.loading)return(0,v.jsx)(f.A,{});if(l.error)return l.error.toString()+" (in pdbData)";if(!l.file)return"Something bad happened with the pdb data";const i=ee[a];return(0,v.jsxs)(b.A,{children:[" ",(0,v.jsx)(_.I.Provider,{value:l,children:(0,v.jsxs)(s.BV,{children:[(0,v.jsx)(s.qh,{path:"/",element:i?(0,v.jsx)(n.Suspense,{fallback:(0,v.jsx)(f.A,{}),children:(0,v.jsx)(i,{})}):(0,v.jsx)(v.Fragment,{children:'Subpage "'.concat(a,'" not known')})}),(0,v.jsx)(s.qh,{path:"/json",element:(0,v.jsx)(n.Suspense,{fallback:(0,v.jsx)(f.A,{}),children:(0,v.jsx)($,{url:t})})}),(0,v.jsx)(s.qh,{path:"*",element:"This route is not defined in the client accession"})]})})]})},ne=e=>{let{accessionAndMdNumber:a,subPage:t}=e;return ae(a,t)?(0,v.jsxs)(l.A,{component:r.N_,target:"_blank",to:"/id/".concat(a,"/").concat(t,"/json"),className:M,children:[(0,v.jsx)(d.g,{icon:u.LBj}),"\xa0\xa0data in this page"]}):null},se=(e,a,t)=>{if(!e)return!1;if(e.accession!==a&&e.identifier!==a)return!1;if(!e.mdNumber)return!0;const n=null!==t?t:e.mdref+1;return e.mdNumber===n},re=()=>{const e=(0,s.zy)(),a=(0,s.Zp)(),{accession:t,page:r}=(0,s.g)(),m=t.split("."),b=m[0],j=m.length>1?+m[1]:null,[x,y]=(0,n.useState)(null);let g=!1;if(g=se(x,b,j),!g){const a=e.state&&e.state.projectData;if(se(a,b,j)){y(new w.M(a))}}const P=g?null:"".concat(N.nP,"/").concat(t,"/"),z=(0,p.A)(P);if((0,n.useMemo)((()=>{x&&(x.accession||(x.accession=x.identifier),x.chains&&x.chains.sort())}),[x]),!g){if(z.loading)return(0,v.jsx)(f.A,{});if(z.error)return z.error.toString();if(!z.payload)return"Something bad happened with the project data";if(z.payload.removed)return"The requested MD has been removed";y(new w.M(z.payload))}if(!x)return;const A=S.m.find((e=>e.id===r)),D=A&&A.page&&(0,v.jsxs)(v.Fragment,{children:[A.page,(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),"To learn more about this page and how data is obtained please"," ",(0,v.jsx)("a",{href:"/help#/help#".concat(A.id),target:"_blank",rel:"noreferrer noopener",children:"click here"}),"."]}),L=e.pathname,q="/json"===L.substr(L.length-5),F=ae(t,r),U=x.mdCount>1;return(0,v.jsxs)(_.f.Provider,{value:x,children:[(0,v.jsx)(T,{accessionAndMdNumber:t,subPage:r}),(0,v.jsxs)("span",{className:C,children:[(0,v.jsxs)(i.A,{variant:"h6",className:R,children:["Project ".concat(b),(0,v.jsx)(h.A,{color:"primary",fontSize:"large"}),U&&(0,v.jsx)(o.A,{variant:"standard",value:x.mdIndex,onChange:e=>{const t=e.target.value+1;a("/id/".concat(b,".").concat(t,"/").concat(r))},className:I,children:x.mds.map(((e,a)=>(0,v.jsx)(c.A,{value:a,children:e},a)))}),U&&(0,v.jsx)(h.A,{color:"primary",fontSize:"large"}),"".concat(N.h7.get(r)||r," page ").concat(q?" (raw data)":""),!q&&A&&A.page&&(0,v.jsx)(k,{tooltip:D,className:E})]}),q?(0,v.jsxs)(l.A,{target:"_blank",href:F,className:M,children:[(0,v.jsx)(d.g,{icon:u.CQO}),"\xa0REST API"]}):(0,v.jsx)(ne,{accessionAndMdNumber:t,subPage:r})]}),(0,v.jsx)(te,{subPage:r,dataUrl:F})]})}}}]);
//# sourceMappingURL=accession.7e650f38.chunk.js.map