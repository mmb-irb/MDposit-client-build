"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[510],{5658:(e,t,r)=>{r.d(t,{A:()=>i,K:()=>n});var a=r(92532),o=r(72372);function n(e){return(0,o.Ay)("MuiDivider",e)}const i=(0,a.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},10939:(e,t,r)=>{r.d(t,{A:()=>d});var a=r(65043),o=r(12110),n=r(17604);const i="style_container__M9GCG";var s=r(70579);const l={opacity:[0,1]};(0,n.A)()||(l.transform=["translateY(50px)","translateY(0)"]);const c={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},d=(0,a.forwardRef)(((e,t)=>{let{overrideComponent:r,...n}=e;const d=(0,a.useRef)(null);(0,a.useLayoutEffect)((()=>{const e=d.current&&d.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex((t=>e===t)),r=e.animate(l,{...c,delay:150*t});return()=>r.cancel()}),[]);const p=r?"section":o.A;return(0,s.jsx)("div",{ref:d,className:i,children:(0,s.jsx)(p,{component:"section",...n,ref:t})})}))},12110:(e,t,r)=>{r.d(t,{A:()=>g});var a=r(58168),o=r(98587),n=r(65043),i=r(58387),s=r(98610),l=r(34535),c=r(98206),d=r(63336),p=r(92532),u=r(72372);function m(e){return(0,u.Ay)("MuiCard",e)}(0,p.A)("MuiCard",["root"]);var f=r(70579);const h=["className","raised"],v=(0,l.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),g=n.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiCard"}),{className:n,raised:l=!1}=r,d=(0,o.A)(r,h),p=(0,a.A)({},r,{raised:l}),u=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"]},m,t)})(p);return(0,f.jsx)(v,(0,a.A)({className:(0,i.A)(u.root,n),elevation:l?8:void 0,ref:t,ownerState:p},d))}))},17392:(e,t,r)=>{r.d(t,{A:()=>A});var a=r(98587),o=r(58168),n=r(65043),i=r(58387),s=r(98610),l=r(60061),c=r(34535),d=r(98206),p=r(66236),u=r(6803),m=r(92532),f=r(72372);function h(e){return(0,f.Ay)("MuiIconButton",e)}const v=(0,m.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var g=r(70579);const b=["edge","children","className","color","disabled","disableFocusRipple","size"],y=(0,c.Ay)(p.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"default"!==r.color&&t[`color${(0,u.A)(r.color)}`],r.edge&&t[`edge${(0,u.A)(r.edge)}`],t[`size${(0,u.A)(r.size)}`]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,o.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,l.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===r.edge&&{marginLeft:"small"===r.size?-3:-12},"end"===r.edge&&{marginRight:"small"===r.size?-3:-12})}),(e=>{let{theme:t,ownerState:r}=e;var a;const n=null==(a=(t.vars||t).palette)?void 0:a[r.color];return(0,o.A)({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&(0,o.A)({color:null==n?void 0:n.main},!r.disableRipple&&{"&:hover":(0,o.A)({},n&&{backgroundColor:t.vars?`rgba(${n.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,l.X4)(n.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${v.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),A=n.forwardRef((function(e,t){const r=(0,d.b)({props:e,name:"MuiIconButton"}),{edge:n=!1,children:l,className:c,color:p="default",disabled:m=!1,disableFocusRipple:f=!1,size:v="medium"}=r,A=(0,a.A)(r,b),x=(0,o.A)({},r,{edge:n,color:p,disabled:m,disableFocusRipple:f,size:v}),j=(e=>{const{classes:t,disabled:r,color:a,edge:o,size:n}=e,i={root:["root",r&&"disabled","default"!==a&&`color${(0,u.A)(a)}`,o&&`edge${(0,u.A)(o)}`,`size${(0,u.A)(n)}`]};return(0,s.A)(i,h,t)})(x);return(0,g.jsx)(y,(0,o.A)({className:(0,i.A)(j.root,c),centerRipple:!0,focusRipple:!f,disabled:m,ref:t},A,{ownerState:x,children:l}))}))},26494:(e,t,r)=>{r.d(t,{A:()=>v});var a=r(58168),o=r(98587),n=r(65043),i=r(58387),s=r(98610),l=r(34535),c=r(98206),d=r(92532),p=r(72372);function u(e){return(0,p.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var m=r(70579);const f=["className","component"],h=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),v=n.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiCardContent"}),{className:n,component:l="div"}=r,d=(0,o.A)(r,f),p=(0,a.A)({},r,{component:l}),v=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"]},u,t)})(p);return(0,m.jsx)(h,(0,a.A)({as:l,className:(0,i.A)(v.root,n),ownerState:p,ref:t},d))}))},28052:(e,t,r)=>{r.d(t,{A:()=>i,b:()=>n});var a=r(92532),o=r(72372);function n(e){return(0,o.Ay)("MuiListItemText",e)}const i=(0,a.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},28316:(e,t,r)=>{r.r(t),r.d(t,{default:()=>F});var a=r(65043),o=r(73216),n=r(10939),i=r(53193),s=r(2260),l=r(32143),c=r(81673),d=r(90469),p=r(37597),u=r(51962),m=r(67784),f=r(17392),h=r(26494),v=r(11906),g=r(12639),b=r(92127);const y="style_tall__uLxlS",A="style_margined__hiFK4",x="style_spaced__jKimP",j="style_trash__JtAQQ",C="style_grey__f3+Yh",$="style_unpadded__QkJ-Y",M="style_outlined__b4B+l",N="style_right__ci4FV",R="style_search__JEl1-";var k=r(17604),_=r(95747),S=r(70579);const z=_._r.queryFields,I=Object.values(z).reduce(((e,t)=>e.concat(t)),[]),w={opacity:[0,1]};(0,k.A)()||(w.transform=["translateX(2.5%)","translateX(0)"]);const O=[{name:"AND",operator:"$and",noperator:"$not"},{name:"OR",operator:"$or",noperator:"$nor"}],T=(e,t)=>({[e]:t,$options:"i"}),L=(e,t)=>({[e]:+t}),G=(e,t)=>"true"===e,B={string:[{name:"contains",operator:"$regex",formatter:(e,t)=>{const r=t.replace(/[-[/\]{}()*+?.,\\^$|#\s]/g,"\\$&");return T(e,r)}},{name:"equals",operator:"$eq",formatter:(e,t)=>({[e]:t})},{name:"regular expression",operator:"$regex",formatter:T}],float:[{name:"greater than",operator:"$gt",formatter:L},{name:"lower than",operator:"$lt",formatter:L}],int:[{name:"equals",operator:"$eq",formatter:L},{name:"greater than",operator:"$gt",formatter:L},{name:"lower than",operator:"$lt",formatter:L}],boolean:[{name:"true",operator:"true",formatter:G},{name:"false",operator:"false",formatter:G}]},V={logic:"AND",is:!0,fields:[{field:"",is:!0,comparator:"",value:""},{field:"",is:!0,comparator:"",value:""}]},F=()=>{const e=(0,a.useRef)(V),[t,r]=(0,a.useState)(!1),k=(0,o.Zp)(),[,_]=(0,a.useState)(!0),w=()=>{_((e=>!e))};let T=!1;const L=e=>{let{object:t,label:r,options:a,handleChange:o,error:n,helpText:d}=e;return(0,S.jsxs)(i.A,{className:x,children:[(0,S.jsxs)(s.A,{id:"select",title:"Select the desired "+r,value:t[r],onChange:o,displayEmpty:!0,error:n,children:[(0,S.jsx)(l.A,{disabled:!0,value:"",children:(0,S.jsx)("em",{className:C,children:r})},"placeholder"),a.map((e=>(0,S.jsx)(l.A,{value:e,children:e},e)))]}),d&&(0,S.jsx)(c.A,{children:d})]})},G=e=>{let{object:t,label:r,options:a,handleChange:o}=e;return(0,S.jsx)(i.A,{className:x,children:(0,S.jsxs)(s.A,{id:"select",title:"Select the desired "+r,value:t[r],onChange:o,displayEmpty:!0,children:[(0,S.jsx)(l.A,{disabled:!0,value:"",children:(0,S.jsx)("em",{className:C,children:r})},"placeholder"),a.map((e=>{const[t,r]=Object.entries(e)[0];return[(0,S.jsx)(d.A,{color:"primary",children:t}),...r.map((e=>(0,S.jsx)(l.A,{value:e,children:e},e)))]}))]})})},F={string:{inputMode:"text"},int:{inputMode:"numeric",pattern:"[0-9+-]*",helpText:"integer numbers accepted only"},float:{inputMode:"numeric",pattern:"[0-9.,+-]*",helpText:"numbers accepted only"}},q=e=>{let{object:r,parent:a,index:o}=e;const n=O.map((e=>e.name)),i=Object.entries(z).map((e=>{let[t,r]=e;return{[t]:r.map((e=>e.name))}})),s=[{"Logic operators":n},...i];if(void 0!==r.field){const e=I.find((e=>e.name===r.field)),i=e&&B[e.type].map((e=>e.name)),l=e&&"boolean"===e.type,c=e&&!r.comparator,d=c&&"please select a comparator",h=e&&!l&&!r.value,v=e&&!l&&F[e.type],y=e&&!l&&v.pattern&&r.value.match(v.pattern),x=y&&y[0]!==r.value,C=h?"please specify a value":x&&v.helpText;(c||h||x)&&(T=!0);const $=e=>{const t=e.target.value;r.value=t,w()};return(0,S.jsxs)("div",{className:A,children:[(0,S.jsx)(G,{object:r,label:"field",options:s,handleChange:e=>{const t=e.target.value;if(n.includes(t))return delete r.field,delete r.comparator,delete r.value,r.logic=t,r.is=!0,r.fields=[],void w();r.field=t;const a=I.find((e=>e.name===t));-1===(a&&B[a.type].map((e=>e.name))).indexOf(r.comparator)&&(r.comparator=""),w()}}),e&&!l&&(0,S.jsx)(p.A,{onChange:()=>{r.is=!r.is,w()},control:(0,S.jsx)(u.A,{checked:!r.is,icon:(0,S.jsx)(b.g,{icon:g.GRI,size:"xs",style:{visibility:"hidden"}}),checkedIcon:(0,S.jsx)(b.g,{icon:g.GRI,size:"xs"}),style:{color:"black"}}),label:"NOT",style:r.is?{color:"lightgrey"}:{color:"black"},className:M}),e&&(0,S.jsx)(L,{object:r,label:"comparator",options:i,handleChange:e=>{const t=e.target.value;r.comparator=t,w()},helpText:t&&d,error:t&&c}),e&&!l&&(0,S.jsx)(m.A,{title:"Type here the value for the specified field",defaultValue:r.value,onKeyPress:e=>{"Enter"===e.key&&$(e)},onBlur:$,placeholder:"e.g. "+e.example,inputProps:{inputMode:v.inputMode},helperText:t&&C,error:t&&(h||x)}),(0,S.jsx)(f.A,{variant:"contained",onClick:()=>{a.splice(o,1),w()},className:j,size:"large",children:(0,S.jsx)(b.g,{icon:g.yLS,size:"xs"})})]})}if(void 0!==r.fields)return(0,S.jsxs)("div",{className:A,children:[(0,S.jsx)(G,{object:r,label:"logic",options:s,handleChange:e=>{const t=e.target.value;if(-1===n.indexOf(t))return delete r.fields,delete r.logic,r.field=t,r.is=!0,r.comparator="",r.value="",void w();r.logic=t,w()}}),(0,S.jsx)(p.A,{onChange:()=>{r.is=!r.is,w()},control:(0,S.jsx)(u.A,{checked:!r.is,icon:(0,S.jsx)(b.g,{icon:g.GRI,size:"xs",style:{visibility:"hidden"}}),checkedIcon:(0,S.jsx)(b.g,{icon:g.GRI,size:"xs"}),style:{color:"black"}}),label:"NOT",style:r.is?{color:"lightgrey"}:{color:"black"},className:M}),(0,S.jsx)(f.A,{variant:"contained",onClick:()=>{r.fields.unshift({field:"",is:!0,comparator:"",value:""}),w()},className:$,size:"large",children:(0,S.jsx)(b.g,{icon:g.OQW})}),a&&(0,S.jsx)(f.A,{variant:"contained",onClick:()=>{a.splice(o,1),w()},className:$,size:"large",children:(0,S.jsx)(b.g,{icon:g.yLS,size:"xs"})}),r.fields.map(((e,t)=>(0,S.jsx)(q,{object:e,parent:r.fields,index:t},t)))]})},E=e=>{if(void 0!==e.field){const t=I.find((t=>t.name===e.field)),r=t.path,a=(t&&B[t.type]).find((t=>t.name===e.comparator)),o=a.operator,n=a.formatter;return e.is?{[r]:n(o,e.value)}:{[r]:{$not:n(o,e.value)}}}if(void 0!==e.logic){const t=e.logic,r=O.find((e=>e.name===t))[e.is?"operator":"noperator"],a=e.fields.filter((e=>e.field||e.logic));if(0===a.length)return;if(1===a.length){const t=a[0];return t.is=((e,t)=>{if(e){if(t)return!0;if(!t)return!1}else{if(t)return!1;if(!t)return!0}})(t.is,e.is),E(t)}return{[r]:a.map((e=>E(e)))}}};return(0,S.jsx)(n.A,{className:y,children:(0,S.jsxs)(h.A,{children:["Use the ",(0,S.jsx)("b",{children:"advanced search"})," query builder to create complex database queries.",(0,S.jsx)("br",{}),(0,S.jsx)("hr",{style:{color:"lightGrey"}}),(0,S.jsx)(q,{object:e.current}),(0,S.jsx)("div",{className:N,children:(0,S.jsxs)(v.A,{variant:"contained",onClick:()=>{if(T)return void r(!0);const t=e.current,a=E(t),o=JSON.stringify(a);o&&k("/browse?query="+o)},className:R,children:[(0,S.jsx)(b.g,{icon:g.MjD}),"\xa0",(0,S.jsx)("span",{children:"Search"})]})})]})})}},32143:(e,t,r)=>{r.d(t,{A:()=>N});var a=r(98587),o=r(58168),n=r(65043),i=r(58387),s=r(98610),l=r(60061),c=r(34535),d=r(61475),p=r(98206),u=r(51347),m=r(66236),f=r(55013),h=r(95849),v=r(5658),g=r(71424),b=r(28052),y=r(92532),A=r(72372);function x(e){return(0,A.Ay)("MuiMenuItem",e)}const j=(0,y.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var C=r(70579);const $=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],M=(0,c.Ay)(m.A,{shouldForwardProp:e=>(0,d.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:r}=e;return(0,o.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${j.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${j.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${j.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${j.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${j.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${v.A.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${v.A.inset}`]:{marginLeft:52},[`& .${b.A.root}`]:{marginTop:0,marginBottom:0},[`& .${b.A.inset}`]:{paddingLeft:36},[`& .${g.A.root}`]:{minWidth:36}},!r.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},r.dense&&(0,o.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${g.A.root} svg`]:{fontSize:"1.25rem"}}))})),N=n.forwardRef((function(e,t){const r=(0,p.b)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:c="li",dense:d=!1,divider:m=!1,disableGutters:v=!1,focusVisibleClassName:g,role:b="menuitem",tabIndex:y,className:A}=r,j=(0,a.A)(r,$),N=n.useContext(u.A),R=n.useMemo((()=>({dense:d||N.dense||!1,disableGutters:v})),[N.dense,d,v]),k=n.useRef(null);(0,f.A)((()=>{l&&k.current&&k.current.focus()}),[l]);const _=(0,o.A)({},r,{dense:R.dense,divider:m,disableGutters:v}),S=(e=>{const{disabled:t,dense:r,divider:a,disableGutters:n,selected:i,classes:l}=e,c={root:["root",r&&"dense",t&&"disabled",!n&&"gutters",a&&"divider",i&&"selected"]},d=(0,s.A)(c,x,l);return(0,o.A)({},l,d)})(r),z=(0,h.A)(k,t);let I;return r.disabled||(I=void 0!==y?y:-1),(0,C.jsx)(u.A.Provider,{value:R,children:(0,C.jsx)(M,(0,o.A)({ref:z,role:b,tabIndex:I,component:c,focusVisibleClassName:(0,i.A)(S.focusVisible,g),className:(0,i.A)(S.root,A)},j,{ownerState:_,classes:S}))})}))},71424:(e,t,r)=>{r.d(t,{A:()=>i,f:()=>n});var a=r(92532),o=r(72372);function n(e){return(0,o.Ay)("MuiListItemIcon",e)}const i=(0,a.A)("MuiListItemIcon",["root","alignItemsFlexStart"])}}]);
//# sourceMappingURL=advanced-search.49059804.chunk.js.map