"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[510],{10939:(e,t,r)=>{r.d(t,{A:()=>m});var a=r(89379),o=r(80045),n=r(65043),i=r(12110),s=r(17604);const l="style_container__M9GCG";var c=r(70579);const d=["overrideComponent"],p={opacity:[0,1]};(0,s.A)()||(p.transform=["translateY(50px)","translateY(0)"]);const u={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},m=(0,n.forwardRef)((e,t)=>{let{overrideComponent:r}=e,s=(0,o.A)(e,d);const m=(0,n.useRef)(null);(0,n.useLayoutEffect)(()=>{const e=m.current&&m.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex(t=>e===t),r=e.animate(p,(0,a.A)((0,a.A)({},u),{},{delay:150*t}));return()=>r.cancel()},[]);const h=r?"section":i.A;return(0,c.jsx)("div",{ref:m,className:l,children:(0,c.jsx)(h,(0,a.A)((0,a.A)({component:"section"},s),{},{ref:t}))})})},12110:(e,t,r)=>{r.d(t,{A:()=>v});var a=r(58168),o=r(98587),n=r(65043),i=r(58387),s=r(98610),l=r(34535),c=r(98206),d=r(63336),p=r(92532),u=r(72372);function m(e){return(0,u.Ay)("MuiCard",e)}(0,p.A)("MuiCard",["root"]);var h=r(70579);const g=["className","raised"],f=(0,l.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),v=n.forwardRef(function(e,t){const r=(0,c.b)({props:e,name:"MuiCard"}),{className:n,raised:l=!1}=r,d=(0,o.A)(r,g),p=(0,a.A)({},r,{raised:l}),u=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"]},m,t)})(p);return(0,h.jsx)(f,(0,a.A)({className:(0,i.A)(u.root,n),elevation:l?8:void 0,ref:t,ownerState:p},d))})},17392:(e,t,r)=>{r.d(t,{A:()=>x});var a=r(98587),o=r(58168),n=r(65043),i=r(58387),s=r(98610),l=r(60061),c=r(34535),d=r(98206),p=r(66236),u=r(6803),m=r(92532),h=r(72372);function g(e){return(0,h.Ay)("MuiIconButton",e)}const f=(0,m.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var v=r(70579);const y=["edge","children","className","color","disabled","disableFocusRipple","size"],A=(0,c.Ay)(p.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"default"!==r.color&&t["color".concat((0,u.A)(r.color))],r.edge&&t["edge".concat((0,u.A)(r.edge))],t["size".concat((0,u.A)(r.size))]]}})(e=>{let{theme:t,ownerState:r}=e;return(0,o.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===r.edge&&{marginLeft:"small"===r.size?-3:-12},"end"===r.edge&&{marginRight:"small"===r.size?-3:-12})},e=>{let{theme:t,ownerState:r}=e;var a;const n=null==(a=(t.vars||t).palette)?void 0:a[r.color];return(0,o.A)({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&(0,o.A)({color:null==n?void 0:n.main},!r.disableRipple&&{"&:hover":(0,o.A)({},n&&{backgroundColor:t.vars?"rgba(".concat(n.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.X4)(n.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(f.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),x=n.forwardRef(function(e,t){const r=(0,d.b)({props:e,name:"MuiIconButton"}),{edge:n=!1,children:l,className:c,color:p="default",disabled:m=!1,disableFocusRipple:h=!1,size:f="medium"}=r,x=(0,a.A)(r,y),b=(0,o.A)({},r,{edge:n,color:p,disabled:m,disableFocusRipple:h,size:f}),j=(e=>{const{classes:t,disabled:r,color:a,edge:o,size:n}=e,i={root:["root",r&&"disabled","default"!==a&&"color".concat((0,u.A)(a)),o&&"edge".concat((0,u.A)(o)),"size".concat((0,u.A)(n))]};return(0,s.A)(i,g,t)})(b);return(0,v.jsx)(A,(0,o.A)({className:(0,i.A)(j.root,c),centerRipple:!0,focusRipple:!h,disabled:m,ref:t},x,{ownerState:b,children:l}))})},26494:(e,t,r)=>{r.d(t,{A:()=>f});var a=r(58168),o=r(98587),n=r(65043),i=r(58387),s=r(98610),l=r(34535),c=r(98206),d=r(92532),p=r(72372);function u(e){return(0,p.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var m=r(70579);const h=["className","component"],g=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),f=n.forwardRef(function(e,t){const r=(0,c.b)({props:e,name:"MuiCardContent"}),{className:n,component:l="div"}=r,d=(0,o.A)(r,h),p=(0,a.A)({},r,{component:l}),f=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"]},u,t)})(p);return(0,m.jsx)(g,(0,a.A)({as:l,className:(0,i.A)(f.root,n),ownerState:p,ref:t},d))})},28316:(e,t,r)=>{r.r(t),r.d(t,{default:()=>L});var a=r(65043),o=r(73216),n=r(10939),i=r(53193),s=r(2260),l=r(32143),c=r(81673),d=r(90469),p=r(83558),u=r(51962),m=r(67784),h=r(17392),g=r(26494),f=r(11906),v=r(12639),y=r(92127);const A="style_tall__uLxlS",x="style_margined__hiFK4",b="style_spaced__jKimP",j="style_trash__JtAQQ",C="style_grey__f3+Yh",N="style_unpadded__QkJ-Y",R="style_outlined__b4B+l",_="style_right__ci4FV",S="style_search__JEl1-";var z=r(17604),M=r(95747),w=r(70579);const k=M._r.queryFields,B=Object.values(k).reduce((e,t)=>e.concat(t),[]),T={opacity:[0,1]};(0,z.A)()||(T.transform=["translateX(2.5%)","translateX(0)"]);const $=[{name:"AND",operator:"$and",noperator:"$not"},{name:"OR",operator:"$or",noperator:"$nor"}],O=(e,t)=>({[e]:t,$options:"i"}),I=(e,t)=>({[e]:+t}),W=(e,t)=>"true"===e,q={string:[{name:"contains",operator:"$regex",formatter:(e,t)=>{const r=t.replace(/[-[/\]{}()*+?.,\\^$|#\s]/g,"\\$&");return O(e,r)}},{name:"equals",operator:"$eq",formatter:(e,t)=>({[e]:t})},{name:"regular expression",operator:"$regex",formatter:O}],float:[{name:"greater than",operator:"$gt",formatter:I},{name:"lower than",operator:"$lt",formatter:I}],int:[{name:"equals",operator:"$eq",formatter:I},{name:"greater than",operator:"$gt",formatter:I},{name:"lower than",operator:"$lt",formatter:I}],boolean:[{name:"true",operator:"true",formatter:W},{name:"false",operator:"false",formatter:W}]},E={logic:"AND",is:!0,fields:[{field:"",is:!0,comparator:"",value:""},{field:"",is:!0,comparator:"",value:""}]},L=()=>{const e=(0,a.useRef)(E),[t,r]=(0,a.useState)(!1),z=(0,o.Zp)(),[,M]=(0,a.useState)(!0),T=()=>{M(e=>!e)};let O=!1;const I=e=>{let{object:t,label:r,options:a,handleChange:o,error:n,helpText:d}=e;return(0,w.jsxs)(i.A,{className:b,children:[(0,w.jsxs)(s.A,{id:"select",title:"Select the desired "+r,value:t[r],onChange:o,displayEmpty:!0,error:n,children:[(0,w.jsx)(l.A,{disabled:!0,value:"",children:(0,w.jsx)("em",{className:C,children:r})},"placeholder"),a.map(e=>(0,w.jsx)(l.A,{value:e,children:e},e))]}),d&&(0,w.jsx)(c.A,{children:d})]})},W=e=>{let{object:t,label:r,options:a,handleChange:o}=e;return(0,w.jsx)(i.A,{className:b,children:(0,w.jsxs)(s.A,{id:"select",title:"Select the desired "+r,value:t[r],onChange:o,displayEmpty:!0,children:[(0,w.jsx)(l.A,{disabled:!0,value:"",children:(0,w.jsx)("em",{className:C,children:r})},"placeholder"),a.map(e=>{const[t,r]=Object.entries(e)[0];return[(0,w.jsx)(d.A,{color:"primary",children:t}),...r.map(e=>(0,w.jsx)(l.A,{value:e,children:e},e))]})]})})},L={string:{inputMode:"text"},int:{inputMode:"numeric",pattern:"[0-9+-]*",helpText:"integer numbers accepted only"},float:{inputMode:"numeric",pattern:"[0-9.,+-]*",helpText:"numbers accepted only"}},G=e=>{let{object:r,parent:a,index:o}=e;const n=$.map(e=>e.name),i=Object.entries(k).map(e=>{let[t,r]=e;return{[t]:r.map(e=>e.name)}}),s=[{"Logic operators":n},...i];if(void 0!==r.field){const e=B.find(e=>e.name===r.field),i=e&&q[e.type].map(e=>e.name),l=e&&"boolean"===e.type,c=e&&!r.comparator,d=c&&"please select a comparator",g=e&&!l&&!r.value,f=e&&!l&&L[e.type],A=e&&!l&&f.pattern&&r.value.match(f.pattern),b=A&&A[0]!==r.value,C=g?"please specify a value":b&&f.helpText;(c||g||b)&&(O=!0);const N=e=>{const t=e.target.value;r.value=t,T()};return(0,w.jsxs)("div",{className:x,children:[(0,w.jsx)(W,{object:r,label:"field",options:s,handleChange:e=>{const t=e.target.value;if(n.includes(t))return delete r.field,delete r.comparator,delete r.value,r.logic=t,r.is=!0,r.fields=[],void T();r.field=t;const a=B.find(e=>e.name===t);-1===(a&&q[a.type].map(e=>e.name)).indexOf(r.comparator)&&(r.comparator=""),T()}}),e&&!l&&(0,w.jsx)(p.A,{onChange:()=>{r.is=!r.is,T()},control:(0,w.jsx)(u.A,{checked:!r.is,icon:(0,w.jsx)(y.g,{icon:v.GRI,size:"xs",style:{visibility:"hidden"}}),checkedIcon:(0,w.jsx)(y.g,{icon:v.GRI,size:"xs"}),style:{color:"black"}}),label:"NOT",style:r.is?{color:"lightgrey"}:{color:"black"},className:R}),e&&(0,w.jsx)(I,{object:r,label:"comparator",options:i,handleChange:e=>{const t=e.target.value;r.comparator=t,T()},helpText:t&&d,error:t&&c}),e&&!l&&(0,w.jsx)(m.A,{title:"Type here the value for the specified field",defaultValue:r.value,onKeyPress:e=>{"Enter"===e.key&&N(e)},onBlur:N,placeholder:"e.g. "+e.example,inputProps:{inputMode:f.inputMode},helperText:t&&C,error:t&&(g||b)}),(0,w.jsx)(h.A,{variant:"contained",onClick:()=>{a.splice(o,1),T()},className:j,size:"large",children:(0,w.jsx)(y.g,{icon:v.yLS,size:"xs"})})]})}if(void 0!==r.fields)return(0,w.jsxs)("div",{className:x,children:[(0,w.jsx)(W,{object:r,label:"logic",options:s,handleChange:e=>{const t=e.target.value;if(-1===n.indexOf(t))return delete r.fields,delete r.logic,r.field=t,r.is=!0,r.comparator="",r.value="",void T();r.logic=t,T()}}),(0,w.jsx)(p.A,{onChange:()=>{r.is=!r.is,T()},control:(0,w.jsx)(u.A,{checked:!r.is,icon:(0,w.jsx)(y.g,{icon:v.GRI,size:"xs",style:{visibility:"hidden"}}),checkedIcon:(0,w.jsx)(y.g,{icon:v.GRI,size:"xs"}),style:{color:"black"}}),label:"NOT",style:r.is?{color:"lightgrey"}:{color:"black"},className:R}),(0,w.jsx)(h.A,{variant:"contained",onClick:()=>{r.fields.unshift({field:"",is:!0,comparator:"",value:""}),T()},className:N,size:"large",children:(0,w.jsx)(y.g,{icon:v.OQW})}),a&&(0,w.jsx)(h.A,{variant:"contained",onClick:()=>{a.splice(o,1),T()},className:N,size:"large",children:(0,w.jsx)(y.g,{icon:v.yLS,size:"xs"})}),r.fields.map((e,t)=>(0,w.jsx)(G,{object:e,parent:r.fields,index:t},t))]})},F=e=>{if(void 0!==e.field){const t=B.find(t=>t.name===e.field),r=t.path,a=(t&&q[t.type]).find(t=>t.name===e.comparator),o=a.operator,n=a.formatter;return e.is?{[r]:n(o,e.value)}:{[r]:{$not:n(o,e.value)}}}if(void 0!==e.logic){const t=e.logic,r=$.find(e=>e.name===t)[e.is?"operator":"noperator"],a=e.fields.filter(e=>e.field||e.logic);if(0===a.length)return;if(1===a.length){const t=a[0];return t.is=((e,t)=>{if(e){if(t)return!0;if(!t)return!1}else{if(t)return!1;if(!t)return!0}})(t.is,e.is),F(t)}return{[r]:a.map(e=>F(e))}}};return(0,w.jsx)(n.A,{className:A,children:(0,w.jsxs)(g.A,{children:["Use the ",(0,w.jsx)("b",{children:"advanced search"})," query builder to create complex database queries.",(0,w.jsx)("br",{}),(0,w.jsx)("hr",{style:{color:"lightGrey"}}),(0,w.jsx)(G,{object:e.current}),(0,w.jsx)("div",{className:_,children:(0,w.jsxs)(f.A,{variant:"contained",onClick:()=>{if(O)return void r(!0);const t=e.current,a=F(t),o=JSON.stringify(a);o&&z("/browse?query="+o)},className:S,children:[(0,w.jsx)(y.g,{icon:v.MjD}),"\xa0",(0,w.jsx)("span",{children:"Search"})]})})]})})}},85865:(e,t,r)=>{r.d(t,{A:()=>x});var a=r(98587),o=r(58168),n=r(65043),i=r(58387),s=r(41989),l=r(98610),c=r(34535),d=r(98206),p=r(6803),u=r(92532),m=r(72372);function h(e){return(0,m.Ay)("MuiTypography",e)}(0,u.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var g=r(70579);const f=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,c.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t["align".concat((0,p.A)(r.align))],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(e=>{let{theme:t,ownerState:r}=e;return(0,o.A)({margin:0},"inherit"===r.variant&&{font:"inherit"},"inherit"!==r.variant&&t.typography[r.variant],"inherit"!==r.align&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})}),y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},A={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},x=n.forwardRef(function(e,t){const r=(0,d.b)({props:e,name:"MuiTypography"}),n=(e=>A[e]||e)(r.color),c=(0,s.A)((0,o.A)({},r,{color:n})),{align:u="inherit",className:m,component:x,gutterBottom:b=!1,noWrap:j=!1,paragraph:C=!1,variant:N="body1",variantMapping:R=y}=c,_=(0,a.A)(c,f),S=(0,o.A)({},c,{align:u,color:n,className:m,component:x,gutterBottom:b,noWrap:j,paragraph:C,variant:N,variantMapping:R}),z=x||(C?"p":R[N]||y[N])||"span",M=(e=>{const{align:t,gutterBottom:r,noWrap:a,paragraph:o,variant:n,classes:i}=e,s={root:["root",n,"inherit"!==e.align&&"align".concat((0,p.A)(t)),r&&"gutterBottom",a&&"noWrap",o&&"paragraph"]};return(0,l.A)(s,h,i)})(S);return(0,g.jsx)(v,(0,o.A)({as:z,ref:t,ownerState:S,className:(0,i.A)(M.root,m)},_))})}}]);
//# sourceMappingURL=advanced-search.f16dcdb4.chunk.js.map