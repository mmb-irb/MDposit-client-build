"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[421],{207:(e,t,r)=>{r.d(t,{A:()=>v});var n=r(58168),a=r(98587),s=r(65043),o=r(58387),i=r(98610),c=r(21573),l=r(98206),d=r(34535),u=r(92532),h=r(72372);function p(e){return(0,h.Ay)("MuiTableFooter",e)}(0,u.A)("MuiTableFooter",["root"]);var f=r(70579);const y=["className","component"],m=(0,d.Ay)("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-footer-group"}),_={variant:"footer"},A="tfoot",v=s.forwardRef(function(e,t){const r=(0,l.b)({props:e,name:"MuiTableFooter"}),{className:s,component:d=A}=r,u=(0,a.A)(r,y),h=(0,n.A)({},r,{component:d}),v=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},p,t)})(h);return(0,f.jsx)(c.A.Provider,{value:_,children:(0,f.jsx)(m,(0,n.A)({as:d,className:(0,o.A)(v.root,s),ref:t,role:d===A?null:"rowgroup",ownerState:h},u))})})},3152:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(54577),a=r(10500),s=r(28593),o=r(28666),i=n.A?n.A.prototype:void 0,c=i?i.toString:void 0;const l=function e(t){if("string"==typeof t)return t;if((0,s.A)(t))return(0,a.A)(t,e)+"";if((0,o.A)(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r};const d=function(e){return null==e?"":l(e)}},10312:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(67522);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(a.Cache||n.A),r}a.Cache=n.A;const s=a},10500:(e,t,r)=>{r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},10939:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(89379),a=r(80045),s=r(65043),o=r(12110),i=r(17604);const c="style_container__M9GCG";var l=r(70579);const d=["overrideComponent"],u={opacity:[0,1]};(0,i.A)()||(u.transform=["translateY(50px)","translateY(0)"]);const h={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},p=(0,s.forwardRef)((e,t)=>{let{overrideComponent:r}=e,i=(0,a.A)(e,d);const p=(0,s.useRef)(null);(0,s.useLayoutEffect)(()=>{const e=p.current&&p.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex(t=>e===t),r=e.animate(u,(0,n.A)((0,n.A)({},h),{},{delay:150*t}));return()=>r.cancel()},[]);const f=r?"section":o.A;return(0,l.jsx)("div",{ref:p,className:c,children:(0,l.jsx)(f,(0,n.A)((0,n.A)({component:"section"},i),{},{ref:t}))})})},19650:(e,t,r)=>{r.d(t,{A:()=>h});const n=function(){this.__data__=[],this.size=0};var a=r(32424);const s=function(e,t){for(var r=e.length;r--;)if((0,a.A)(e[r][0],t))return r;return-1};var o=Array.prototype.splice;const i=function(e){var t=this.__data__,r=s(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)};const c=function(e){var t=this.__data__,r=s(t,e);return r<0?void 0:t[r][1]};const l=function(e){return s(this.__data__,e)>-1};const d=function(e,t){var r=this.__data__,n=s(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=c,u.prototype.has=l,u.prototype.set=d;const h=u},28593:(e,t,r)=>{r.d(t,{A:()=>n});const n=Array.isArray},29199:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(95465),a=r(31133);const s=(0,n.A)(a.A,"Map")},48332:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Je});var n=r(89379),a=r(65043),s=r(73216),o=r(88058),i=r(22908),c=r(10939),l=r(26494),d=r(48043),u=r(86605),h=r(85865),p=r(40710),f=r(83558),y=r(51962),m=r(28007),_=r(67784);const A={tall:"style_tall__9YO3U",advanced:"style_advanced__6aE-M",category:"style_category__W7eVa",margined:"style_margined__DUiBx",spaced:"style_spaced__HNl1x",trash:"style_trash__eOEA9",grey:"style_grey__AAhrx",unpadded:"style_unpadded__NAWaV",outlined:"style_outlined__i353I",accordion:"style_accordion__dE2XH",summary:"style_summary__2P8gb",section:"style_section__Yij1f",aligned:"style_aligned__O8YMt",button:"style_button__kRCGy",search:"style_search__ZlOSm"};var v=r(95747),g=r(58338),x=r(17545),j=r(70579);const b=v._r.queryFields,N=v._r.optionsField,S=Object.values(b).reduce((e,t)=>e.concat(t),[]),E=e=>{try{if(!e)return{};const t=JSON.parse(e),r={};return Object.entries(t).forEach(e=>{let[t,n]=e;if("$and"===t||"$or"===t)return;const a=S.find(e=>e.path===t);if(a){if(!n.$regex)return void 0!==n.$gt||void 0!==n.$lt?(r[t]={},void 0!==n.$gt&&(r[t].min=n.$gt),void(void 0!==n.$lt&&(r[t].max=n.$lt))):void(a.checkbox?r[t]=[null===n?w:String(n)]:r[t]=null===n?w:String(n));r[t]=n.$regex.replace(/\\/g,"")}}),t.$or&&Array.isArray(t.$or)&&t.$or.forEach(e=>{const t=Object.entries(e);if(1!==t.length)return;const[n,a]=t[0];r[n]?Array.isArray(r[n])&&r[n].push(null===a?w:String(a)):r[n]=[null===a?w:String(a)]}),t.$and&&Array.isArray(t.$and)&&t.$and.forEach(e=>{if(e.$or&&Array.isArray(e.$or)){const t=e.$or[0],n=Object.keys(t)[0];r[n]||(r[n]=[]),e.$or.forEach(e=>{const t=Object.keys(e)[0],a=e[t];t===n&&r[n].push(null===a?w:String(a))})}}),r}catch(t){return console.error("Error parsing URL query:",t),{}}},O=(e,t)=>{const r=(0,i.parse)(decodeURIComponent(t.search),{ignoreQueryPrefix:!0,decoder:e=>e});if(0===Object.keys(e).length)return delete r.query,"/browse?"+Object.entries(r).map(e=>{let[t,r]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r))}).join("&");const a={};let s=0;if(Object.entries(e).forEach(e=>(e=>{let[t,r]=e;const n=S.find(e=>e.path===t),o=e=>e===w?{$eq:null}:"string"===n.type?e:"int"===n.type||"float"===n.type?+e:"boolean"===n.type?"true"===e:void 0;if("string"===typeof r){const e=r.replace(/[-[/\]{}()*+?.,\\^$|#\s]/g,"\\$&");return void(a[t]={$regex:e,$options:"i"})}if(r.min||r.max){const e={};if(r.min){if(isNaN(+r.min))return++s;e.$gt=+r.min}if(r.max){if(isNaN(+r.max))return++s;e.$lt=+r.max}return void(a[t]=e)}if(!Array.isArray(r))throw new Error("Wrong "+t+" -> "+r);if(1===r.length)return void(a[t]=o(r[0]));const i=a.$and;if(i)return void i.push({$or:r.map(e=>({[t]:o(e)}))});const c=a.$or;if(c)return a.$and=[{$or:c},{$or:r.map(e=>({[t]:o(e)}))}],void delete a.$or;a.$or=r.map(e=>({[t]:o(e)}))})(e)),s>0)return;const o=(0,n.A)((0,n.A)({},r),{},{query:JSON.stringify(a)});return Object.keys(o).forEach(e=>void 0===o[e]&&delete o[e]),"/browse?"+Object.entries(o).map(e=>{let[t,r]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r))}).join("&")},w="Not defined",C=()=>{const e=(0,s.Zp)(),t=(0,s.zy)(),r=(0,i.parse)(t.search,{ignoreQueryPrefix:!0}).query,w=r?E(r):{},[C,$]=(0,a.useState)(w),[P,D]=(0,a.useState)(!1),k=(0,a.useRef)(!1);(0,a.useEffect)(()=>{$(r?E(r):{})},[t.search,r]);const M=(0,o.A)(()=>{k.current=!0;const r=O(C,t);e(r)},500);(0,a.useEffect)(()=>()=>M.cancel(),[]);const R=S.filter(e=>e.options).map(e=>"projection="+e.path).join("&"),F="".concat(v.nP,"/options?").concat(R),{payload:T,error:U}=(0,g.A)(F,{name:"browse",cacheOn:!0}),[z,I]=(0,a.useState)(!0),[q,L]=(0,a.useState)({}),B=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{categoryState:Object.keys(e).reduce((e,t)=>(e[t]=!0,e),{}),fieldState:Object.values(e).flat().reduce((e,n)=>(e[n.path]=n.defaultOpen||r&&n.path in t,e),{})}};(0,a.useEffect)(()=>{const{categoryState:e,fieldState:t}=B(b,C,!0);I(e),L(t)},[]),(0,a.useEffect)(()=>{if(!r&&!k.current&&!t.search){const{categoryState:e,fieldState:t}=B(b,C);I(e),L(t)}k.current&&(k.current=!1)},[t.search,r]);const G=e=>(t,r)=>{I((0,n.A)((0,n.A)({},z),{},{[e]:r}))};if(U)return U.toString();const J=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{isArray:n=!1,isRange:a=!1,rangeSide:s=null}=r;if(n)if(C[e]){if(Array.isArray(C[e])){const r=C[e].indexOf(t);-1===r?C[e].push(t):(C[e].splice(r,1),0===C[e].length&&delete C[e])}}else C[e]=[t];else if(a)if(""===t){if(!C[e])return;C[e][s]&&(delete C[e][s],0===Object.keys(C[e]).length&&delete C[e])}else C[e]?C[e][s]=t:C[e]={[s]:t};else""===t?delete C[e]:C[e]=t;D(e=>!e),M()};return(0,j.jsx)(c.A,{className:A.tall,children:(0,j.jsxs)(l.A,{style:{paddingLeft:"0"},children:[(0,j.jsxs)("div",{className:A.advanced,children:["Use the ",(0,j.jsx)("b",{children:"search"})," menu to create a specific query. Go to"," "," ",(0,j.jsx)("a",{href:"/#/advanced-search",children:"advanced search"})," for a most complex query."]}),Object.entries(b).map((e,t)=>{let[r,a]=e;return(0,j.jsxs)(d.A,{expanded:!!z[r],onChange:G(r),disableGutters:!0,className:A.category,children:[(0,j.jsx)(u.A,{className:A.categorySummary,children:(0,j.jsx)(h.A,{variant:"h6",className:A.margined,children:r})}),(0,j.jsx)(p.A,{className:A.section,children:(0,j.jsx)("div",{children:a.map((e,t)=>{return e.path===N?null:(0,j.jsxs)(d.A,{className:A.accordion,disableGutters:!0,expanded:!!q[e.path],onChange:(r=e.path,(e,t)=>{L((0,n.A)((0,n.A)({},q),{},{[r]:t}))}),children:[(0,j.jsx)(u.A,{className:A.summary,children:e.name}),(0,j.jsx)(p.A,{children:(()=>{if(!T)return(0,j.jsx)(x.A,{});const t=C;if(e.options){const r=T[e.path];let a=0;if(r&&r.null&&(a+=r.null,delete r.null),!r)return null;if(e.checkbox){return Object.entries(r).sort((e,t)=>{let[r,n]=e,[a,s]=t;return s-n}).map((r,n)=>{let[a,s]=r;const o=!!(t[e.path]&&Array.isArray(t[e.path])&&t[e.path].includes(a));return(0,j.jsx)(f.A,{onChange:()=>J(e.path,a,{isArray:!0}),control:(0,j.jsx)(y.A,{checked:o,style:{color:"black"},inputProps:{"data-key":a}}),label:"".concat(a," (").concat(s,")"),style:{color:"black"}},n)})}{const a=Object.entries(r).map(e=>{let[t,r]=e;return{label:t,count:r}}).sort((e,t)=>t.count-e.count);return(0,j.jsx)("div",{className:A.aligned,children:(0,j.jsx)(m.A,{options:a,getOptionLabel:e=>e.label,renderOption:(e,t)=>(0,j.jsx)("li",(0,n.A)((0,n.A)({},e),{},{children:t.label+" ("+t.count+")"})),sx:{width:"50vh"},clearOnBlur:!1,value:t[e.path]&&a.find(r=>r.label===t[e.path])||null,renderInput:t=>(0,j.jsx)(_.A,(0,n.A)((0,n.A)({},t),{},{title:"Type here the value for the specified field",placeholder:"e.g. "+e.example,className:A.spaced})),onChange:(t,r)=>{const n=r?r.label:"";J(e.path,n)}})})}}if("string"===e.type)return(0,j.jsx)("div",{className:A.aligned,children:(0,j.jsx)(_.A,{title:"Type here the value for the specified field",value:t[e.path]||"",onChange:t=>{let{target:{value:r}}=t;return J(e.path,r)},onKeyPress:t=>{"Enter"===t.key&&J(e.path,t.target.value)},placeholder:"e.g. "+e.example,inputProps:{inputMode:"text"},className:A.spaced})});{const r=t[e.path]&&t[e.path].min||"",n=t[e.path]&&t[e.path].max||"";return(0,j.jsxs)("div",{className:A.aligned,children:[(0,j.jsx)(_.A,{title:"Type here the value for the specified field",value:r,onChange:t=>{let{target:{value:r}}=t;return J(e.path,r,{isRange:!0,rangeSide:"min"})},onKeyPress:t=>{"Enter"===t.key&&J(e.path,t.target.value,{isRange:!0,rangeSide:"min"})},placeholder:"> e.g. "+e.example,inputProps:{inputMode:"numeric",pattern:"[0-9.,+-]*"},className:A.spaced}),(0,j.jsx)("span",{style:{padding:"3px"},children:"-"}),(0,j.jsx)(_.A,{title:"Type here the value for the specified field",value:n,onChange:t=>{let{target:{value:r}}=t;return J(e.path,r,{isRange:!0,rangeSide:"max"})},onKeyPress:t=>{"Enter"===t.key&&J(e.path,t.target.value,{isRange:!0,rangeSide:"max"})},placeholder:"< e.g. "+e.example,inputProps:{inputMode:"numeric",pattern:"[0-9.,+-]*"},className:A.spaced})]})}})()})]},t);var r})})})]},t)})]})})};var $=r(35475),P=r(64600),D=r.n(P),k=r(28076),M=r(10039),R=r(43845),F=r(83150),T=r(10312),U=r(3152),z=/[\\^$.*+?()[\]{}|]/g,I=RegExp(z.source);const q=function(e){return(e=(0,U.A)(e))&&I.test(e)?e.replace(z,"\\$&"):e},L="style_highlightable__biB77",B=/\s+/,G=(0,T.A)(e=>new RegExp("(".concat(e.toString().trim().split(B).map(q).join("|"),")"),"i")),J=a.memo(e=>{let{highlight:t,children:r}=e;if(Array.isArray(r))return r.map((e,r)=>(0,j.jsx)(J,{highlight:t,children:e},r));if(!t||!r||"string"!==typeof r&&!Number.isFinite(r))return r||null;const n=G(t);return(0,j.jsx)("span",{className:L,children:r.toString().split(n).filter(Boolean).map((e,t)=>a.createElement(n.test(e)?"mark":"span",{key:t},e))})}),Q=J;var W=r(17604);const Y="style_table-body__UaSDI",Z="style_invalid-results__xfJgr",K="style_table-head__tmuYe",V="style_not-published__KTvNz",X="style_error-row__LE6tS",H="style_center__5C2Uk",ee="style_sort__d7lWZ",te="style_no-results-card__hJ248",re="style_no-results-text__PtOSj",ne="style_analysis__M4Th0",ae="style_small__QxCJm",se="style_browser__HmO0n",oe="style_left-bar__kq-vA",ie="style_right-bar__jr0l7",ce="style_search__c+hyw",le="style_selector__XVrF1",de="style_fillheight__1UWvV";var ue=r(79342);const he={opacity:[0,1]};(0,W.A)()||(he.transform=["translateX(2.5%)","translateX(0)"]);const pe=e=>{let{projectData:t,highlight:r,index:n,previewUrl:s}=e;const o=new ue.M(t),{identifier:i,accession:c,published:l,pdbInfo:d,metadata:u,mdCount:h,directions:p}=o,f=(0,a.useRef)(null);return(0,a.useLayoutEffect)(()=>{if(!f.current||!f.current.animate)return;const e=f.current.animate(he,{fill:"both",easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",duration:750,delay:100+75*n});return()=>e.cancel()},[n]),o.error?(0,j.jsxs)(k.A,{ref:f,className:X,children:[(0,j.jsxs)(M.A,{className:H,children:[" ",o.accession," "]}),(0,j.jsxs)(M.A,{className:H,children:[" ",o.error," "]}),(0,j.jsx)(M.A,{className:H,children:" - "}),(0,j.jsx)(M.A,{className:H,children:" - "})]}):(0,j.jsxs)(k.A,{ref:f,className:D()({[V]:!l}),children:[(0,j.jsxs)(M.A,{className:H,children:[(0,j.jsx)($.N_,{to:{pathname:"/id/".concat(c||i,"/overview"),state:{projectData:o}},children:(0,j.jsxs)(Q,{highlight:r,children:[c||i,!l&&(0,j.jsx)("div",{children:"(not published)"})]})}),h>1&&(0,j.jsx)("div",{className:ae,children:"".concat(h," MDs")})]}),(0,j.jsx)(M.A,{className:H,children:(0,j.jsx)(Q,{highlight:r,children:u&&u.NAME?u.NAME:d&&d.compound?d.compound:"Not available"})}),(0,j.jsx)(M.A,{className:H,children:(0,j.jsx)(F.A,{src:s,width:"110",height:"110",loading:"lazy",alt:"Project preview"})}),(0,j.jsx)(M.A,{className:H,children:Object.entries(p).filter(e=>{let[t,r]=e;return r}).map(e=>{let[t,r]=e;return(0,j.jsx)(R.A,{clickable:!0,className:ne,component:$.N_,to:{pathname:"/id/".concat(c||i,"/").concat(t),state:{projectData:o}},label:v.h7.get(t)||t,variant:"outlined"},t)})})]})};pe.displayName="Row";const fe=pe;var ye=r(67803);const me=[5,10,25,50],_e={title:"Previous page"},Ae={title:"Next page"},ve=e=>{let{matchCount:t,mdCount:r,search:a,location:s,history:o,queryPayload:c,component:l="div",colSpan:d,DEFAULT_LIMIT:u,DEFAULT_PAGE:h}=e;return(0,j.jsx)(k.A,{children:(0,j.jsx)(ye.A,{rowsPerPageOptions:me,colSpan:6,count:t,rowsPerPage:+a.limit||u,page:(+a.page||h)-1,onPageChange:(e,t)=>{o((0,n.A)((0,n.A)({},s),{},{search:(0,i.stringify)({search:a.search,query:a.query,option:a.option,page:t+1===h?void 0:t+1,limit:a.limit&&+a.limit!==u?+a.limit:void 0,sort:a.sort,sortField:a.sortField,sortDirection:a.sortDirection})}))},onRowsPerPageChange:e=>{let{target:{value:t}}=e;o((0,n.A)((0,n.A)({},s),{},{search:(0,i.stringify)({search:a.search,query:a.query,option:a.option,limit:+t===u?void 0:t,sort:a.sort,sortField:a.sortField,sortDirection:a.sortDirection})}))},backIconButtonProps:_e,nextIconButtonProps:Ae,labelDisplayedRows:e=>{let{from:t,to:n,count:a}=e;return"".concat(t,"-").concat(n," of ").concat(a," projects (").concat(r," MDs)")}})})};var ge=r(53193),xe=r(79190),je=r(2260),be=r(32143),Ne=r(71806),Se=r(84882),Ee=r(11906),Oe=r(73460),we=r(207),Ce=r(80045),$e=r(51787),Pe=r(92127),De=r(12639),ke=r(1198);const Me="style_searchbar__L3fSk",Re="style_searchbar-icon__o1zED",Fe="style_searchbar-letters__NY7xQ",Te=["search"],Ue={"aria-label":"Search projects by text",startAdornment:(0,j.jsx)($e.A,{position:"start",children:(0,j.jsx)(Pe.g,{icon:De.MjD,size:"2x",className:Re})}),classes:{input:Fe}},ze=(0,o.A)((e,t,r)=>{const a=(0,i.parse)(e.search,{ignoreQueryPrefix:!0}),{search:s}=a,o=(0,Ce.A)(a,Te),c=Boolean(s)===Boolean(r);r&&(o.search=r),s!==r&&(o.page=void 0,t((0,n.A)((0,n.A)({},e),{},{search:(0,i.stringify)(o),replace:c})))},500),Ie=()=>{const e=(0,s.zy)(),t=(0,s.Zp)(),[r,n]=(0,a.useState)((0,i.parse)(e.search,{ignoreQueryPrefix:!0}).search);(0,a.useEffect)(()=>ze.cancel,[]);const o=(0,a.useCallback)(r=>{let{target:{value:a}}=r;n(a),ze(e,t,a)},[e,t]),c=ke.m.find(e=>"browser"===e.id);return(0,j.jsx)(_.A,{title:c.text,value:r||"",onChange:o,className:Me,InputProps:Ue,placeholder:v._r.searchExample})},qe="All results",Le=v._r.optionsField,Be=e=>{let{location:t,search:r,history:s}=e;const[o,c]=(0,a.useState)(r.option||qe),l=Le?"".concat(v.nP,"/options?projection=").concat(Le):null,{payload:d,error:u}=(0,g.A)(l),h=(0,a.useMemo)(()=>{let e=[];return d&&(e=Object.keys(d[Le]).filter(e=>"null"!==e)),[qe,...e]},[d]);(0,a.useEffect)(()=>{c(r.option||qe)},[r.option]);const p=(0,a.useCallback)(e=>{let{target:{value:a}}=e;s((0,n.A)((0,n.A)({},t),{},{search:(0,i.stringify)((0,n.A)((0,n.A)({},r),{},{page:1,option:a&&a!==qe?a:void 0}))})),c(a)},[t,r,c]);return Le?u?u.toString():(0,j.jsxs)(ge.A,{className:le,children:[(0,j.jsx)(xe.A,{children:v._r.optionsLabel}),(0,j.jsx)(je.A,{label:v._r.optionsLabel,value:o!==qe?o:"",onChange:p,className:de,children:h.map((e,t)=>(0,j.jsx)(be.A,{value:e,children:v._r.optionsNiceNames[e]||e},t))})]}):null},Ge=()=>{const e=(0,s.zy)(),t=(0,s.Zp)(),r=(0,a.useMemo)(()=>{const t=decodeURIComponent(e.search);return(0,i.parse)(t,{ignoreQueryPrefix:!0,decoder:e=>e})},[e.search]),{sortState:o,sortOptions:d,handleSort:u}=(e=>{let{search:t,location:r,history:s}=e;const[o,c]=(0,a.useState)(()=>t.sortField&&t.sortDirection?{field:t.sortField,direction:"asc"===t.sortDirection?1:-1,option:"".concat(t.sortField,"-").concat(t.sortDirection)}:{field:"added",direction:-1,option:"added-desc"});(0,a.useEffect)(()=>{t.sortField&&t.sortDirection?c({field:t.sortField,direction:"asc"===t.sortDirection?1:-1,option:"".concat(t.sortField,"-").concat(t.sortDirection)}):c({field:"added",direction:-1,option:"added-desc"})},[t]);const l=[{value:"accession-desc",label:"Accession \u25bc",field:"accession",direction:"desc"},{value:"accession-asc",label:"Accession \u25b2",field:"accession",direction:"asc"},{value:"name-desc",label:"Name \u25bc",field:"name",direction:"desc"},{value:"name-asc",label:"Name \u25b2",field:"name",direction:"asc"},{value:"added-desc",label:"Added Date \u25bc",field:"added",direction:"desc"},{value:"added-asc",label:"Added Date \u25b2",field:"added",direction:"asc"},{value:"updateDate-desc",label:"Update Date \u25bc",field:"updateDate",direction:"desc"},{value:"updateDate-asc",label:"Update Date \u25b2",field:"updateDate",direction:"asc"}],d=(0,a.useCallback)(function(e){let a,d;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])a=e,d=o.field===a&&1===o.direction?"desc":"asc";else{const t=l.find(t=>t.value===e);if(!t)return;a=t.field,d=t.direction}const u="asc"===d?1:-1,h={field:a,direction:u,option:"".concat(a,"-").concat(d)};c(h);let p=a;"name"===a?p="metadata.NAME":"added"===a?p="_id":"updateDate"===a&&(p="updateDate"),s((0,n.A)((0,n.A)({},r),{},{search:(0,i.stringify)((0,n.A)((0,n.A)({},t),{},{sort:JSON.stringify({[p]:u}),sortField:a,sortDirection:d}))}))},[l,r,t,o,s]);return{sortState:o,sortOptions:l,handleSort:d}})({search:r,location:e,history:t}),p=(0,a.useMemo)(()=>(0,i.stringify)({search:r.search,query:r.query,ref:r.ref,page:r.page||1,limit:r.limit||10,filter:r.option&&r.option!==qe&&"".concat(Le,"+*").concat(r.option),sort:JSON.stringify({["name"===o.field?"metadata.NAME":"added"===o.field?"_id":"updateDate"===o.field?"updateDate":o.field]:o.direction}),countMds:"true"}),[r,o]);(0,a.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[r.page]);const f=(0,a.useRef)(null),y="".concat(v.nP,"?").concat(p),{loading:m,payload:_,error:A}=(0,g.A)(y);if(m&&!f.current)return(0,j.jsx)(x.A,{});if(A)return A.toString();let b,N=0,S=0;_?(b=_.projects,N=_.filteredCount,S=_.totalMdsCount,f.current=_):f.current?(b=f.current.projects,N=f.current.filteredCount,S=f.current.totalMdsCount):b=[];const E=b.map(e=>"".concat(v.nP,"/").concat(e.identifier,"/files/").concat(v.pP));return(0,j.jsx)(c.A,{children:(0,j.jsxs)(l.A,{className:se,children:[(0,j.jsxs)("div",{className:oe,children:[(0,j.jsx)(C,{})," "]}),(0,j.jsxs)("div",{className:ie,children:[(0,j.jsxs)("div",{className:ce,children:[(0,j.jsx)(Ie,{}),(0,j.jsx)(Be,{location:e,search:r,history:t}),(0,j.jsxs)(ge.A,{className:le,children:[(0,j.jsx)(xe.A,{children:"Sort by"}),(0,j.jsx)(je.A,{label:"Sort by",value:o.option,onChange:e=>{let{target:{value:t}}=e;return u(t)},className:de,children:d.map(e=>(0,j.jsx)(be.A,{value:e.value,children:e.label},e.value))})]})]}),m||_?[]:(0,j.jsx)(c.A,{className:te,children:(0,j.jsx)(h.A,{variant:"h5",className:re,children:"No results were found"})}),(0,j.jsxs)(Ne.A,{children:[(0,j.jsx)(Se.A,{className:K,children:(0,j.jsxs)(k.A,{children:[(0,j.jsxs)(M.A,{className:H,children:["accession",(0,j.jsx)(Ee.A,{className:ee,onClick:()=>u("accession",!0),children:"accession"===o.field?1===o.direction?"\u25b2":"\u25bc":"\u22ee"})]}),(0,j.jsxs)(M.A,{className:H,children:["name",(0,j.jsx)(Ee.A,{className:ee,onClick:()=>u("name",!0),children:"name"===o.field?1===o.direction?"\u25b2":"\u25bc":"\u22ee"})]}),(0,j.jsx)(M.A,{className:H,children:"preview"}),(0,j.jsx)(M.A,{className:H,children:"analyses"})]})}),(0,j.jsx)(Oe.A,{className:_?D()(Y):D()(Y,Z),children:b.map((e,t)=>(0,j.jsx)(fe,{projectData:e,highlight:r.search,index:t,previewUrl:E[t]},t))}),(0,j.jsx)(we.A,{children:(0,j.jsx)(ve,{matchCount:N,mdCount:S,search:r,location:e,history:t,queryPayload:_,DEFAULT_LIMIT:10,DEFAULT_PAGE:1})})]})]})]})})};Ge.displayName="Browse";const Je=Ge},67522:(e,t,r)=>{r.d(t,{A:()=>b});const n=(0,r(95465).A)(Object,"create");const a=function(){this.__data__=n?n(null):{},this.size=0};const s=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var o=Object.prototype.hasOwnProperty;const i=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0};var c=Object.prototype.hasOwnProperty;const l=function(e){var t=this.__data__;return n?void 0!==t[e]:c.call(t,e)};const d=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this};function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=a,u.prototype.delete=s,u.prototype.get=i,u.prototype.has=l,u.prototype.set=d;const h=u;var p=r(19650),f=r(29199);const y=function(){this.size=0,this.__data__={hash:new h,map:new(f.A||p.A),string:new h}};const m=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const _=function(e,t){var r=e.__data__;return m(t)?r["string"==typeof t?"string":"hash"]:r.map};const A=function(e){var t=_(this,e).delete(e);return this.size-=t?1:0,t};const v=function(e){return _(this,e).get(e)};const g=function(e){return _(this,e).has(e)};const x=function(e,t){var r=_(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function j(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}j.prototype.clear=y,j.prototype.delete=A,j.prototype.get=v,j.prototype.has=g,j.prototype.set=x;const b=j},88058:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(65709),a=r(31133);const s=function(){return a.A.Date.now()};var o=r(32222),i=Math.max,c=Math.min;const l=function(e,t,r){var a,l,d,u,h,p,f=0,y=!1,m=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function A(t){var r=a,n=l;return a=l=void 0,f=t,u=e.apply(n,r)}function v(e){var r=e-p;return void 0===p||r>=t||r<0||m&&e-f>=d}function g(){var e=s();if(v(e))return x(e);h=setTimeout(g,function(e){var r=t-(e-p);return m?c(r,d-(e-f)):r}(e))}function x(e){return h=void 0,_&&a?A(e):(a=l=void 0,u)}function j(){var e=s(),r=v(e);if(a=arguments,l=this,p=e,r){if(void 0===h)return function(e){return f=e,h=setTimeout(g,t),y?A(e):u}(p);if(m)return clearTimeout(h),h=setTimeout(g,t),A(p)}return void 0===h&&(h=setTimeout(g,t)),u}return t=(0,o.A)(t)||0,(0,n.A)(r)&&(y=!!r.leading,d=(m="maxWait"in r)?i((0,o.A)(r.maxWait)||0,t):d,_="trailing"in r?!!r.trailing:_),j.cancel=function(){void 0!==h&&clearTimeout(h),f=0,a=p=l=h=void 0},j.flush=function(){return void 0===h?u:x(s())},j}},95465:(e,t,r)=>{r.d(t,{A:()=>_});var n=r(53610);const a=r(31133).A["__core-js_shared__"];var s=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const o=function(e){return!!s&&s in e};var i=r(65709),c=r(96929),l=/^\[object .+?Constructor\]$/,d=Function.prototype,u=Object.prototype,h=d.toString,p=u.hasOwnProperty,f=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const y=function(e){return!(!(0,i.A)(e)||o(e))&&((0,n.A)(e)?f:l).test((0,c.A)(e))};const m=function(e,t){return null==e?void 0:e[t]};const _=function(e,t){var r=m(e,t);return y(r)?r:void 0}},96929:(e,t,r)=>{r.d(t,{A:()=>a});var n=Function.prototype.toString;const a=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}}}]);
//# sourceMappingURL=browse.3cc796c0.chunk.js.map