"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[421],{207:(e,t,r)=>{r.d(t,{A:()=>g});var n=r(58168),s=r(98587),a=r(65043),o=r(58387),i=r(98610),c=r(21573),l=r(98206),d=r(34535),u=r(92532),h=r(72372);function p(e){return(0,h.Ay)("MuiTableFooter",e)}(0,u.A)("MuiTableFooter",["root"]);var f=r(70579);const y=["className","component"],m=(0,d.Ay)("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-footer-group"}),_={variant:"footer"},v="tfoot",g=a.forwardRef(function(e,t){const r=(0,l.b)({props:e,name:"MuiTableFooter"}),{className:a,component:d=v}=r,u=(0,s.A)(r,y),h=(0,n.A)({},r,{component:d}),g=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},p,t)})(h);return(0,f.jsx)(c.A.Provider,{value:_,children:(0,f.jsx)(m,(0,n.A)({as:d,className:(0,o.A)(g.root,a),ref:t,role:d===v?null:"rowgroup",ownerState:h},u))})})},3152:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(54577),s=r(10500),a=r(28593),o=r(28666),i=n.A?n.A.prototype:void 0,c=i?i.toString:void 0;const l=function e(t){if("string"==typeof t)return t;if((0,a.A)(t))return(0,s.A)(t,e)+"";if((0,o.A)(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r};const d=function(e){return null==e?"":l(e)}},10312:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(67522);function s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=e.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(s.Cache||n.A),r}s.Cache=n.A;const a=s},10500:(e,t,r)=>{r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}},10939:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(65043),s=r(12110),a=r(17604);const o="style_container__M9GCG";var i=r(70579);const c={opacity:[0,1]};(0,a.A)()||(c.transform=["translateY(50px)","translateY(0)"]);const l={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},d=(0,n.forwardRef)((e,t)=>{let{overrideComponent:r,...a}=e;const d=(0,n.useRef)(null);(0,n.useLayoutEffect)(()=>{const e=d.current&&d.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex(t=>e===t),r=e.animate(c,{...l,delay:150*t});return()=>r.cancel()},[]);const u=r?"section":s.A;return(0,i.jsx)("div",{ref:d,className:o,children:(0,i.jsx)(u,{component:"section",...a,ref:t})})})},19650:(e,t,r)=>{r.d(t,{A:()=>h});const n=function(){this.__data__=[],this.size=0};var s=r(32424);const a=function(e,t){for(var r=e.length;r--;)if((0,s.A)(e[r][0],t))return r;return-1};var o=Array.prototype.splice;const i=function(e){var t=this.__data__,r=a(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)};const c=function(e){var t=this.__data__,r=a(t,e);return r<0?void 0:t[r][1]};const l=function(e){return a(this.__data__,e)>-1};const d=function(e,t){var r=this.__data__,n=a(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=c,u.prototype.has=l,u.prototype.set=d;const h=u},28593:(e,t,r)=>{r.d(t,{A:()=>n});const n=Array.isArray},29199:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(95465),s=r(31133);const a=(0,n.A)(s.A,"Map")},48332:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Le});var n=r(65043),s=r(73216),a=r(22908),o=r(10939),i=r(26494),c=r(48043),l=r(86605),d=r(85865),u=r(40710),h=r(83558),p=r(51962),f=r(28007),y=r(67784);const m={tall:"style_tall__9YO3U",advanced:"style_advanced__6aE-M",category:"style_category__W7eVa",margined:"style_margined__DUiBx",spaced:"style_spaced__HNl1x",trash:"style_trash__eOEA9",grey:"style_grey__AAhrx",unpadded:"style_unpadded__NAWaV",outlined:"style_outlined__i353I",accordion:"style_accordion__dE2XH",summary:"style_summary__2P8gb",section:"style_section__Yij1f",aligned:"style_aligned__O8YMt",button:"style_button__kRCGy",search:"style_search__ZlOSm"};var _=r(95747),v=r(58338),g=r(17545),A=r(70579);const x=_._r.queryFields,j=_._r.optionsField,b=Object.values(x).reduce((e,t)=>e.concat(t),[]),N=e=>{try{if(!e)return{};const t=JSON.parse(e),r={};return Object.entries(t).forEach(e=>{let[t,n]=e;if("$and"===t||"$or"===t)return;const s=b.find(e=>e.path===t);if(s){if(!n.$regex)return void 0!==n.$gt||void 0!==n.$lt?(r[t]={},void 0!==n.$gt&&(r[t].min=n.$gt),void(void 0!==n.$lt&&(r[t].max=n.$lt))):void(s.checkbox?r[t]=[null===n?S:String(n)]:r[t]=null===n?S:String(n));r[t]=n.$regex.replace(/\\/g,"")}}),t.$or&&Array.isArray(t.$or)&&t.$or.forEach(e=>{const t=Object.entries(e);if(1!==t.length)return;const[n,s]=t[0];r[n]?Array.isArray(r[n])&&r[n].push(null===s?S:String(s)):r[n]=[null===s?S:String(s)]}),t.$and&&Array.isArray(t.$and)&&t.$and.forEach(e=>{if(e.$or&&Array.isArray(e.$or)){const t=e.$or[0],n=Object.keys(t)[0];r[n]||(r[n]=[]),e.$or.forEach(e=>{const t=Object.keys(e)[0],s=e[t];t===n&&r[n].push(null===s?S:String(s))})}}),r}catch(t){return console.error("Error parsing URL query:",t),{}}},$=(e,t)=>{const r=(0,a.parse)(decodeURIComponent(t.search),{ignoreQueryPrefix:!0,decoder:e=>e});if(0===Object.keys(e).length)return delete r.query,"/browse?"+Object.entries(r).map(e=>{let[t,r]=e;return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`}).join("&");const n={};let s=0;if(Object.entries(e).forEach(e=>(e=>{let[t,r]=e;const a=b.find(e=>e.path===t),o=e=>e===S?{$eq:null}:"string"===a.type?e:"int"===a.type||"float"===a.type?+e:"boolean"===a.type?"true"===e:void 0;if("string"===typeof r){const e=r.replace(/[-[/\]{}()*+?.,\\^$|#\s]/g,"\\$&");return void(n[t]={$regex:e,$options:"i"})}if(r.min||r.max){const e={};if(r.min){if(isNaN(+r.min))return++s;e.$gt=+r.min}if(r.max){if(isNaN(+r.max))return++s;e.$lt=+r.max}return void(n[t]=e)}if(!Array.isArray(r))throw new Error("Wrong "+t+" -> "+r);if(1===r.length)return void(n[t]=o(r[0]));const i=n.$and;if(i)return void i.push({$or:r.map(e=>({[t]:o(e)}))});const c=n.$or;if(c)return n.$and=[{$or:c},{$or:r.map(e=>({[t]:o(e)}))}],void delete n.$or;n.$or=r.map(e=>({[t]:o(e)}))})(e)),s>0)return;const o={...r,query:JSON.stringify(n)};return Object.keys(o).forEach(e=>void 0===o[e]&&delete o[e]),"/browse?"+Object.entries(o).map(e=>{let[t,r]=e;return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`}).join("&")},S="Not defined",E=()=>{const e=(0,s.Zp)(),t=(0,s.zy)(),r=(0,a.parse)(t.search,{ignoreQueryPrefix:!0}).query,S=r?N(r):{},[E,O]=(0,n.useState)(S),w=(0,n.useRef)(!1);(0,n.useEffect)(()=>{O(r?N(r):{})},[t.search,r]);const C=()=>{w.current=!0;const r=$(E,t);e(r)};(0,n.useEffect)(()=>{const e=setTimeout(C,500);return()=>clearTimeout(e)},[E]);const P=b.filter(e=>e.options).map(e=>"projection="+e.path).join("&"),D=`${_.nP}/options?${P}`,{payload:k,error:M}=(0,v.A)(D,{name:"browse",cacheOn:!0}),[R,T]=(0,n.useState)(!0),[F,U]=(0,n.useState)({}),z=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{categoryState:Object.keys(e).reduce((e,t)=>(e[t]=!0,e),{}),fieldState:Object.values(e).flat().reduce((e,n)=>(e[n.path]=n.defaultOpen||r&&n.path in t,e),{})}};(0,n.useEffect)(()=>{const{categoryState:e,fieldState:t}=z(x,E,!0);T(e),U(t)},[]),(0,n.useEffect)(()=>{if(!r&&!w.current&&!t.search){const{categoryState:e,fieldState:t}=z(x,E);T(e),U(t)}w.current&&(w.current=!1)},[t.search,r]);const I=e=>(t,r)=>{T({...R,[e]:r})};if(M)return M.toString();const q=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{isArray:n=!1,isRange:s=!1,rangeSide:a=null}=r;if(n)if(E[e]){if(Array.isArray(E[e])){const r=E[e].indexOf(t);-1===r?E[e].push(t):(E[e].splice(r,1),0===E[e].length&&delete E[e])}}else E[e]=[t];else if(s)if(""===t){if(!E[e])return;E[e][a]&&(delete E[e][a],0===Object.keys(E[e]).length&&delete E[e])}else E[e]?E[e][a]=t:E[e]={[a]:t};else""===t?delete E[e]:E[e]=t;O({...E})};return(0,A.jsx)(o.A,{className:m.tall,children:(0,A.jsxs)(i.A,{style:{paddingLeft:"0"},children:[(0,A.jsxs)("div",{className:m.advanced,children:["Use the ",(0,A.jsx)("b",{children:"search"})," menu to create a specific query. Go to"," "," ",(0,A.jsx)("a",{href:"/#/advanced-search",children:"advanced search"})," for a most complex query."]}),Object.entries(x).map((e,t)=>{let[r,n]=e;return(0,A.jsxs)(c.A,{expanded:!!R[r],onChange:I(r),disableGutters:!0,className:m.category,children:[(0,A.jsx)(l.A,{className:m.categorySummary,children:(0,A.jsx)(d.A,{variant:"h6",className:m.margined,children:r})}),(0,A.jsx)(u.A,{className:m.section,children:(0,A.jsx)("div",{children:n.map((e,t)=>{return e.path===j?null:(0,A.jsxs)(c.A,{className:m.accordion,disableGutters:!0,expanded:!!F[e.path],onChange:(r=e.path,(e,t)=>{U({...F,[r]:t})}),children:[(0,A.jsx)(l.A,{className:m.summary,children:e.name}),(0,A.jsx)(u.A,{children:(()=>{if(!k)return(0,A.jsx)(g.A,{});const t=E;if(e.options){const r=k[e.path];let n=0;if(r&&r.null&&(n+=r.null,delete r.null),!r)return null;if(e.checkbox){return Object.entries(r).sort((e,t)=>{let[r,n]=e,[s,a]=t;return a-n}).map((r,n)=>{let[s,a]=r;const o=!!(t[e.path]&&Array.isArray(t[e.path])&&t[e.path].includes(s));return(0,A.jsx)(h.A,{onChange:()=>q(e.path,s,{isArray:!0}),control:(0,A.jsx)(p.A,{checked:o,style:{color:"black"},inputProps:{"data-key":s}}),label:`${s} (${a})`,style:{color:"black"}},n)})}{const n=Object.entries(r).map(e=>{let[t,r]=e;return{label:t,count:r}}).sort((e,t)=>t.count-e.count);return(0,A.jsx)("div",{className:m.aligned,children:(0,A.jsx)(f.A,{options:n,getOptionLabel:e=>e.label,renderOption:(e,t)=>(0,A.jsx)("li",{...e,children:t.label+" ("+t.count+")"}),sx:{width:"50vh"},clearOnBlur:!1,value:t[e.path]&&n.find(r=>r.label===t[e.path])||null,renderInput:t=>(0,A.jsx)(y.A,{...t,title:"Type here the value for the specified field",placeholder:"e.g. "+e.example,className:m.spaced}),onChange:(t,r)=>{const n=r?r.label:"";q(e.path,n)}})})}}if("string"===e.type)return(0,A.jsx)("div",{className:m.aligned,children:(0,A.jsx)(y.A,{title:"Type here the value for the specified field",value:t[e.path]||"",onChange:t=>{let{target:{value:r}}=t;return q(e.path,r)},onKeyPress:t=>{"Enter"===t.key&&q(e.path,t.target.value)},placeholder:"e.g. "+e.example,inputProps:{inputMode:"text"},className:m.spaced})});{const r=t[e.path]&&t[e.path].min||"",n=t[e.path]&&t[e.path].max||"";return(0,A.jsxs)("div",{className:m.aligned,children:[(0,A.jsx)(y.A,{title:"Type here the value for the specified field",value:r,onChange:t=>{let{target:{value:r}}=t;return q(e.path,r,{isRange:!0,rangeSide:"min"})},onKeyPress:t=>{"Enter"===t.key&&q(e.path,t.target.value,{isRange:!0,rangeSide:"min"})},placeholder:"> e.g. "+e.example,inputProps:{inputMode:"numeric",pattern:"[0-9.,+-]*"},className:m.spaced}),(0,A.jsx)("span",{style:{padding:"3px"},children:"-"}),(0,A.jsx)(y.A,{title:"Type here the value for the specified field",value:n,onChange:t=>{let{target:{value:r}}=t;return q(e.path,r,{isRange:!0,rangeSide:"max"})},onKeyPress:t=>{"Enter"===t.key&&q(e.path,t.target.value,{isRange:!0,rangeSide:"max"})},placeholder:"< e.g. "+e.example,inputProps:{inputMode:"numeric",pattern:"[0-9.,+-]*"},className:m.spaced})]})}})()})]},t);var r})})})]},t)})]})})};var O=r(35475),w=r(64600),C=r.n(w),P=r(28076),D=r(10039),k=r(43845),M=r(83150),R=r(10312),T=r(3152),F=/[\\^$.*+?()[\]{}|]/g,U=RegExp(F.source);const z=function(e){return(e=(0,T.A)(e))&&U.test(e)?e.replace(F,"\\$&"):e},I="style_highlightable__biB77",q=/\s+/,L=(0,R.A)(e=>new RegExp(`(${e.toString().trim().split(q).map(z).join("|")})`,"i")),B=n.memo(e=>{let{highlight:t,children:r}=e;if(Array.isArray(r))return r.map((e,r)=>(0,A.jsx)(B,{highlight:t,children:e},r));if(!t||!r||"string"!==typeof r&&!Number.isFinite(r))return r||null;const s=L(t);return(0,A.jsx)("span",{className:I,children:r.toString().split(s).filter(Boolean).map((e,t)=>n.createElement(s.test(e)?"mark":"span",{key:t},e))})}),G=B;var J=r(17604);const Q="style_table-body__UaSDI",W="style_invalid-results__xfJgr",Y="style_table-head__tmuYe",Z="style_not-published__KTvNz",K="style_error-row__LE6tS",V="style_center__5C2Uk",X="style_sort__d7lWZ",H="style_no-results-card__hJ248",ee="style_no-results-text__PtOSj",te="style_analysis__M4Th0",re="style_small__QxCJm",ne="style_browser__HmO0n",se="style_left-bar__kq-vA",ae="style_right-bar__jr0l7",oe="style_search__c+hyw",ie="style_selector__XVrF1",ce="style_fillheight__1UWvV";var le=r(75576);const de={opacity:[0,1]};(0,J.A)()||(de.transform=["translateX(2.5%)","translateX(0)"]);const ue=e=>{let{projectData:t,highlight:r,index:s,previewUrl:a}=e;const o=new le.M(t),{identifier:i,accession:c,published:l,pdbInfo:d,metadata:u,mdCount:h,directions:p}=o,f=(0,n.useRef)(null);return(0,n.useLayoutEffect)(()=>{if(!f.current||!f.current.animate)return;const e=f.current.animate(de,{fill:"both",easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",duration:750,delay:100+75*s});return()=>e.cancel()},[s]),o.error?(0,A.jsxs)(P.A,{ref:f,className:K,children:[(0,A.jsxs)(D.A,{className:V,children:[" ",o.accession," "]}),(0,A.jsxs)(D.A,{className:V,children:[" ",o.error," "]}),(0,A.jsx)(D.A,{className:V,children:" - "}),(0,A.jsx)(D.A,{className:V,children:" - "})]}):(0,A.jsxs)(P.A,{ref:f,className:C()({[Z]:!l}),children:[(0,A.jsxs)(D.A,{className:V,children:[(0,A.jsx)(O.N_,{to:{pathname:`/id/${c||i}/overview`,state:{projectData:o}},children:(0,A.jsxs)(G,{highlight:r,children:[c||i,!l&&(0,A.jsx)("div",{children:"(not published)"})]})}),h>1&&(0,A.jsx)("div",{className:re,children:`${h} MDs`})]}),(0,A.jsx)(D.A,{className:V,children:(0,A.jsx)(G,{highlight:r,children:u&&u.NAME?u.NAME:d&&d.compound?d.compound:"Not available"})}),(0,A.jsx)(D.A,{className:V,children:(0,A.jsx)(M.A,{src:a,width:"110",height:"110",loading:"lazy",alt:"Project preview"})}),(0,A.jsx)(D.A,{className:V,children:Object.entries(p).filter(e=>{let[t,r]=e;return r}).map(e=>{let[t,r]=e;return(0,A.jsx)(k.A,{clickable:!0,className:te,component:O.N_,to:{pathname:`/id/${c||i}/${t}`,state:{projectData:o}},label:_.h7.get(t)||t,variant:"outlined"},t)})})]})};ue.displayName="Row";const he=ue;var pe=r(67803);const fe=[5,10,25,50],ye={title:"Previous page"},me={title:"Next page"},_e=e=>{let{matchCount:t,mdCount:r,search:n,location:s,history:o,queryPayload:i,component:c="div",colSpan:l,DEFAULT_LIMIT:d,DEFAULT_PAGE:u}=e;return(0,A.jsx)(P.A,{children:(0,A.jsx)(pe.A,{rowsPerPageOptions:fe,colSpan:6,count:t,rowsPerPage:+n.limit||d,page:(+n.page||u)-1,onPageChange:(e,t)=>{o({...s,search:(0,a.stringify)({search:n.search,query:n.query,option:n.option,page:t+1===u?void 0:t+1,limit:n.limit&&+n.limit!==d?+n.limit:void 0,sort:n.sort,sortField:n.sortField,sortDirection:n.sortDirection})})},onRowsPerPageChange:e=>{let{target:{value:t}}=e;o({...s,search:(0,a.stringify)({search:n.search,query:n.query,option:n.option,limit:+t===d?void 0:t,sort:n.sort,sortField:n.sortField,sortDirection:n.sortDirection})})},backIconButtonProps:ye,nextIconButtonProps:me,labelDisplayedRows:e=>{let{from:t,to:n,count:s}=e;return`${t}-${n} of ${s} projects (${r} MDs)`}})})};var ve=r(53193),ge=r(79190),Ae=r(2260),xe=r(32143),je=r(71806),be=r(84882),Ne=r(11906),$e=r(73460),Se=r(207),Ee=r(88058),Oe=r(51787),we=r(92127),Ce=r(12639),Pe=r(1198);const De="style_searchbar__L3fSk",ke="style_searchbar-icon__o1zED",Me="style_searchbar-letters__NY7xQ",Re={"aria-label":"Search projects by text",startAdornment:(0,A.jsx)(Oe.A,{position:"start",children:(0,A.jsx)(we.g,{icon:Ce.MjD,size:"2x",className:ke})}),classes:{input:Me}},Te=(0,Ee.A)((e,t,r)=>{const{search:n,...s}=(0,a.parse)(e.search,{ignoreQueryPrefix:!0}),o=Boolean(n)===Boolean(r);r&&(s.search=r),n!==r&&(s.page=void 0,t({...e,search:(0,a.stringify)(s),replace:o}))},500),Fe=()=>{const e=(0,s.zy)(),t=(0,s.Zp)(),[r,o]=(0,n.useState)((0,a.parse)(e.search,{ignoreQueryPrefix:!0}).search);(0,n.useEffect)(()=>Te.cancel,[]);const i=(0,n.useCallback)(r=>{let{target:{value:n}}=r;o(n),Te(e,t,n)},[e,t]),c=Pe.m.find(e=>"browser"===e.id);return(0,A.jsx)(y.A,{title:c.text,value:r||"",onChange:i,className:De,InputProps:Re,placeholder:_._r.searchExample})},Ue="All results",ze=_._r.optionsField,Ie=e=>{let{location:t,search:r,history:s}=e;const[o,i]=(0,n.useState)(r.option||Ue),c=ze?`${_.nP}/options?projection=${ze}`:null,{payload:l,error:d}=(0,v.A)(c),u=(0,n.useMemo)(()=>{let e=[];return l&&(e=Object.keys(l[ze]).filter(e=>"null"!==e)),[Ue,...e]},[l]);(0,n.useEffect)(()=>{i(r.option||Ue)},[r.option]);const h=(0,n.useCallback)(e=>{let{target:{value:n}}=e;s({...t,search:(0,a.stringify)({...r,page:1,option:n&&n!==Ue?n:void 0})}),i(n)},[t,r,i]);return ze?d?d.toString():(0,A.jsxs)(ve.A,{className:ie,children:[(0,A.jsx)(ge.A,{children:_._r.optionsLabel}),(0,A.jsx)(Ae.A,{label:_._r.optionsLabel,value:o!==Ue?o:"",onChange:h,className:ce,children:u.map((e,t)=>(0,A.jsx)(xe.A,{value:e,children:_._r.optionsNiceNames[e]||e},t))})]}):null},qe=()=>{const e=(0,s.zy)(),t=(0,s.Zp)(),r=(0,n.useMemo)(()=>{const t=decodeURIComponent(e.search);return(0,a.parse)(t,{ignoreQueryPrefix:!0,decoder:e=>e})},[e.search]),{sortState:c,sortOptions:l,handleSort:u}=(e=>{let{search:t,location:r,history:s}=e;const[o,i]=(0,n.useState)(()=>t.sortField&&t.sortDirection?{field:t.sortField,direction:"asc"===t.sortDirection?1:-1,option:`${t.sortField}-${t.sortDirection}`}:{field:"added",direction:-1,option:"added-desc"});(0,n.useEffect)(()=>{t.sortField&&t.sortDirection?i({field:t.sortField,direction:"asc"===t.sortDirection?1:-1,option:`${t.sortField}-${t.sortDirection}`}):i({field:"added",direction:-1,option:"added-desc"})},[t]);const c=[{value:"accession-desc",label:"Accession \u25bc",field:"accession",direction:"desc"},{value:"accession-asc",label:"Accession \u25b2",field:"accession",direction:"asc"},{value:"name-desc",label:"Name \u25bc",field:"name",direction:"desc"},{value:"name-asc",label:"Name \u25b2",field:"name",direction:"asc"},{value:"added-desc",label:"Added Date \u25bc",field:"added",direction:"desc"},{value:"added-asc",label:"Added Date \u25b2",field:"added",direction:"asc"},{value:"updateDate-desc",label:"Update Date \u25bc",field:"updateDate",direction:"desc"},{value:"updateDate-asc",label:"Update Date \u25b2",field:"updateDate",direction:"asc"}],l=(0,n.useCallback)(function(e){let n,l;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])n=e,l=o.field===n&&1===o.direction?"desc":"asc";else{const t=c.find(t=>t.value===e);if(!t)return;n=t.field,l=t.direction}const d="asc"===l?1:-1;i({field:n,direction:d,option:`${n}-${l}`});let u=n;"name"===n?u="metadata.NAME":"added"===n?u="_id":"updateDate"===n&&(u="updateDate"),s({...r,search:(0,a.stringify)({...t,sort:JSON.stringify({[u]:d}),sortField:n,sortDirection:l})})},[c,r,t,o,s]);return{sortState:o,sortOptions:c,handleSort:l}})({search:r,location:e,history:t}),h=(0,n.useMemo)(()=>(0,a.stringify)({search:r.search,query:r.query,ref:r.ref,page:r.page||1,limit:r.limit||10,filter:r.option&&r.option!==Ue&&`${ze}+*${r.option}`,sort:JSON.stringify({["name"===c.field?"metadata.NAME":"added"===c.field?"_id":"updateDate"===c.field?"updateDate":c.field]:c.direction}),countMds:"true"}),[r,c]);(0,n.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[r.page]);const p=(0,n.useRef)(null),f=`${_.nP}?${h}`,{loading:y,payload:m,error:x}=(0,v.A)(f);if(y&&!p.current)return(0,A.jsx)(g.A,{});if(x)return x.toString();let j,b=0,N=0;m?(j=m.projects,b=m.filteredCount,N=m.totalMdsCount,p.current=m):p.current?(j=p.current.projects,b=p.current.filteredCount,N=p.current.totalMdsCount):j=[];const $=j.map(e=>`${_.nP}/${e.identifier}/files/${_.pP}`);return(0,A.jsx)(o.A,{children:(0,A.jsxs)(i.A,{className:ne,children:[(0,A.jsxs)("div",{className:se,children:[(0,A.jsx)(E,{})," "]}),(0,A.jsxs)("div",{className:ae,children:[(0,A.jsxs)("div",{className:oe,children:[(0,A.jsx)(Fe,{}),(0,A.jsx)(Ie,{location:e,search:r,history:t}),(0,A.jsxs)(ve.A,{className:ie,children:[(0,A.jsx)(ge.A,{children:"Sort by"}),(0,A.jsx)(Ae.A,{label:"Sort by",value:c.option,onChange:e=>{let{target:{value:t}}=e;return u(t)},className:ce,children:l.map(e=>(0,A.jsx)(xe.A,{value:e.value,children:e.label},e.value))})]})]}),y||m?[]:(0,A.jsx)(o.A,{className:H,children:(0,A.jsx)(d.A,{variant:"h5",className:ee,children:"No results were found"})}),(0,A.jsxs)(je.A,{children:[(0,A.jsx)(be.A,{className:Y,children:(0,A.jsxs)(P.A,{children:[(0,A.jsxs)(D.A,{className:V,children:["accession",(0,A.jsx)(Ne.A,{className:X,onClick:()=>u("accession",!0),children:"accession"===c.field?1===c.direction?"\u25b2":"\u25bc":"\u22ee"})]}),(0,A.jsxs)(D.A,{className:V,children:["name",(0,A.jsx)(Ne.A,{className:X,onClick:()=>u("name",!0),children:"name"===c.field?1===c.direction?"\u25b2":"\u25bc":"\u22ee"})]}),(0,A.jsx)(D.A,{className:V,children:"preview"}),(0,A.jsx)(D.A,{className:V,children:"analyses"})]})}),(0,A.jsx)($e.A,{className:m?C()(Q):C()(Q,W),children:j.map((e,t)=>(0,A.jsx)(he,{projectData:e,highlight:r.search,index:t,previewUrl:$[t]},t))}),(0,A.jsx)(Se.A,{children:(0,A.jsx)(_e,{matchCount:b,mdCount:N,search:r,location:e,history:t,queryPayload:m,DEFAULT_LIMIT:10,DEFAULT_PAGE:1})})]})]})]})})};qe.displayName="Browse";const Le=qe},67522:(e,t,r)=>{r.d(t,{A:()=>b});const n=(0,r(95465).A)(Object,"create");const s=function(){this.__data__=n?n(null):{},this.size=0};const a=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var o=Object.prototype.hasOwnProperty;const i=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0};var c=Object.prototype.hasOwnProperty;const l=function(e){var t=this.__data__;return n?void 0!==t[e]:c.call(t,e)};const d=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this};function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=s,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=l,u.prototype.set=d;const h=u;var p=r(19650),f=r(29199);const y=function(){this.size=0,this.__data__={hash:new h,map:new(f.A||p.A),string:new h}};const m=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const _=function(e,t){var r=e.__data__;return m(t)?r["string"==typeof t?"string":"hash"]:r.map};const v=function(e){var t=_(this,e).delete(e);return this.size-=t?1:0,t};const g=function(e){return _(this,e).get(e)};const A=function(e){return _(this,e).has(e)};const x=function(e,t){var r=_(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function j(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}j.prototype.clear=y,j.prototype.delete=v,j.prototype.get=g,j.prototype.has=A,j.prototype.set=x;const b=j},88058:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(65709),s=r(31133);const a=function(){return s.A.Date.now()};var o=r(32222),i=Math.max,c=Math.min;const l=function(e,t,r){var s,l,d,u,h,p,f=0,y=!1,m=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=s,n=l;return s=l=void 0,f=t,u=e.apply(n,r)}function g(e){var r=e-p;return void 0===p||r>=t||r<0||m&&e-f>=d}function A(){var e=a();if(g(e))return x(e);h=setTimeout(A,function(e){var r=t-(e-p);return m?c(r,d-(e-f)):r}(e))}function x(e){return h=void 0,_&&s?v(e):(s=l=void 0,u)}function j(){var e=a(),r=g(e);if(s=arguments,l=this,p=e,r){if(void 0===h)return function(e){return f=e,h=setTimeout(A,t),y?v(e):u}(p);if(m)return clearTimeout(h),h=setTimeout(A,t),v(p)}return void 0===h&&(h=setTimeout(A,t)),u}return t=(0,o.A)(t)||0,(0,n.A)(r)&&(y=!!r.leading,d=(m="maxWait"in r)?i((0,o.A)(r.maxWait)||0,t):d,_="trailing"in r?!!r.trailing:_),j.cancel=function(){void 0!==h&&clearTimeout(h),f=0,s=p=l=h=void 0},j.flush=function(){return void 0===h?u:x(a())},j}},95465:(e,t,r)=>{r.d(t,{A:()=>_});var n=r(53610);const s=r(31133).A["__core-js_shared__"];var a=function(){var e=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const o=function(e){return!!a&&a in e};var i=r(65709),c=r(96929),l=/^\[object .+?Constructor\]$/,d=Function.prototype,u=Object.prototype,h=d.toString,p=u.hasOwnProperty,f=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const y=function(e){return!(!(0,i.A)(e)||o(e))&&((0,n.A)(e)?f:l).test((0,c.A)(e))};const m=function(e,t){return null==e?void 0:e[t]};const _=function(e,t){var r=m(e,t);return y(r)?r:void 0}},96929:(e,t,r)=>{r.d(t,{A:()=>s});var n=Function.prototype.toString;const s=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}}}]);
//# sourceMappingURL=browse.aa2b6fe0.chunk.js.map