"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[421],{10939:(e,t,r)=>{r.d(t,{A:()=>h});var s=r(65043),a=r(12110),n=r(17604);const l="style_container__M9GCG";var i=r(70579);const c={opacity:[0,1]};(0,n.A)()||(c.transform=["translateY(50px)","translateY(0)"]);const o={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},h=(0,s.forwardRef)(((e,t)=>{let{overrideComponent:r,...n}=e;const h=(0,s.useRef)(null);(0,s.useLayoutEffect)((()=>{const e=h.current&&h.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex((t=>e===t)),r=e.animate(c,{...o,delay:150*t});return()=>r.cancel()}),[]);const d=r?"section":a.A;return(0,i.jsx)("div",{ref:h,className:l,children:(0,i.jsx)(d,{component:"section",...n,ref:t})})}))},11567:(e,t,r)=>{r.r(t),r.d(t,{default:()=>xe});var s=r(65043),a=r(35475),n=r(73216),l=r(22908),i=r(64600),c=r.n(i),o=r(28076),h=r(10039),d=r(43845),u=r(26494),p=r(53193),m=r(79190),x=r(2260),f=r(32143),j=r(85865),_=r(71806),g=r(84882),y=r(73460),A=r(207),N=r(67803),b=r(83150),v=r(10939),P=r(10312),w=r(70008);const C="style_highlightable__biB77";var k=r(70579);const E=/\s+/,S=(0,P.A)((e=>new RegExp("(".concat(e.toString().trim().split(E).map(w.A).join("|"),")"),"i"))),q=s.memo((e=>{let{highlight:t,children:r}=e;if(Array.isArray(r))return r.map(((e,r)=>(0,k.jsx)(q,{highlight:t,children:e},r)));if(!t||!r||"string"!==typeof r&&!Number.isFinite(r))return r||null;const a=S(t);return(0,k.jsx)("span",{className:C,children:r.toString().split(a).filter(Boolean).map(((e,t)=>s.createElement(a.test(e)?"mark":"span",{key:t},e)))})})),z=q;var D=r(17545),M=r(58338),I=r(95747);const R="style_table-body__UaSDI",B="style_invalid-results__xfJgr",Q="style_table-head__tmuYe",U="style_not-published__KTvNz",L="style_center__5C2Uk",O="style_no-results-card__hJ248",X="style_minheight__Qpr-9",Y="style_no-results-text__PtOSj",F="style_analysis__M4Th0",J="style_small__QxCJm",T="style_horizontal__f42Xi",G="style_selector__XVrF1",V="style_fillheight__1UWvV";var Z=r(17604),K=r(66062),W=r(88058),H=r(51787),$=r(67784),ee=r(92127),te=r(12639),re=r(1198);const se="style_searchbar__L3fSk",ae="style_searchbar-icon__o1zED",ne="style_searchbar-letters__NY7xQ",le={"aria-label":"Search projects by text",startAdornment:(0,k.jsx)(H.A,{position:"start",children:(0,k.jsx)(ee.g,{icon:te.MjD,size:"2x",className:ae})}),classes:{input:ne}},ie=(0,W.A)(((e,t,r)=>{const{search:s,...a}=(0,l.parse)(e.search,{ignoreQueryPrefix:!0}),n=Boolean(s)===Boolean(r);r&&(a.search=r),s!==r&&(a.page=void 0,t({...e,search:(0,l.stringify)(a),replace:n}))}),500),ce=()=>{const e=(0,n.zy)(),t=(0,n.Zp)(),[r,a]=(0,s.useState)((0,l.parse)(e.search,{ignoreQueryPrefix:!0}).search);(0,s.useEffect)((()=>ie.cancel),[]);const i=(0,s.useCallback)((r=>{let{target:{value:s}}=r;a(s),ie(e,t,s)}),[e,t]),c=re.m.find((e=>"browser"===e.id));return(0,k.jsx)($.A,{title:c.text,value:r||"",onChange:i,className:se,InputProps:le,placeholder:I._r.searchExample})},oe="All results",he=[5,10,25,50],de={title:"Previous page"},ue={title:"Next page"},pe={opacity:[0,1]};(0,Z.A)()||(pe.transform=["translateX(2.5%)","translateX(0)"]);const me=e=>{let{projectData:t,highlight:r,index:n,previewUrl:l}=e;const i=new K.M(t),{identifier:u,accession:p,published:m,pdbInfo:x,metadata:f,mdCount:j,directions:_}=i,g=(0,s.useRef)(null);return(0,s.useLayoutEffect)((()=>{if(!g.current||!g.current.animate)return;const e=g.current.animate(pe,{fill:"both",easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",duration:750,delay:100+75*n});return()=>e.cancel()}),[n]),i.error?(0,k.jsxs)(o.A,{ref:g,className:U,children:[(0,k.jsx)(h.A,{className:L,children:" Errored entry "}),(0,k.jsxs)(h.A,{className:L,children:[" ",i.error," "]}),(0,k.jsx)(h.A,{className:L,children:" - "}),(0,k.jsx)(h.A,{className:L,children:" - "})]}):(0,k.jsxs)(o.A,{ref:g,className:c()({[U]:!m}),children:[(0,k.jsxs)(h.A,{className:L,children:[(0,k.jsx)(a.N_,{to:{pathname:"/id/".concat(p||u,"/overview"),state:{projectData:i}},children:(0,k.jsxs)(z,{highlight:r,children:[p||u,!m&&(0,k.jsx)("div",{children:"(not published)"})]})}),j>1&&(0,k.jsx)("div",{className:J,children:"".concat(j," MDs")})]}),(0,k.jsx)(h.A,{className:L,children:(0,k.jsx)(z,{highlight:r,children:f&&f.NAME?f.NAME:x&&x.compound?x.compound:"Not available"})}),(0,k.jsx)(h.A,{className:L,children:(0,k.jsx)(b.A,{src:l,width:"110",height:"110",loading:"lazy",alt:"Project preview"})}),(0,k.jsx)(h.A,{className:L,children:Object.entries(_).filter((e=>{let[t,r]=e;return r})).map((e=>{let[t,r]=e;return(0,k.jsx)(d.A,{clickable:!0,className:F,component:a.N_,to:{pathname:"/id/".concat(p||u,"/").concat(t),state:{projectData:i}},label:I.h7.get(t)||t,variant:"outlined"},t)}))})]})},xe=()=>{const e=(0,n.zy)(),t=(0,n.Zp)(),r=decodeURIComponent(e.search),a=(0,l.parse)(r,{ignoreQueryPrefix:!0,decoder:e=>e}),[i,d]=(0,s.useState)(a.option||oe),b=(0,s.useCallback)((r=>{let{target:{value:s}}=r;t({...e,search:(0,l.stringify)({search:a.search,query:a.query,option:s&&s!==oe?s:void 0})}),d(s)}),[e,a,d]),P=I._r.optionsField,w=i&&i!==oe&&"".concat(P,"+*").concat(i),C=(0,l.stringify)({search:a.search,query:a.query,ref:a.ref,page:a.page||1,limit:a.limit||10,filter:w});(0,s.useEffect)((()=>{window.scrollTo(0,0)}),[a.page]);const E=(0,s.useRef)(null),S=P?"".concat(I.nP,"/options?projection=").concat(P):null,{payload:q,error:z}=(0,M.A)(S),U=(0,s.useMemo)((()=>{let e=[];return q&&(e=Object.keys(q[P]).filter((e=>"null"!==e))),[oe,...e]}),[q]),F="".concat(I.nP,"?").concat(C),{loading:J,payload:Z,error:K}=(0,M.A)(F);if(J&&!E.current)return(0,k.jsx)(D.A,{});if(K)return K.toString();if(z)return z.toString();let W,H=0;Z?(W=Z.projects,H=Z.filteredCount,E.current=Z):E.current?(W=E.current.projects,H=E.current.filteredCount):W=[];const $=W.map((e=>"".concat(I.nP,"/").concat(e.identifier,"/files/").concat(I.pP)));return(0,k.jsx)(v.A,{children:(0,k.jsxs)(u.A,{className:X,children:[(0,k.jsxs)("div",{className:T,children:[(0,k.jsx)(ce,{}),P&&(0,k.jsxs)(p.A,{className:G,children:[(0,k.jsx)(m.A,{children:I._r.optionsLabel}),(0,k.jsx)(x.A,{label:I._r.optionsLabel,value:i!==oe?i:"",onChange:b,className:V,children:U.map(((e,t)=>(0,k.jsx)(f.A,{value:e,children:I._r.optionsNiceNames[e]||e},t)))})]})]}),J||Z?[]:(0,k.jsx)(v.A,{className:O,children:(0,k.jsx)(j.A,{variant:"h5",className:Y,children:"No results were found"})}),(0,k.jsxs)(_.A,{children:[(0,k.jsx)(g.A,{className:Q,children:(0,k.jsxs)(o.A,{children:[(0,k.jsx)(h.A,{className:L,children:"accession"}),(0,k.jsx)(h.A,{className:L,children:"name"}),(0,k.jsx)(h.A,{className:L,children:"preview"}),(0,k.jsx)(h.A,{className:L,children:"analyses"})]})}),(0,k.jsx)(y.A,{className:Z?c()(R):c()(R,B),children:W.map(((e,t)=>(0,k.jsx)(me,{projectData:e,highlight:a.search,index:t,previewUrl:$[t]},t)))}),(0,k.jsx)(A.A,{children:(0,k.jsx)(o.A,{children:(0,k.jsx)(N.A,{rowsPerPageOptions:he,colSpan:6,count:H,rowsPerPage:+a.limit||10,page:(+a.page||1)-1,onPageChange:(r,s)=>{t({...e,search:(0,l.stringify)({search:a.search,query:a.query,option:a.option,page:s+1===1?void 0:s+1,limit:a.limit&&10!==+a.limit?+a.limit:void 0})})},onRowsPerPageChange:r=>{let{target:{value:s}}=r;t({...e,search:(0,l.stringify)({search:a.search,query:a.query,option:a.option,limit:10===+s?void 0:s})})},backIconButtonProps:de,nextIconButtonProps:ue})})})]})]})})}}}]);
//# sourceMappingURL=browse.caaa9f34.chunk.js.map