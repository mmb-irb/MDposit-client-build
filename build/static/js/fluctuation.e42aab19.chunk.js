"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[2627],{10939:(e,n,t)=>{t.d(n,{A:()=>d});var s=t(65043),r=t(12110),a=t(17604);const i="style_container__M9GCG";var o=t(70579);const l={opacity:[0,1]};(0,a.A)()||(l.transform=["translateY(50px)","translateY(0)"]);const c={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},d=(0,s.forwardRef)(((e,n)=>{let{overrideComponent:t,...a}=e;const d=(0,s.useRef)(null);(0,s.useLayoutEffect)((()=>{const e=d.current&&d.current.firstElementChild;if(!e||!e.animate)return;const n=Array.from(document.querySelectorAll("main section")).findIndex((n=>e===n)),t=e.animate(l,{...c,delay:150*n});return()=>t.cancel()}),[]);const u=t?"section":r.A;return(0,o.jsx)("div",{ref:d,className:i,children:(0,o.jsx)(u,{component:"section",...a,ref:n})})}))},34088:(e,n,t)=>{t.d(n,{A:()=>x});var s=t(65043),r=t(43126),a=t(10939);const i="style_rnd__Txifm",o="style_floating-card__HHpby";var l=t(70579);const c=(0,s.lazy)((()=>Promise.all([t.e(7784),t.e(8095),t.e(3845),t.e(2594),t.e(9070),t.e(8280),t.e(6190),t.e(1235),t.e(9117)]).then(t.bind(t,92428))));let d=0;const u=e=>{const n=e.viewerRef||(0,s.useRef)(null),[t,u]=(0,s.useState)((()=>{const{innerWidth:e,innerHeight:n,scrollY:t}=window,s=document.querySelector("main").offsetTop,r=Math.max(Math.min(e/4,n/4),150),a=1.5*r;return{width:2*r,height:a,x:0,y:n-s-a-20+t}}));return(0,l.jsx)(r.p,{position:{x:t.x,y:t.y},size:{width:t.width,height:t.height},style:{zIndex:(d+=1,d)},className:i,"data-rnd":!0,bounds:"window",cancel:"canvas, [data-popover], #preventDragSize",onDragStart:()=>{u({...t})},onResizeStart:()=>{u({...t})},onDragStop:(e,n)=>{0===e.layerX&&0===e.layerY||t.x===n.x&&t.y===n.y||u({...t,x:n.x,y:n.y})},onResize:()=>n.current&&n.current.autoResize(),onResizeStop:(e,n,t,s,r)=>{u({width:t.style.width,height:t.style.height,...r})},children:(0,l.jsx)(a.A,{className:o,elevation:4,children:(0,l.jsx)(s.Suspense,{fallback:null,children:(0,l.jsx)(c,{className:o,ref:n,startsPlaying:!1,...e})})})})},x=e=>{let{newViewer:n,nailing:t=!0,onNail:r,onClose:a}=e;const[i,o]=(0,s.useState)([]),c=[...i],d=(0,s.useRef)([]);if(n){const e=()=>{let e=0;for(;e<999;){if(-1===d.current.indexOf(e))return e;e+=1}console.error("Maximum number of viewers reached")};n.id=e(),n.close=()=>{t&&o((e=>{const t=[...e],s=e.indexOf(n);return-1!==s&&t.splice(s,1),t})),a&&a(n),d.current.push(n.id)},t&&(n.nail=()=>{o((e=>[...e,n])),r&&r(n),d.current.push(n.id)}),c.push(n)}return c.map((e=>(0,l.jsx)(u,{...e},e.id)))}},38747:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var s=t(65043),r=t(26494),a=t(71806),i=t(84882),o=t(28076),l=t(10039),c=t(73460),d=t(85865),u=t(10939),x=t(34088),h=t(17545),m=t(11906),f=t(92127),y=t(44642),A=t(58338),p=t(29449),j=t(95747);const g="style_card__9qUkb",v="style_right__Y0Fdo";var w=t(70579);const S=(0,s.lazy)((()=>Promise.all([t.e(4040),t.e(2577),t.e(5291),t.e(5077)]).then(t.bind(t,75291)))),b=()=>{const{accessionAndMdNumber:e,topology:n}=(0,s.useContext)(p.f),{loading:t,payload:b,error:_}=(0,A.A)("".concat(j.nP,"/").concat(e,"/analyses/fluctuation/"));(0,s.useMemo)((()=>{if(!b)return;const e=b.y.rmsf;e.data=e.data.map((e=>10*e)),e.average=10*e.average,e.stddev=10*e.stddev}),[b]);const[C,z]=(0,s.useState)(null),[R,N]=(0,s.useState)(new Set),k=(0,s.useMemo)((()=>Array.from(R).map((e=>({x:e,attr:{fill:"#c8c8c8"}})))),[R]),{xColors:M,xTooltip:D}=(0,s.useMemo)((()=>{if(!n)return{};return{xColors:n.getAtomElementColors(),xTooltip:(e,t)=>{const s="atom "+(t+1),r=n.getAtomName(t);if(!r)return s;const a=n.getAtomResidueIndex(t),i=n.getResidueByIndex(a).name;return i?s+" (".concat(i," - ").concat(r,")"):s+" (".concat(r,")")}}}),[n]);if(!n)return(0,w.jsx)(h.A,{});if(t)return(0,w.jsx)(h.A,{});if(_)return _.toString();if(!b)return"Something bad happened";const P=e=>Math.round(100*e)/100;return(0,w.jsxs)(s.Suspense,{fallback:(0,w.jsx)(h.A,{}),children:[(0,w.jsx)(u.A,{className:g,children:(0,w.jsx)(r.A,{children:(0,w.jsxs)(a.A,{children:[(0,w.jsx)(i.A,{children:(0,w.jsxs)(o.A,{children:[(0,w.jsx)(l.A,{children:"name"}),(0,w.jsx)(l.A,{children:"mean (\xc5)"}),(0,w.jsx)(l.A,{children:"standard deviation (\xc5)"})]})}),(0,w.jsx)(c.A,{children:(0,w.jsxs)(o.A,{children:[(0,w.jsx)(l.A,{children:"Fluctuation"}),(0,w.jsx)(l.A,{children:P(b.y.rmsf.average)}),(0,w.jsx)(l.A,{children:P(b.y.rmsf.stddev)})]})})]})})}),(0,w.jsx)(u.A,{className:g,children:(0,w.jsxs)(r.A,{children:[(0,w.jsx)(d.A,{variant:"h6"}),(0,w.jsx)(S,{yData:b.y,step:1,xAxisLabel:"Atom",xColors:M,xTooltip:D,yAxisLabel:"Fluctuation (\xc5)",type:"dash",onHover:z,onSelect:e=>{N((n=>{if(e instanceof Set)return e;const t=new Set(n);return t[t.has(e)?"delete":"add"](e),t}))},mean:!0,standardDeviation:!0,marks:k,fullPrecision:!0}),(0,w.jsx)("div",{className:v,children:(0,w.jsxs)(m.A,{variant:"contained",disabled:!R.size,onClick:()=>N(new Set),children:[(0,w.jsx)(f.g,{icon:y.UB}),"\xa0",(0,w.jsx)("span",{children:"Clear selection"})]})})]})}),(0,w.jsx)(x.A,{newViewer:R&&R.size?{selectedAtoms:C?new Set([...R,C]):R}:null,nailing:!1,onClose:e=>N((n=>e.selectedAtoms===n?new Set:n))})]})}}}]);
//# sourceMappingURL=fluctuation.e42aab19.chunk.js.map