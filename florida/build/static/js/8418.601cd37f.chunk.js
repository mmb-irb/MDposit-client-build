"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[5471,8418],{10939:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(65043),a=n(12110),o=n(17604);const s="style_container__M9GCG";var l=n(70579);const i={opacity:[0,1]};(0,o.A)()||(i.transform=["translateY(50px)","translateY(0)"]);const c={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},d=(0,r.forwardRef)(((e,t)=>{let{overrideComponent:n,...o}=e;const d=(0,r.useRef)(null);(0,r.useLayoutEffect)((()=>{const e=d.current&&d.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex((t=>e===t)),n=e.animate(i,{...c,delay:150*t});return()=>n.cancel()}),[]);const u=n?"section":a.A;return(0,l.jsx)("div",{ref:d,className:s,children:(0,l.jsx)(u,{component:"section",...o,ref:t})})}))},34088:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(65043),a=n(43126),o=n(10939);const s="style_rnd__Txifm",l="style_floating-card__HHpby";var i=n(70579);const c=(0,r.lazy)((()=>Promise.all([n.e(7784),n.e(8095),n.e(3845),n.e(2629),n.e(9070),n.e(2594),n.e(7955),n.e(349),n.e(1235),n.e(9117)]).then(n.bind(n,92428))));let d=0;const u=e=>{const t=e.viewerRef||(0,r.useRef)(null),[n,u]=(0,r.useState)((()=>{const{innerWidth:e,innerHeight:t,scrollY:n}=window,r=document.querySelector("main").offsetTop,a=Math.max(Math.min(e/4,t/4),150),o=1.5*a;return{width:2*a,height:o,x:0,y:t-r-o-20+n}}));return(0,i.jsx)(a.p,{position:{x:n.x,y:n.y},size:{width:n.width,height:n.height},style:{zIndex:(d+=1,d)},className:s,"data-rnd":!0,bounds:"window",cancel:"canvas, [data-popover], #preventDragSize, .prevent-drag",onDragStart:()=>{u({...n})},onResizeStart:()=>{u({...n})},onDragStop:(e,t)=>{0===e.layerX&&0===e.layerY||n.x===t.x&&n.y===t.y||u({...n,x:t.x,y:t.y})},onResize:()=>t.current&&t.current.autoResize(),onResizeStop:(e,t,n,r,a)=>{u({width:n.style.width,height:n.style.height,...a})},children:(0,i.jsx)(o.A,{className:l,elevation:4,children:(0,i.jsx)(r.Suspense,{fallback:null,children:(0,i.jsx)(c,{className:l,ref:t,startsPlaying:!1,...e})})})})},h=e=>{let{newViewer:t,nailing:n=!0,onNail:a,onClose:o}=e;const[s,l]=(0,r.useState)([]),c=[...s],d=(0,r.useRef)([]);if(t){const e=()=>{let e=0;for(;e<999;){if(-1===d.current.indexOf(e))return e;e+=1}console.error("Maximum number of viewers reached")};t.id=e(),t.close=()=>{n&&l((e=>{const n=[...e],r=e.indexOf(t);return-1!==r&&n.splice(r,1),n})),o&&o(t),d.current.push(t.id)},n&&(t.nail=()=>{l((e=>[...e,t])),a&&a(t),d.current.push(t.id)}),c.push(t)}return c.map((e=>(0,i.jsx)(u,{...e},e.id)))}},48940:(e,t,n)=>{n.d(t,{G:()=>a,c:()=>r});const r=e=>{if(!e)return;return e.reduce(((e,t)=>e+t),0)/e.length},a=e=>{if(!e)return;const t=e.reduce(((e,t)=>e+t),0),n=e.length,r=t/n,a=Math.sqrt(e.map((e=>Math.pow(e-r,2))).reduce(((e,t)=>e+t))/n);return{mean:r,stdv:a}}},51962:(e,t,n)=>{n.d(t,{A:()=>M});var r=n(98587),a=n(58168),o=n(65043),s=n(58387),l=n(98610),i=n(60061),c=n(33064),d=n(59662),u=n(70579);const h=(0,d.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),m=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var x=n(6803),f=n(98206),v=n(34535),y=n(61475),A=n(92532),b=n(72372);function j(e){return(0,b.Ay)("MuiCheckbox",e)}const g=(0,A.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),S=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],k=(0,v.Ay)(c.A,{shouldForwardProp:e=>(0,y.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${(0,x.A)(n.size)}`],"default"!==n.color&&t[`color${(0,x.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,i.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${g.checked}, &.${g.indeterminate}`]:{color:(t.vars||t).palette[n.color].main},[`&.${g.disabled}`]:{color:(t.vars||t).palette.action.disabled}})})),w=(0,u.jsx)(m,{}),z=(0,u.jsx)(h,{}),C=(0,u.jsx)(p,{}),M=o.forwardRef((function(e,t){var n,i;const c=(0,f.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:d=w,color:h="primary",icon:m=z,indeterminate:p=!1,indeterminateIcon:v=C,inputProps:y,size:A="medium",className:b}=c,g=(0,r.A)(c,S),M=p?v:m,$=p?v:d,P=(0,a.A)({},c,{color:h,indeterminate:p,size:A}),_=(e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,s={root:["root",n&&"indeterminate",`color${(0,x.A)(r)}`,`size${(0,x.A)(o)}`]},i=(0,l.A)(s,j,t);return(0,a.A)({},t,i)})(P);return(0,u.jsx)(k,(0,a.A)({type:"checkbox",inputProps:(0,a.A)({"data-indeterminate":p},y),icon:o.cloneElement(M,{fontSize:null!=(n=M.props.fontSize)?n:A}),checkedIcon:o.cloneElement($,{fontSize:null!=(i=$.props.fontSize)?i:A}),ownerState:P,ref:t,className:(0,s.A)(_.root,b)},g,{classes:_}))}))},58418:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var r=n(65043),a=n(26494),o=n(8939),s=n(24056),l=n(85865),i=n(71806),c=n(84882),d=n(28076),u=n(10039),h=n(73460),m=n(37597),p=n(51962),x=n(10939),f=n(34088),v=n(17545),y=n(58338),A=n(29449),b=n(95747),j=n(48940),g=n(75471),S=n(70579);const k=(0,r.lazy)((()=>Promise.all([n.e(2577),n.e(2460),n.e(5291),n.e(5077)]).then(n.bind(n,75291)))),w=["black","red","orange","yellow","green","blue","purple"],z=()=>{const{accession:e,accessionAndMdNumber:t}=(0,r.useContext)(A.f),{loading:n,payload:z,error:C}=(0,y.A)(`${b.nP}/${t}/analyses/lipid-order/`),{loading:M,payload:$,error:P}=(0,y.A)(`${b.nP}/${t}/analyses/mem-map/`),[_,O]=(0,r.useState)(null),[R,N]=(0,r.useState)({}),[I,D]=(0,r.useState)(null),[H,L]=(0,r.useState)(null),[E,V]=(0,r.useState)(!1),[G,Y]=(0,r.useState)(!0),B=(0,r.useRef)(null),T=(0,r.useMemo)((()=>z?Object.keys(z.data):[]),[z]);(0,r.useMemo)((()=>{T.length&&!_&&O(T[0])}),[T,_]);const q=(0,r.useMemo)((()=>{if(!z||!_||!$||!$.references)return{};const e={},t={};B.current=$.references[_].resname;const n=z.data[_];return Object.entries(n).forEach((n=>{let[r,a]=n;const o=`${B.current} tail ${parseInt(r)+1}`,s={data:a.avg.map((e=>E?-e:e)),areaStdDev:a.std,labels:a.atoms,color:w[parseInt(r)%w.length]},{mean:l,stdv:i}=(0,j.G)(s.data);s.average=l,s.stddev=i,e[o]=s,t[o]=!0})),N(t),e}),[z,_,E,$]),W=(0,r.useMemo)((()=>q&&R?Math.max(...Object.entries(q).filter((e=>{let[t]=e;return R[t]})).map((e=>{let[t,n]=e;return Math.max(...n.areaStdDev||[])}))):0),[q,R]);(0,r.useEffect)((()=>{if(!R||!q)return;const e=[{name:B.current,type:"licorice",color:"orange",opacity:.5,selection:`${B.current}`}];null!==I&&Object.keys(q).forEach(((t,n)=>{console.log("tail".tail);const r=q[t].labels[I];r&&e.push({name:`${r}`,type:"ball+stick",color:w[n%w.length],opacity:.9,selection:`${B.current} and .${r}`,other:{radius:.3},show:R[t]})})),L(e)}),[_,I,R]);const X=(0,r.useMemo)((()=>null!==I?[{x:I,attr:{fill:"#c8c8c8"}}]:[]),[I]);if(n)return(0,S.jsx)(v.A,{});if(C)return C.toString();if(!z||!$)return"Something bad happened with Lipid Order analysis";const F=e=>Math.round(100*e)/100;return(0,S.jsxs)(r.Suspense,{fallback:(0,S.jsx)(v.A,{}),children:[(0,S.jsx)(x.A,{className:g.default.card,children:(0,S.jsxs)(a.A,{children:[(0,S.jsx)(o.A,{value:_,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",onChange:(e,t)=>{O(t)},className:g.default["margined-bottom"],children:T.map((e=>{var t,n,r,a;return(0,S.jsx)(s.A,{value:e,label:(0,S.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,S.jsx)("span",{children:(null===$||void 0===$||null===(t=$.references)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.resname)||e}),(0,S.jsx)(l.A,{variant:"caption",color:"text.secondary",children:(null===$||void 0===$||null===(r=$.references)||void 0===r||null===(a=r[e])||void 0===a?void 0:a.lipidmaps.name)||"Lipid"})]})},e)}))}),(0,S.jsxs)(i.A,{padding:"checkbox",children:[(0,S.jsx)(c.A,{children:(0,S.jsxs)(d.A,{children:[(0,S.jsx)(u.A,{children:"Lipid"}),(0,S.jsx)(u.A,{children:"Mean Order Parameter"}),(0,S.jsx)(u.A,{children:"Standard Deviation"})]})}),(0,S.jsx)(h.A,{children:Object.entries(q).map(((e,t)=>{let[n,r]=e;return(0,S.jsxs)(d.A,{children:[(0,S.jsx)(u.A,{children:(0,S.jsx)(m.A,{onChange:()=>N((e=>({...e,[n]:!e[n]}))),control:(0,S.jsx)(p.A,{checked:R[n],style:{color:r.color}}),label:n})}),(0,S.jsx)(u.A,{children:F(r.average)}),(0,S.jsx)(u.A,{children:F(r.stddev)})]},n)}))})]})]})}),(0,S.jsxs)(x.A,{className:g.default.card,children:[(0,S.jsx)(m.A,{control:(0,S.jsx)(p.A,{checked:E,onChange:e=>V(e.target.checked)}),label:"Invert Y-axis values"}),(0,S.jsx)(m.A,{control:(0,S.jsx)(p.A,{checked:G,onChange:e=>Y(e.target.checked)}),label:"Show standard deviation"}),(0,S.jsx)(a.A,{children:(0,S.jsx)(k,{yData:q,xAxisLabel:"Carbon Position",yAxisLabel:"Order Parameter",type:"line",selfLegend:!1,dataDisplay:R,labelsOnHover:!0,xTooltip:(e,t)=>`Position ${t+1}`,onSelect:D,marks:X,areaStdDev:G,yPadding:G?W:0})})]}),(0,S.jsx)(f.A,{newViewer:"number"===typeof I?{accession:e,xSelection:I,representationsState:[H,L]}:null,onNail:e=>D((t=>e.xSelection===t?null:t)),onClose:e=>D((t=>e.xSelection===t?null:t))})]})}},75471:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r={card:"style_card__Tu+j+","margined-bottom":"style_margined-bottom__WM5Gb"}}}]);
//# sourceMappingURL=8418.601cd37f.chunk.js.map