/*! For license information please see custom-search.277c4a70.chunk.js.LICENSE.txt */
(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[6847],{10939:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(65043),a=r(12110),s=r(17604);const o="style_container__M9GCG";var l=r(70579);const i={opacity:[0,1]};(0,s.A)()||(i.transform=["translateY(50px)","translateY(0)"]);const c={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},u=(0,n.forwardRef)(((e,t)=>{let{overrideComponent:r,...s}=e;const u=(0,n.useRef)(null);(0,n.useLayoutEffect)((()=>{const e=u.current&&u.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex((t=>e===t)),r=e.animate(i,{...c,delay:150*t});return()=>r.cancel()}),[]);const d=r?"section":a.A;return(0,l.jsx)("div",{ref:u,className:o,children:(0,l.jsx)(d,{component:"section",...s,ref:t})})}))},12110:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var n=r(58168),a=r(98587),s=r(65043),o=r(58387),l=r(98610),i=r(34535),c=r(98206),u=r(63336),d=r(92532),p=r(72372);function h(e){return(0,p.Ay)("MuiCard",e)}(0,d.A)("MuiCard",["root"]);var f=r(70579);const m=["className","raised"],y=(0,i.Ay)(u.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),v=s.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiCard"}),{className:s,raised:i=!1}=r,u=(0,a.A)(r,m),d=(0,n.A)({},r,{raised:i}),p=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},h,t)})(d);return(0,f.jsx)(y,(0,n.A)({className:(0,o.A)(p.root,s),elevation:i?8:void 0,ref:t,ownerState:d},u))}))},17545:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(65043),a=r(64600),s=r.n(a),o=r(81637),l=r(92954);const i="style_loading__Vdgbc",c="style_show__wIdQ5";var u=r(70579);const d=750,p=e=>{let{wait:t=d}=e;const[r,a]=(0,l.A)(!1);return(0,n.useLayoutEffect)((()=>{const e=setTimeout((()=>{a()}),t);return()=>clearTimeout(e)}),[a,t]),(0,u.jsx)("div",{title:"loading...",className:s()(i,{[c]:r}),children:r&&(0,u.jsx)(o.A,{variant:"indeterminate",color:"primary",size:50,thickness:5})})}},26494:(e,t,r)=>{"use strict";r.d(t,{A:()=>y});var n=r(58168),a=r(98587),s=r(65043),o=r(58387),l=r(98610),i=r(34535),c=r(98206),u=r(92532),d=r(72372);function p(e){return(0,d.Ay)("MuiCardContent",e)}(0,u.A)("MuiCardContent",["root"]);var h=r(70579);const f=["className","component"],m=(0,i.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),y=s.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiCardContent"}),{className:s,component:i="div"}=r,u=(0,a.A)(r,f),d=(0,n.A)({},r,{component:i}),y=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},p,t)})(d);return(0,h.jsx)(m,(0,n.A)({as:i,className:(0,o.A)(y.root,s),ownerState:d,ref:t},u))}))},58338:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(65043),a=r(40854),s=r.n(a);const o={loading:!1,payload:null,error:null},l={loading:!0},i=e=>{const[t,r]=(0,n.useState)(o);return(0,n.useEffect)((()=>{if(!e)return void r(o);const t=s().CancelToken.source();let n=!1;return s()(e,{cancelToken:t.token,startTime:new Date}).then((t=>{if(n)return;const a=new Date-t.config.startTime,s={url:e,loading:!1,payload:t.data,error:null,time:a};r(s)})).catch((t=>{if(n)return;r({url:e,loading:!1,payload:null,error:t})})),()=>{t.cancel(),n=!0}}),[e]),e?t.url===e?t:l:o}},64600:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var s=typeof r;if("string"===s||"number"===s)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===s)for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},92954:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(65043);const a=e=>{const[t,r]=(0,n.useState)(!!e),a=(0,n.useCallback)((e=>{switch(typeof e){case"function":r(e);break;case"boolean":case"number":case"string":r(Boolean(e));break;default:r((e=>!e))}}),[]);return[t,a]}},95565:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L});var n=r(65043),a=r(73216),s=r(10939),o=r(26494),l=r(85865),i=r(48043),c=r(86605),u=r(40710),d=r(37597),p=r(51962),h=r(28007),f=r(67784),m=r(11906),y=r(12639),v=r(92127);const x="style_tall__DyePu",A="style_margined__oEFhN",j="style_spaced__lvlpO",g="style_section__BgcEH",b="style_summary__P1ytL",_="style_aligned__4amHY",k="style_button__2LvZV",N="style_search__NuCsi";var C=r(17604),w=r(95747),$=r(58338),E=r(17545),O=r(70579);const M=w._r.queryFields,P=Object.values(M).reduce(((e,t)=>e.concat(t)),[]),T={opacity:[0,1]};(0,C.A)()||(T.transform=["translateX(2.5%)","translateX(0)"]);const S=e=>{if(0===Object.keys(e).length)return;const t={};let r=0;return Object.entries(e).forEach((e=>(e=>{let[n,a]=e;const s=P.find((e=>e.path===n)),o=e=>e===B?{$eq:null}:"string"===s.type?e:"int"===s.type||"float"===s.type?+e:"boolean"===s.type?"true"===e:void 0;if("string"===typeof a){const e=a.replace(/[-[/\]{}()*+?.,\\^$|#\s]/g,"\\$&");return void(t[n]={$regex:e,$options:"i"})}if(a.min||a.max){const e={};if(a.min){if(isNaN(+a.min))return++r;e.$gt=+a.min}if(a.max){if(isNaN(+a.max))return++r;e.$lt=+a.max}return void(t[n]=e)}if(!Array.isArray(a))throw new Error("Wrong "+n+" -> "+a);if(1===a.length)return void(t[n]=o(a[0]));const l=t.$and;if(l)return void l.push({$or:a.map((e=>({[n]:o(e)})))});const i=t.$or;if(i)return t.$and=[{$or:i},{$or:a.map((e=>({[n]:o(e)})))}],void delete t.$or;t.$or=a.map((e=>({[n]:o(e)})))})(e))),r>0?void 0:"/browse?query="+JSON.stringify(t)},B="Not defined",R={},L=()=>{const e=(0,a.Zp)(),t=(0,a.zy)();R[t.key]||(R[t.key]={});const[r]=(0,n.useState)(R[t.key]),C=()=>{const t=S(r);e(t)};n.useEffect((()=>{const e=e=>{"Enter"===e.key&&C()};return document.addEventListener("keypress",e),()=>{document.removeEventListener("keypress",e)}}),[]);const T=P.filter((e=>e.options)).map((e=>"projection="+e.path)).join("&"),B=`${w.nP}/options?${T}`,{payload:L,error:q}=(0,$.A)(B);return q?q.toString():(0,O.jsx)(s.A,{className:x,children:(0,O.jsxs)(o.A,{children:["Use the ",(0,O.jsx)("b",{children:"search"})," menu to create a specific query. Go to"," "," ",(0,O.jsx)("a",{href:"/#/advanced-search",children:"advanced search"})," for a most complex query.",(0,O.jsx)("hr",{style:{color:"lightGrey"}}),Object.entries(M).map(((e,t)=>{let[n,a]=e;return(0,O.jsxs)("div",{children:[(0,O.jsx)(l.A,{variant:"h5",className:A,children:n}),a.map(((e,t)=>(0,O.jsxs)(i.A,{defaultExpanded:e.defaultOpen||e.path in r,children:[(0,O.jsx)(c.A,{className:b,children:e.name}),(0,O.jsx)(u.A,{className:g,children:(()=>{if(!L)return(0,O.jsx)(E.A,{});const t=r;if(e.options){const r=L[e.path];let n=0;if(r.null&&(n+=r.null,delete r.null),e.checkbox){return Object.entries(r).sort(((e,t)=>{let[r,n]=e,[a,s]=t;return s-n})).map(((r,n)=>{let[a,s]=r;return(0,O.jsx)(d.A,{onChange:r=>{let{target:{checked:n}}=r;if(n)t[e.path]?t[e.path].push(a):t[e.path]=[a];else{const r=t[e.path].indexOf(a);t[e.path].splice(r,1),0===t[e.path].length&&delete t[e.path]}},control:(0,O.jsx)(p.A,{defaultChecked:t[e.path]&&-1!==t[e.path].indexOf(a),style:{color:"black"},inputProps:{"data-key":a}}),label:`${a} (${s})`,style:{color:"black"}},n)}))}{const n=r=>{let{target:{value:n}}=r;t[e.path]=n,""===n&&delete t[e.path]},a=Object.entries(r).map((e=>{let[t,r]=e;return{label:t,count:r}})).sort(((e,t)=>t.count-e.count));return(0,O.jsxs)("div",{className:_,children:["Contains"," ",(0,O.jsx)(h.A,{options:a,getOptionLabel:e=>e.label,renderOption:(e,t)=>(0,O.jsx)("li",{...e,children:t.label+" ("+t.count+")"}),sx:{width:"50vh"},clearOnBlur:!1,renderInput:r=>(0,O.jsx)(f.A,{...r,title:"Type here the value for the specified field",defaultValue:t[e.path],onKeyPress:e=>{"Enter"===e.key&&n(e)},onBlur:n,placeholder:"e.g. "+e.example,className:j})})]})}}if("string"===e.type){const r=r=>{let{target:{value:n}}=r;t[e.path]=n,""===n&&delete t[e.path]};return(0,O.jsxs)("div",{className:_,children:["Contains"," ",(0,O.jsx)(f.A,{title:"Type here the value for the specified field",defaultValue:t[e.path],onKeyPress:e=>{"Enter"===e.key&&r(e)},onBlur:r,placeholder:"e.g. "+e.example,inputProps:{inputMode:"text"},className:j})]})}{const r=(r,n)=>{let{target:{value:a}}=r;if(""===a){if(!t[e.path])return;if(!t[e.path][n])return;delete t[e.path][n],0===Object.keys(t[e.path]).length&&delete t[e.path]}else{if(!t[e.path])return t[e.path]={[n]:a};t[e.path][n]=a}};return(0,O.jsxs)("div",{className:_,children:["Greater than"," ",(0,O.jsx)(f.A,{title:"Type here the value for the specified field",defaultValue:t[e.path]&&t[e.path].min,onKeyPress:e=>{"Enter"===e.key&&r(e,"min")},onBlur:e=>r(e,"min"),placeholder:"e.g. "+e.example,inputProps:{inputMode:"numeric",pattern:"[0-9.,+-]*"},className:j})," ","and lower than"," ",(0,O.jsx)(f.A,{title:"Type here the value for the specified field",defaultValue:t[e.path]&&t[e.path].max,onKeyPress:e=>{"Enter"===e.key&&r(e,"max")},onBlur:e=>r(e,"max"),placeholder:"e.g. "+e.example,inputProps:{inputMode:"numeric",pattern:"[0-9.,+-]*"},className:j})]})}})()})]},t)))]},t)})),(0,O.jsx)("div",{className:k,children:(0,O.jsxs)(m.A,{variant:"contained",onClick:C,className:N,children:[(0,O.jsx)(v.g,{icon:y.MjD}),"\xa0",(0,O.jsx)("span",{children:"Search"})]})})]})})}}}]);
//# sourceMappingURL=custom-search.277c4a70.chunk.js.map