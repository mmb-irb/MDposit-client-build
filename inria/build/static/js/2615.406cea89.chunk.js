"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[450,2615,5750],{10939:(e,t,n)=>{n.d(t,{A:()=>g});var s=n(89379),r=n(80045),a=n(65043),o=n(12110),l=n(17604);const i="style_container__M9GCG";var c=n(70579);const d=["overrideComponent"],u={opacity:[0,1]};(0,l.A)()||(u.transform=["translateY(50px)","translateY(0)"]);const h={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},g=(0,a.forwardRef)(((e,t)=>{let{overrideComponent:n}=e,l=(0,r.A)(e,d);const g=(0,a.useRef)(null);(0,a.useLayoutEffect)((()=>{const e=g.current&&g.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex((t=>e===t)),n=e.animate(u,(0,s.A)((0,s.A)({},h),{},{delay:150*t}));return()=>n.cancel()}),[]);const p=n?"section":o.A;return(0,c.jsx)("div",{ref:g,className:i,children:(0,c.jsx)(p,(0,s.A)((0,s.A)({component:"section"},l),{},{ref:t}))})}))},507:(e,t,n)=>{n.d(t,{A:()=>x});var s=n(65043),r=n(2260),a=n(32143),o=n(57972),l=n(37597),i=n(14256),c=n(67784),d=n(17392),u=n(92127),h=n(12639),g=n(17545);const p="style_horizontal__2DIWx",m="style_horizontal-margined__e9fQR";var f=n(70579);const A=[{label:"All residues",value:"residue_indices"},{label:"Interface residues",value:"interface_indices"}],x=e=>{let{interactions:t,selectedInteraction:n,setSelectedInteraction:x,selectedResidues:y,setSelectedResidues:j,selectedOrder:b,handleToggleOrder:w,firstOrderLabel:v,firstOrderTooltip:S,secondOrderLabel:_,secondOrderTooltip:L,toggleOrderTooltip:z,interfaceOnly:R=!1}=e;const N=t[n];return(0,f.jsxs)(s.Suspense,{fallback:(0,f.jsx)(g.A,{}),children:[(0,f.jsx)(r.A,{value:n,onChange:e=>{x(e.target.value)},className:m,children:t.map(((e,t)=>(0,f.jsx)(a.A,{value:t,children:e.label||e.name},t)))}),y&&(0,f.jsx)(o.A,{value:y,onChange:e=>{j(e.target.value)},className:p,children:A.map(((e,t)=>(0,f.jsx)(l.A,{value:e.value,control:(0,f.jsx)(i.A,{color:"primary"}),label:e.label,disabled:"All residues"===e.label&&R},t)))}),void 0!==b&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.A,{label:v,title:S,value:b?N.agent_1:N.agent_2}),(0,f.jsx)(d.A,{title:z,onClick:()=>{w()},size:"large",children:(0,f.jsx)(u.g,{icon:h._qq})}),(0,f.jsx)(c.A,{label:_,title:L,value:b?N.agent_2:N.agent_1})]})]})}},34088:(e,t,n)=>{n.d(t,{A:()=>g});var s=n(89379),r=n(65043),a=n(43126),o=n(10939);const l="style_rnd__Txifm",i="style_floating-card__HHpby";var c=n(70579);const d=(0,r.lazy)((()=>Promise.all([n.e(7784),n.e(8095),n.e(3845),n.e(9070),n.e(2594),n.e(8280),n.e(7955),n.e(6064),n.e(1235),n.e(9117)]).then(n.bind(n,92428))));let u=0;const h=e=>{const t=e.viewerRef||(0,r.useRef)(null),[n,h]=(0,r.useState)((()=>{const{innerWidth:e,innerHeight:t,scrollY:n}=window,s=document.querySelector("main").offsetTop,r=Math.max(Math.min(e/4,t/4),150),a=1.5*r;return{width:2*r,height:a,x:0,y:t-s-a-20+n}}));return(0,c.jsx)(a.p,{position:{x:n.x,y:n.y},size:{width:n.width,height:n.height},style:{zIndex:(u+=1,u)},className:l,"data-rnd":!0,bounds:"window",cancel:"canvas, [data-popover], #preventDragSize, .prevent-drag",onDragStart:()=>{h((0,s.A)({},n))},onResizeStart:()=>{h((0,s.A)({},n))},onDragStop:(e,t)=>{0===e.layerX&&0===e.layerY||n.x===t.x&&n.y===t.y||h((0,s.A)((0,s.A)({},n),{},{x:t.x,y:t.y}))},onResize:()=>t.current&&t.current.autoResize(),onResizeStop:(e,t,n,r,a)=>{h((0,s.A)({width:n.style.width,height:n.style.height},a))},children:(0,c.jsx)(o.A,{className:i,elevation:4,children:(0,c.jsx)(r.Suspense,{fallback:null,children:(0,c.jsx)(d,(0,s.A)({className:i,ref:t,startsPlaying:!1},e))})})})},g=e=>{let{newViewer:t,nailing:n=!0,onNail:a,onClose:o}=e;const[l,i]=(0,r.useState)([]),d=[...l],u=(0,r.useRef)([]);if(t){const e=()=>{let e=0;for(;e<999;){if(-1===u.current.indexOf(e))return e;e+=1}console.error("Maximum number of viewers reached")};t.id=e(),t.close=()=>{n&&i((e=>{const n=[...e],s=e.indexOf(t);return-1!==s&&n.splice(s,1),n})),o&&o(t),u.current.push(t.id)},n&&(t.nail=()=>{i((e=>[...e,t])),a&&a(t),u.current.push(t.id)}),d.push(t)}return d.map((e=>(0,c.jsx)(h,(0,s.A)({},e),e.id)))}},55750:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var s=n(65043),r=n(32577),a=n(70579);const o="blue",l="#f0f0f0",i=(0,s.memo)((e=>{let{status:t,weights:n,onClick:i,className:c}=e;const d=(0,s.useRef)(null),u=(0,s.useRef)(null),[,h]=(0,s.useState)(null);return(0,s.useEffect)((()=>{u.current&&u.current.forEach((e=>e.remove()));const e=d.current,{clientWidth:s,clientHeight:a}=e.parentElement,c=document.createElement("CANVAS");(0,r.Ltv)(e).node().appendChild(c);const g=(0,r.Ltv)(c).attr("id","canvas").attr("width",s).attr("height",a).style("position","absolute").style("cursor",i?"pointer":void 0),p=g.node().getContext("2d"),m=(0,r.Ltv)(e).append("svg").attr("id","svg").attr("viewBox",[0,0,s,a]);if(n){const e=(0,r.WH)().range([0,s]).domain([0,1]).paddingInner(0),i=e(0),c=(e(1)-i)/n.reduce(((e,t)=>e+t),0);let d=0;t.forEach(((e,t)=>{const s=n[t]*c*2,r=d,i=e?o:l;p.fillStyle=i,p.fillRect(r,0,s,a),d+=s}))}else{const e=(0,r.WH)().range([0,s]).domain(t.map(((e,t)=>t))).paddingInner(0),n=e.bandwidth();t.forEach(((t,s)=>{const r=e(s),i=t?o:l;p.fillStyle=i,p.fillRect(r,0,n,a)}))}i&&(c.onmousedown=()=>{i()}),u.current=[m,g];const f=()=>{h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})};return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}})),(0,a.jsx)("div",{className:c,style:c?void 0:{height:"100px",width:"600px"},children:(0,a.jsx)("div",{ref:d,id:"container",style:{position:"relative",width:"100%",height:"100%"}})})}))},12615:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var s=n(65043),r=n(26494),a=n(85865),o=n(71806),l=n(84882),i=n(28076),c=n(10039),d=n(73460),u=n(207),h=n(67803),g=n(10939),p=n(17545),m=n(55750),f=n(34088),A=n(58338),x=n(29449),y=n(95747),j=n(507),b=n(450),w=n(70579);const v=[10,25,50,100],S=()=>{const{accessionAndMdNumber:e,metadata:t,topology:n,interactions:S,populations:_}=(0,s.useContext)(x.f),L=(0,s.useRef)(),[z,R]=(0,s.useState)(0),N=S&&S[z],[C,I]=(0,s.useState)(0),[E,O]=(0,s.useState)(25),[M,D]=(0,s.useState)(null),P="".concat(y.nP,"/").concat(e,"/analyses/hbonds/"),{loading:k,payload:T,error:F}=(0,A.A)(P),{processedData:H,weights:W}=(0,s.useMemo)((()=>{if(!T||!n||_&&_.loading)return{};const e=T.data.find((e=>e.name===N.name));if(!e)return{message:'Dataset for the interaction "'.concat(N.name,'" not found')};if(0===e.hbonds.length)return{message:"No hydrogen bonds were found for this interaction"};const s=e.hbonds.length,r={},a={};for(let t=0;t<s;t++){const n=e.acceptors[t],s=e.donors[t],o={acceptor:n,donor:s,hydrogen:e.hydrogens[t],status:e.hbonds[t]},l=r[n];l?l.push(o):r[n]=[o];const i=a[s];i?i.push(o):a[s]=[o]}const o=[],l=[];Object.values(r).forEach((e=>{const t=e.map((e=>e.donor));new Set(t).size>1?o.push(e):l.push(e)})),Object.values(a).forEach((e=>{const t=e.map((e=>e.acceptor));new Set(t).size>1&&o.push(e)})),l.forEach((e=>{const t=e[0];for(const n of o)for(const e of n)if(e.acceptor===t.acceptor)return;o.push(e)}));const i=o.map((e=>{let t=e.map((e=>e.acceptor));1===new Set(t).size&&(t=[t[0]]);let n=e.map((e=>e.donor));1===new Set(n).size&&(n=[n[0]]);let s=e.map((e=>e.hydrogen));1===new Set(s).size&&(s=[s[0]]);return{acceptors:t,donors:n,hydrogens:s,status:e.map((e=>e.status))}}));i.forEach((e=>{const t=e.acceptors[0],s=n.getAtomByIndex(t).residueIndex,r=-1!==N.interface_indices_1.indexOf(s);e.isAcceptorFromAgent1=r;const[a,o]=[e.acceptors,e.donors].map((e=>e.map((e=>{const t=n.getAtomByIndex(e);return"".concat(t.residue.standardLabel,".").concat(t.name)})))),l=e.hydrogens.map((e=>{let t=n.getAtomByIndex(e).name;return r?t+=" \u2014":t="\u2014 "+t,t}));e.hydrogenLabels=l,r?(e.agent1Labels=a,e.agent2Labels=o):(e.agent1Labels=o,e.agent2Labels=a);const i=e.status.reduce(((e,t)=>e+t.filter((e=>!0===e)).length),0);e.stability=i})),i.sort(((e,t)=>t.stability-e.stability));const c=e.hbonds[0].length,d=Math.round(t.mdFrames/(c-1));let u;if(_&&_.payload){u=[];for(let t=0;t<_.payload.length;t+=d)u.push(_.payload[t]);const e=u.length;if(c!==e)throw new Error("Data values count (".concat(c,") does not match the weigths values count (").concat(e,")"))}return{processedData:i,weights:u}}),[T,t,n,N,_]),B=(0,s.useMemo)((()=>{if(!H)return;const e=C*E,t=(C+1)*E;return H.slice(e,t)}),[H,C,E]);return k||_&&_.loading?(0,w.jsx)(p.A,{}):F?F.toString():_&&_.error?_.error.toString():T?_&&!_.payload?"Something bad happened with populations data":n?(0,w.jsxs)(s.Suspense,{fallback:(0,w.jsx)(p.A,{}),children:[(0,w.jsx)(g.A,{children:(0,w.jsxs)(r.A,{className:b.default.horizontal,children:[(0,w.jsx)(a.A,{variant:"h6",children:"Interaction:"}),(0,w.jsx)(j.A,{interactions:S,selectedInteraction:z,setSelectedInteraction:e=>{R(e),I(0)}})]})}),"string"===typeof H&&(0,w.jsx)(g.A,{children:(0,w.jsx)(r.A,{children:(0,w.jsx)(a.A,{variant:"h6",children:H})})}),"object"===typeof H&&(0,w.jsx)(g.A,{className:b.default.margined,children:(0,w.jsx)(r.A,{children:(0,w.jsxs)(o.A,{ref:L,children:[(0,w.jsxs)("colgroup",{children:[(0,w.jsx)("col",{style:{width:"12%"}}),(0,w.jsx)("col",{style:{width:"12%"}}),(0,w.jsx)("col",{style:{width:"12%"}}),(0,w.jsx)("col",{style:{width:"64%"}})]}),(0,w.jsx)(l.A,{className:b.default["table-head"],children:(0,w.jsxs)(i.A,{children:[(0,w.jsx)(c.A,{children:N.agent_1}),(0,w.jsx)(c.A,{children:"Hydrogen"}),(0,w.jsx)(c.A,{children:N.agent_2}),(0,w.jsx)(c.A,{children:"Bond status along trajectory"})]})}),(0,w.jsx)(d.A,{children:B.map(((e,t)=>(0,w.jsx)(s.Fragment,{children:e.status.map(((t,n)=>(0,w.jsxs)(i.A,{children:[e.agent1Labels[n]&&(0,w.jsx)(c.A,{rowSpan:e.status.length/e.agent1Labels.length,children:e.agent1Labels[n]}),e.hydrogenLabels[n]&&(0,w.jsx)(c.A,{rowSpan:e.status.length/e.hydrogenLabels.length,align:e.isAcceptorFromAgent1?"right":"left",children:e.hydrogenLabels[n]}),e.agent2Labels[n]&&(0,w.jsx)(c.A,{rowSpan:e.status.length/e.agent2Labels.length,children:e.agent2Labels[n]}),(0,w.jsx)(c.A,{children:(0,w.jsx)(m.default,{status:e.status[n],weights:W,onClick:()=>{const t=e.acceptors[n]||e.acceptors[0],s=e.donors[n]||e.donors[0],r=e.hydrogens[n]||e.hydrogens[0];D({selectedAtoms:[t,s],selectedDistances:[[t,s]],selectedAngles:[[t,r,s]]})},className:b.default.status})})]},n)))},t)))}),(0,w.jsx)(u.A,{children:(0,w.jsx)(i.A,{children:(0,w.jsx)(h.A,{rowsPerPageOptions:v,colSpan:4,count:H.length,rowsPerPage:E,page:C,onPageChange:(e,t)=>{I(t),L.current.scrollIntoView()},onRowsPerPageChange:e=>{let{target:{value:t}}=e;O(t),I(0)}})})})]})})}),(0,w.jsx)(f.A,{newViewer:M?{selectedAtoms:M.selectedAtoms,selectedDistances:M.selectedDistances,selectedAngles:M.selectedAngles}:null,onNail:e=>D((t=>t&&t.selectedAtoms===e.selectedAtoms?null:t)),onClose:e=>{D((t=>t&&t.selectedAtoms===e.selectedAtoms?null:t))}})]}):(0,w.jsx)(p.A,{}):"Something bad happened with the analysis data"}},207:(e,t,n)=>{n.d(t,{A:()=>y});var s=n(58168),r=n(98587),a=n(65043),o=n(58387),l=n(98610),i=n(21573),c=n(98206),d=n(34535),u=n(92532),h=n(72372);function g(e){return(0,h.Ay)("MuiTableFooter",e)}(0,u.A)("MuiTableFooter",["root"]);var p=n(70579);const m=["className","component"],f=(0,d.Ay)("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-footer-group"}),A={variant:"footer"},x="tfoot",y=a.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiTableFooter"}),{className:a,component:d=x}=n,u=(0,r.A)(n,m),h=(0,s.A)({},n,{component:d}),y=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},g,t)})(h);return(0,p.jsx)(i.A.Provider,{value:A,children:(0,p.jsx)(f,(0,s.A)({as:d,className:(0,o.A)(y.root,a),ref:t,role:d===x?null:"rowgroup",ownerState:h},u))})}))},450:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});const s={margined:"style_margined__wjr-Y",horizontal:"style_horizontal__R62Uj",status:"style_status__nu7SZ"}}}]);
//# sourceMappingURL=2615.406cea89.chunk.js.map