"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[2737],{48501:(t,e,s)=>{s.r(e),s.d(e,{default:()=>h});const i="length",r="displaystart",a="displayend",l="highlight";class u extends HTMLElement{constructor(){super(),this.protvistaElements=new Set,this.attributeValues=new Map,this.propertyValues=new Map,this.mouseOver=!1}static get observedAttributes(){return["attributes",i,r,a,l]}set length(t){this.attributeValues.set(i,t)}get length(){return this.attributeValues.get(i)}set displaystart(t){this.attributeValues.set(r,t)}get displaystart(){return this.attributeValues.get(r)}set displayend(t){this.attributeValues.set(a,t)}get displayend(){return this.attributeValues.get(a)}set highlight(t){this.attributeValues.set(l,t)}get highlight(){return this.attributeValues.get(l)}attributeChangedCallback(t,e,s){if(e!==s){if("attributes"===t){if(this._attributes=s.split(" "),-1!==this._attributes.indexOf("type"))throw new Error("'type' can't be used as a protvista attribute");if(-1!==this._attributes.indexOf("value"))throw new Error("'value' can't be used as a protvista attribute");this.attributeValues=new Map(this._attributes.filter((t=>!u.observedAttributes.includes(t))).map((t=>[t,null])))}else t===i&&(this.length=s),t===r&&(this.displaystart=s),t===a&&(this.displayend=s),t===l&&(this.highlight=s);this.applyAttributes()}}register(t){this.protvistaElements.add(t),this.applyAttributes()}unregister(t){this.protvistaElements.delete(t)}_polyfillElementClosest(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=t=>{let e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null})}applyAttributes(){this.protvistaElements.forEach((t=>{this.attributeValues.forEach(((e,s)=>{!1===e||null===e||void 0===e?t.removeAttribute(s):t.setAttribute(s,"boolean"===typeof e?"":e)}))}))}applyProperties(t){if(t){const e=this.querySelector("#".concat(t));this.propertyValues.forEach(((t,s)=>{e[s]=t}))}else this.protvistaElements.forEach((t=>{this.propertyValues.forEach(((e,s)=>{t[s]=e}))}))}isRegisteredAttribute(t){return[...this.attributeValues.keys()].includes(t)||u.observedAttributes.includes(t)}_changeListener(t){if(t.detail)if("property"===t.detail.handler)this.propertyValues.set(t.detail.type,t.detail.value),this.applyProperties(t.detail.for);else this.isRegisteredAttribute(t.detail.type)&&this.attributeValues.set(t.detail.type,t.detail.value),Object.keys(t.detail).forEach((e=>{this.isRegisteredAttribute(e)&&this.attributeValues.set(e,t.detail[e])})),this.applyAttributes()}connectedCallback(){this.addEventListener("change",this._changeListener)}}const h=u}}]);
//# sourceMappingURL=protvista-manager.d7b8799f.chunk.js.map