"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[2597],{10939:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(89379),l=n(80045),r=n(65043),s=n(12110),o=n(17604);const i="style_container__M9GCG";var c=n(70579);const d=["overrideComponent"],h={opacity:[0,1]};(0,o.A)()||(h.transform=["translateY(50px)","translateY(0)"]);const u={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},p=(0,r.forwardRef)(((e,t)=>{let{overrideComponent:n}=e,o=(0,l.A)(e,d);const p=(0,r.useRef)(null);(0,r.useLayoutEffect)((()=>{const e=p.current&&p.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex((t=>e===t)),n=e.animate(h,(0,a.A)((0,a.A)({},u),{},{delay:150*t}));return()=>n.cancel()}),[]);const x=n?"section":s.A;return(0,c.jsx)("div",{ref:p,className:i,children:(0,c.jsx)(x,(0,a.A)((0,a.A)({component:"section"},o),{},{ref:t}))})}))},60676:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(65043),l=n(26494);const r="style_horizontal__KW-k9",s="style_vertical__YKrT2",o="style_heatmap-horizontal__HjdIF",i="style_heatmap-vertical__utgJY";var c=n(85941),d=n(70579);const h=e=>{let{title:t="",maxValue:n=1,minValue:h=0,colorPlan:u,splits:p=19,vertical:x=!1,className:m}=e;const{legendData:f,legendLabels:g}=(0,a.useMemo)((()=>{const e=[];if(h===n)e.push(h);else for(let a=h;a<=n;a+=(n-h)/p)e.push(a);let t=e.map((e=>Math.round(e)));if(t.length>1)for(let n=1;new Set(t).size<t.length;n++)t=e.map((e=>Math.round(e*10**n)/10**n));return{legendData:x?e.map((e=>[e])):[e],legendLabels:t}}),[n,h,p,x]);return(0,d.jsxs)(l.A,{className:m||(x?s:r),children:[t,(0,d.jsx)(c.A,{data:f,xAxisValues:x?[""]:g,yAxisValues:x?g:[""],colorPlan:u,flippedXAxisValues:!1,className:x?i:o})]})}},85941:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),l=n(77691),r=n(32577),s=n(13232),o=n(70579);const i="normal 10px sans-serif",c="normal 14px sans-serif",d=(0,a.memo)((e=>{let{data:t,xAxisValues:n=[],yAxisValues:d=[],xAxisLabel:h,yAxisLabel:u,verticalPadding:p=0,colorPlan:x=["red","white","blue"],colorScale:m,onTooltip:f,onClick:g,flippedXAxisValues:y=!0,margin:A={top:10,right:10,bottom:10,left:10},className:v}=e;if(!t)throw new Error("Data is missing. Data is mandatory for the heatmap representation");if(n.length!==new Set(n).size)throw console.log(n),new Error("Duplicated values in the X axis. See console logs");if(d.length!==new Set(d).size)throw console.log(d),new Error("Duplicated values in the Y axis. See console logs");0===n.length&&(n=Array.from(Array(t[0].length).keys())),0===d.length&&(d=Array.from(Array(t[0].length).keys()));const b=[].concat(...t),w=Math.max(...b),_=Math.min(...b),M=[].concat(...Array(t.length).fill(n)),j=[];for(const a of d)j.push(...Array(n.length).fill(a));const C=[];for(const a in b)C.push({v:b[a],x:M[a],y:j[a]});const V=(0,a.useRef)(null),S=(0,a.useRef)(null),[,L]=(0,a.useState)(null),k=(0,l.jY)("|",i).height,E=(0,l.jY)("|",c).height+9,z=Math.max(...n.map((e=>(0,l.q_)(e,i))))+9,R=Math.max(...d.map((e=>(0,l.q_)(e,i)))),N=h?E:0,T=u?E+9:0,H=y?z+N:k+N,I=1===d.length?Math.max(R,(0,l.q_)(u,c)):R+T,Y={top:A.top,right:A.right,bottom:H+A.bottom,left:I+A.left};return(0,a.useEffect)((()=>{S.current&&S.current.forEach((e=>e.remove()));const e=V.current,{clientWidth:a,clientHeight:l}=e.parentElement,o=a-Y.left-Y.right,i=l-Y.top-Y.bottom,c=o/(1.05*(y?k:z)),v=i/(1.05*k),b=Math.ceil(n.length/c),M=Math.ceil(d.length/v),j=document.createElement("CANVAS");(0,r.Ltv)(e).node().appendChild(j);const C=(0,r.Ltv)(j).attr("id","canvas").attr("width",o).attr("height",i).style("position","absolute").style("top",Y.top+"px").style("left",Y.left+"px").style("cursor",g?"pointer":void 0),E=C.node().getContext("2d"),R=(0,r.Ltv)(e).append("svg").attr("id","svg").attr("viewBox",[0,0,a,l]),N=(0,r.WH)().range([Y.left,o+Y.left]).domain(n).paddingInner(0),I=R.append("g").attr("transform","translate(0,"+(i+Y.top)+")").call((0,r.l78)(N).tickFormat(((e,t)=>t%b===0?e:""))).selectAll("text");y&&I.style("text-anchor","end").attr("dx","-9px").attr("dy","-9px").attr("transform","rotate(-90)"),R.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",Y.left+o/2).attr("y",Y.top+i+H).text(h);const D=(0,r.WH)().domain(d).range([Y.top,i+Y.top]).padding(p);R.append("g").attr("transform","translate("+Y.left+", 0)").call((0,r.V4s)(D).tickFormat(((e,t)=>t%M===0?e:""))),1===d.length?R.append("text").attr("class","y label").attr("text-anchor","start").attr("x",0).attr("y",A.top+i).text(u):R.append("text").attr("class","y label").attr("text-anchor","middle").attr("x",-(Y.top+i/2)).attr("y",A.left+T-9-9).attr("transform","rotate(-90)").text(u);const O=m||(0,r.m4Y)().range(x).domain([_,(_+w)/2,w]),P=N.bandwidth(),W=D.bandwidth();t.forEach(((e,t)=>{const a=D(d[t])-Y.top;e.forEach(((e,t)=>{const l=N(n[t])-Y.left;E.fillStyle=O(e),E.fillRect(l,a,P,W)}))}));const q=e=>{const a=j.getBoundingClientRect(),l=e.clientX-a.left,r=e.clientY-a.top;let s=Math.floor(l/N.step()),o=Math.floor(r/D.step());const i=t[0].length-1;s<0&&(s=0),s>i&&(s=i);const c=t.length-1;o<0&&(o=0),o>c&&(o=c);const h=n[s],u=d[o];return{xIndex:s,yIndex:o,value:t[o][s],xAxisValue:h,yAxisValue:u}};let X;f&&(X=document.createElement("div"),Object.assign(X.style,{display:"none",position:"absolute",pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),e.appendChild(X),j.onmousemove=t=>{const n=q(t);X.innerText=f(n),X.style.display="inline-block";const{x:a,y:l}=(0,s.L)(e,X,{x:t.clientX,y:t.clientY},3);X.style.left=a+"px",X.style.top=l+"px"},j.onmouseleave=()=>{X.style.display="none"}),g&&(j.onmousedown=e=>{const t=q(e);g(t)}),S.current=X?[R,C,X]:[R,C];const F=()=>{L({innerWidth:window.innerWidth,innerHeight:window.innerHeight})};return window.addEventListener("resize",F),()=>{window.removeEventListener("resize",F)}})),(0,o.jsx)("div",{className:v,style:v?void 0:{height:"600px",width:"600px"},children:(0,o.jsx)("div",{ref:V,id:"container",style:{position:"relative",width:"100%",height:"100%"}})})}))},24310:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),l=n(26494);const r="style_loading__boyy5",s="style_heatmap__03kXZ";var o=n(85941),i=n(60676);Math.floor,String.fromCharCode;var c=n(70579);const d=e=>{let{inputData:t,xMaxCells:n=110,yMaxCells:d=260,onTooltip:h,onClick:u,legendTitle:p="",colorPlan:x,xTitle:m,yTitle:f}=e;const{data:g,xLabels:y,yLabels:A,minValue:v,maxValue:b,xstep:w,ystep:_}=(0,a.useMemo)((()=>{if(!t||!t.data||0===t.data.length)return{};const e=t.data;let a=t.xLabels,l=t.yLabels;const r=e[0].length,s=e.length;e.forEach((e=>{if(e.length!==r)throw new Error("All rows must have the same length")}));const o=r/n,i=s/d;let c,h,u;if(i<=1)if(o<=1)c=e;else{c=new Array(s);const t=new Array(n);for(let e=0;e<n;e++)t[e]=Math.round(e*o);for(let n=0;n<s;n++)c[n]=t.map((t=>e[n][t]))}else if(c=new Array(d).fill().map((e=>new Array(n).fill(null))),o<=1)for(let t=0;t<d;t++)c[t]=e[Math.round(t*i)];else for(let t=0;t<d;t++){const a=Math.round(t*i);for(let l=0;l<n;l++){const n=Math.round(l*o);c[t][l]=e[a][n]}}if(a||(a=Array.from(Array(r).keys())),l||(l=Array.from(Array(s).keys())),r!==a.length&&console.error("Heatmap error: x labels do not match data dimensions"),s!==l.length&&console.error("Heatmap error: y labels do not match data dimensions"),o<=1)h=a;else{h=new Array(n);for(let e=0;e<n;e++)h[e]=a[Math.round(e*o)]}if(i<=1)u=l;else{u=new Array(d);for(let e=0;e<d;e++)u[e]=l[Math.round(e*i)]}const p=Math.min(...c.map((e=>Math.min(...e)))),x=Math.max(...c.map((e=>Math.max(...e))));return{data:c,xLabels:h,yLabels:u,minValue:p,maxValue:x,xstep:o,ystep:i}}),[t,n,d]);if(!t)return'Heatmap Error: No "inputData" was provided';if(!t.data||0===t.data.length)return"Heatmap Error: The data field is empty or non existent";const M=e=>{let{xIndex:t,yIndex:n,value:a,xAxisValue:l,yAxisValue:r}=e;return{xIndex:w<=1?t:Math.round(t*w),yIndex:_<=1?n:Math.round(n*_),value:a,xAxisValue:l,yAxisValue:r}};return(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)("div",{className:r,children:"Loading..."}),children:[(0,c.jsx)(o.A,{data:g,xAxisValues:y,yAxisValues:A,colorPlan:x,xAxisLabel:m,yAxisLabel:f,onClick:e=>{if(!u)return;const t=M(e);return u(t)},onTooltip:e=>{if(!h)return;const t=M(e);return h(t)},className:s}),p&&(0,c.jsx)(l.A,{children:(0,c.jsx)(i.A,{title:p,minValue:v,maxValue:b,colorPlan:x})})]})}},507:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(65043),l=n(2260),r=n(32143),s=n(57972),o=n(37597),i=n(14256),c=n(67784),d=n(17392),h=n(92127),u=n(12639),p=n(17545);const x="style_horizontal__2DIWx",m="style_horizontal-margined__e9fQR";var f=n(70579);const g=[{label:"All residues",value:"residue_indices"},{label:"Interface residues",value:"interface_indices"}],y=e=>{let{interactions:t,selectedInteraction:n,setSelectedInteraction:y,selectedResidues:A,setSelectedResidues:v,selectedOrder:b,handleToggleOrder:w,firstOrderLabel:_,firstOrderTooltip:M,secondOrderLabel:j,secondOrderTooltip:C,toggleOrderTooltip:V,interfaceOnly:S=!1}=e;const L=t[n];return(0,f.jsxs)(a.Suspense,{fallback:(0,f.jsx)(p.A,{}),children:[(0,f.jsx)(l.A,{value:n,onChange:e=>{y(e.target.value)},className:m,children:t.map(((e,t)=>(0,f.jsx)(r.A,{value:t,children:e.label||e.name},t)))}),A&&(0,f.jsx)(s.A,{value:A,onChange:e=>{v(e.target.value)},className:x,children:g.map(((e,t)=>(0,f.jsx)(o.A,{value:e.value,control:(0,f.jsx)(i.A,{color:"primary"}),label:e.label,disabled:"All residues"===e.label&&S},t)))}),void 0!==b&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.A,{label:_,title:M,value:b?L.agent_1:L.agent_2}),(0,f.jsx)(d.A,{title:V,onClick:()=>{w()},size:"large",children:(0,f.jsx)(h.g,{icon:u._qq})}),(0,f.jsx)(c.A,{label:j,title:C,value:b?L.agent_2:L.agent_1})]})]})}},34088:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(89379),l=n(65043),r=n(43126),s=n(10939);const o="style_rnd__Txifm",i="style_floating-card__HHpby";var c=n(70579);const d=(0,l.lazy)((()=>Promise.all([n.e(7784),n.e(8095),n.e(3845),n.e(9070),n.e(2594),n.e(8280),n.e(7955),n.e(6064),n.e(1235),n.e(9117)]).then(n.bind(n,92428))));let h=0;const u=e=>{const t=e.viewerRef||(0,l.useRef)(null),[n,u]=(0,l.useState)((()=>{const{innerWidth:e,innerHeight:t,scrollY:n}=window,a=document.querySelector("main").offsetTop,l=Math.max(Math.min(e/4,t/4),150),r=1.5*l;return{width:2*l,height:r,x:0,y:t-a-r-20+n}}));return(0,c.jsx)(r.p,{position:{x:n.x,y:n.y},size:{width:n.width,height:n.height},style:{zIndex:(h+=1,h)},className:o,"data-rnd":!0,bounds:"window",cancel:"canvas, [data-popover], #preventDragSize, .prevent-drag",onDragStart:()=>{u((0,a.A)({},n))},onResizeStart:()=>{u((0,a.A)({},n))},onDragStop:(e,t)=>{0===e.layerX&&0===e.layerY||n.x===t.x&&n.y===t.y||u((0,a.A)((0,a.A)({},n),{},{x:t.x,y:t.y}))},onResize:()=>t.current&&t.current.autoResize(),onResizeStop:(e,t,n,l,r)=>{u((0,a.A)({width:n.style.width,height:n.style.height},r))},children:(0,c.jsx)(s.A,{className:i,elevation:4,children:(0,c.jsx)(l.Suspense,{fallback:null,children:(0,c.jsx)(d,(0,a.A)({className:i,ref:t,startsPlaying:!1},e))})})})},p=e=>{let{newViewer:t,nailing:n=!0,onNail:r,onClose:s}=e;const[o,i]=(0,l.useState)([]),d=[...o],h=(0,l.useRef)([]);if(t){const e=()=>{let e=0;for(;e<999;){if(-1===h.current.indexOf(e))return e;e+=1}console.error("Maximum number of viewers reached")};t.id=e(),t.close=()=>{n&&i((e=>{const n=[...e],a=e.indexOf(t);return-1!==a&&n.splice(a,1),n})),s&&s(t),h.current.push(t.id)},n&&(t.nail=()=>{i((e=>[...e,t])),r&&r(t),h.current.push(t.id)}),d.push(t)}return d.map((e=>(0,c.jsx)(u,(0,a.A)({},e),e.id)))}},77691:(e,t,n)=>{n.d(t,{jY:()=>l,q_:()=>a});const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=(a.canvas||(a.canvas=document.createElement("canvas"))).getContext("2d");n.font=t;return n.measureText(e).width},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bold 10px sans-serif";const n=document.createElement("div"),a=document.createTextNode(e);return n.appendChild(a),Object.assign(n.style,{font:t,position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap"}),document.body.appendChild(n),{width:n.clientWidth,height:n.clientHeight}}},13232:(e,t,n)=>{n.d(t,{L:()=>a});const a=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const l=e.getBoundingClientRect(),r=t.getBoundingClientRect();let s=n.x;if(Math.abs(l.left-s)>Math.abs(s-l.right)){s-=a+(r.right-r.left)}else s+=a;s-=l.left;let o=n.y;if(Math.abs(l.top-o)>Math.abs(o-l.bottom)){o-=a+(r.bottom-r.top)}else o+=a;return o-=l.top,{x:s,y:o}}}}]);
//# sourceMappingURL=2597.4a90cd8e.chunk.js.map