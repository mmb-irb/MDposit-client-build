"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[1814,3171,4963,8029,9632],{8029:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(65043);const n=e=>({async as(t){let s=t,a=await e();if(a.default&&(a=a.default),!s&&a.is&&"string"===typeof a.is&&(s=a.is),!s)throw new Error("Please a specify a name for custom element");const n=window.customElements.get(s);if(n){if(n===a)return s;throw new Error("This name is already used by another component")}return window.customElements.define(s,a),s}});var r=s(9632),i=s(24963),o=s(70579);let l,c=[];const d=new Promise((e=>{l=e})),u=(0,a.memo)((e=>{let{match:t,length:s,shape:n,classAttr:r}=e;const i=(0,a.useRef)();return(0,a.useEffect)((()=>{(async()=>{await d,i.current.data=[t],i.current.contributors=t.signatures||[]})()}),[]),(0,o.jsx)("protvista-interpro-track",{ref:i,length:s,shape:n,class:r})})),h=(0,a.memo)((e=>{let{chain:t,data:d,firstResidueNumber:h}=e;(0,a.useEffect)((()=>{(async()=>{c.length>0||(c=[await n((()=>s.e(2737).then(s.bind(s,48501)))).as("protvista-manager"),n((()=>Promise.all([s.e(2577),s.e(1502),s.e(1307)]).then(s.bind(s,77665)))).as("protvista-sequence"),n((()=>Promise.all([s.e(2577),s.e(5874)]).then(s.bind(s,6843)))).as("protvista-navigation"),n((()=>Promise.all([s.e(2577),s.e(1502),s.e(2707)]).then(s.bind(s,67340)))).as("protvista-coloured-sequence"),n((()=>Promise.all([s.e(2577),s.e(1502),s.e(2707)]).then(s.bind(s,67340)))).as("protvista-coloured-sequence"),n((()=>Promise.all([s.e(2577),s.e(7955),s.e(1502),s.e(6525)]).then(s.bind(s,88393)))).as("protvista-interpro-track")],await Promise.all(c),l())})()}),[]);const m=d.sequence,p=m.length,f=d.interproscan;if(!f)return"No InterProScan data";const g=f.results[0].matches,b=(0,r.default)(g,h),y=h+p,v=" ".repeat(h)+m;return(0,o.jsxs)("protvista-manager",{attributes:"length displaystart displayend",length:p,chain:t,children:[(0,o.jsx)("protvista-navigation",{rulerstart:h,displaystart:h,displayend:y}),(0,o.jsxs)("div",{className:i.default.entries,children:[(0,o.jsx)("protvista-sequence",{sequence:v,height:"37"}),(0,o.jsx)("protvista-coloured-sequence",{sequence:v,scale:"hydrophobicity-scale",height:"15"}),b.length?b.map(((e,t)=>(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:i.default.label,children:e.accession}),(0,o.jsx)(u,{match:e,shape:"roundRectangle",classAttr:e.signatures?i.default["has-signatures"]:void 0})]},t))):"No entry was found for this sequence"]})]})}))},9632:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});const a=e=>{let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return t},n=e=>{const t=a(e);return`hsla(${Math.abs(t%360)}, ${Math.abs(t%20)+40}%, ${Math.abs(t%10)+45}%, 1)`},r=(e,t)=>Number.isFinite(t)?e[0]=t:e[0],i=(e,t)=>Number.isFinite(t)?e[1]=t:e[1],o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const a=Array.from(e).sort(((e,s)=>t(e)-t(s)));let n,o=[];for(const r of a)n?s(n)<t(r)?(o.push(n),n=r):s(n,Math.max(s(n),s(r))):n=r;return n&&o.push(n),o},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map((e=>{return{fragments:(s=e["location-fragments"],a=t,s.forEach((e=>{e.start+=a-1,e.end+=a-1})),s)};var s,a}))},c=(e,t)=>{const s=[];for(const a of e||[])if(a.signature.entry){let e=s.find((e=>e.accession===a.signature.entry.accession));e||(e={accession:a.signature.entry.accession,db:"InterPro",signatures:[],locations:[],color:n(a.signature.entry.accession)},s.push(e));const r=l(a.locations,t);e.locations=o([...e.locations,...r],((e,t)=>Number.isFinite(t)?e.fragments[0].start=t:e.fragments[0].start),((e,t)=>Number.isFinite(t)?e.fragments[0].end=t:e.fragments[0].end)),e.signatures.push({accession:a.signature.accession,db:a.signature.signatureLibraryRelease.library,locations:r,color:e.color.replace(", 1)",", 0.25)")})}else s.push({accession:a.signature.accession,db:a.signature.signatureLibraryRelease.library,locations:l(a.locations,t),color:n(a["model-ac"])});return s.sort(((e,t)=>e.locations[0].fragments[0].start-t.locations[0].fragments[0].start)).sort(((e,t)=>(t.signatures||[]).length-(e.signatures||[]).length)),s}},53171:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(65043),n=s(85865),r=s(92127),i=s(12639),o=s(29449),l=s(8029),c=s(17604),d=s(51814),u=s(70579);const h=new Map([["InterPro","InterPro"],["TIGRFAM","tigrfams"],["PROSITE_PROFILES","profile"],["PROSITE_PATTERNS","prosite"],["SUPERFAMILY","ssf"],["GENE3D","cathgene3d"],["CDD","cdd"],["HAMAP","hamap"],["PANTHER","panther"],["PFAM","pfam"],["PIRSF","pirsf"],["PRINTS","prints"],["SFLD","sfld"],["SMART","smart"]]),m=(0,a.memo)((()=>{const{topology:e,chainReferences:t}=(0,a.useContext)(o.f);return(0,a.useEffect)((()=>{const e=document.createElement("div");let t,s;e.className=d.default.popup,"HTMLPortalElement"in window&&(s=document.createElement("div"),s.className=d.default["portal-container"],t=document.createElement("portal"),s.appendChild(t),e.appendChild(s),t.addEventListener("click",(()=>{const e=t.getBoundingClientRect();t.animate({transform:[`scale(1) translate(${-e.left}px, ${-e.top}px)`]},{duration:(0,c.A)()?0:1e3,easing:"cubic-bezier(.23,-0.26,0,1)",fill:"both"}).onfinish=()=>{window.location.href=t.src}})));const a=document.createElement("a");a.rel="noopener",a.target="_blank",e.appendChild(a);let n,r=!1;const i=()=>{a.textContent="",a.href="",t&&(s.style.display="none",t.src=null,t.removeAttribute("src")),e.style.visibility="hidden",e.style.transform="translate(0, 0)"},o=()=>clearTimeout(n),l=()=>n=setTimeout(i,1e3);e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",l);const u=o=>{if(!o.detail)return;let l,c,d;switch(o.detail.eventtype){case"mouseover":if(!o.detail.feature.accession)return;clearTimeout(n);const u=h.get(o.detail.feature.db),m=u&&`https://www.ebi.ac.uk/interpro/entry/${u}/${o.detail.feature.accession}/`;t&&u&&(t.src=m),a.textContent=`${o.detail.feature.db} - ${o.detail.feature.accession}`,a.href=m,u?t&&(s.style.display="block"):(t&&(s.style.display="none",t.removeAttribute("src"),t.src=null),a.removeAttribute("href")),l=o.detail.target.getBoundingClientRect(),c=e.getBoundingClientRect(),d=o.detail.target.closest("protvista-interpro-track").getBoundingClientRect();const p=Math.min(Math.max(l.left+l.width/2-c.width/2,d.left),d.right-c.width),f=window.scrollY+l.top-c.height;e.style.visibility="visible",e.style.transform=`translate(${p}px, ${f}px)`,r=!0;break;case"mouseout":if(!r)return;n=setTimeout(i,1e3),r=!1}};return document.body.appendChild(e),window.addEventListener("change",u),()=>{window.removeEventListener("change",u),e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",l),document.body.removeChild(e)}}),[]),t&&t.length>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.A,{variant:"h5",children:"Protein functional analysis"}),(0,u.jsx)("br",{}),(0,u.jsxs)(n.A,{variant:"subtitle2",children:[(0,u.jsx)("strong",{children:t.length})," chains were analysed."]}),(0,u.jsx)("ul",{className:d.default["chain-analysis-list"],children:(()=>{const s=[];return t.forEach((t=>{t.chains.forEach((a=>{let o="",c=1;if(e){const t=e.getChainByName(a);o=t.metadataChainName,c=t.residueNumbers[0]}s.push((0,u.jsxs)("li",{children:[(0,u.jsxs)(n.A,{variant:"h6",children:[(0,u.jsx)(r.g,{icon:i.vmR}),` Chain ${a} ${o?"("+o+")":""}`]}),(0,u.jsx)(l.default,{chain:a,data:t,firstResidueNumber:c})]},a))}))})),s.sort(((e,t)=>e.key.localeCompare(t.key)))})()}),(0,u.jsxs)(n.A,{variant:"body2",children:["Data generated using"," ",(0,u.jsx)("a",{href:"https://www.ebi.ac.uk/",target:"_blank",rel:"noreferrer noopener",children:"EBI"}),"'s"," ",(0,u.jsx)("a",{href:"https://www.ebi.ac.uk/interpro/about/interproscan/",target:"_blank",rel:"noreferrer noopener",children:"InterProScan service"})," ","and visualised using the"," ",(0,u.jsx)("a",{href:"https://ebi-webcomponents.github.io/nightingale/",target:"_blank",rel:"noreferrer noopener",children:"Nightingale visualisation library"}),"."]})]}):"No chain analyses available"}))},24963:(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});const a={entries:"style_entries__T4f7r","has-signatures":"style_has-signatures__4CW-U",label:"style_label__UT0BE"}},51814:(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});const a={popup:"style_popup__-6ZHj","portal-container":"style_portal-container__B70Nq","chain-analysis-list":"style_chain-analysis-list__TzUHq","trajectory-metadata-title":"style_trajectory-metadata-title__7GlAT"}}}]);
//# sourceMappingURL=3171.67631040.chunk.js.map