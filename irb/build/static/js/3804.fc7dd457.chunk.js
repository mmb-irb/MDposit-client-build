"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[1814,3171,3804,4963,5709,8029,8133,9117,9480,9632],{8029:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var s=n(65043);const a=e=>({async as(t){let n=t,s=await e();if(s.default&&(s=s.default),!n&&s.is&&"string"===typeof s.is&&(n=s.is),!n)throw new Error("Please a specify a name for custom element");const a=window.customElements.get(n);if(a){if(a===s)return n;throw new Error("This name is already used by another component")}return window.customElements.define(n,s),n}});var r=n(9632),i=n(24963),l=n(70579);let o,c=[];const d=new Promise((e=>{o=e})),u=(0,s.memo)((e=>{let{match:t,length:n,shape:a,classAttr:r}=e;const i=(0,s.useRef)();return(0,s.useEffect)((()=>{(async()=>{await d,i.current.data=[t],i.current.contributors=t.signatures||[]})()}),[]),(0,l.jsx)("protvista-interpro-track",{ref:i,length:n,shape:a,class:r})})),m=(0,s.memo)((e=>{let{chain:t,data:d,firstResidueNumber:m}=e;(0,s.useEffect)((()=>{(async()=>{c.length>0||(c=[await a((()=>n.e(2737).then(n.bind(n,48501)))).as("protvista-manager"),a((()=>Promise.all([n.e(2577),n.e(1502),n.e(1307)]).then(n.bind(n,77665)))).as("protvista-sequence"),a((()=>Promise.all([n.e(2577),n.e(5874)]).then(n.bind(n,6843)))).as("protvista-navigation"),a((()=>Promise.all([n.e(2577),n.e(1502),n.e(2707)]).then(n.bind(n,67340)))).as("protvista-coloured-sequence"),a((()=>Promise.all([n.e(2577),n.e(1502),n.e(2707)]).then(n.bind(n,67340)))).as("protvista-coloured-sequence"),a((()=>Promise.all([n.e(2577),n.e(7955),n.e(1502),n.e(6525)]).then(n.bind(n,88393)))).as("protvista-interpro-track")],await Promise.all(c),o())})()}),[]);const f=d.sequence,p=f.length,h=d.interproscan;if(!h)return"No InterProScan data";const g=h.results[0].matches,b=(0,r.default)(g,m),v=m+p,y=" ".repeat(m)+f;return(0,l.jsxs)("protvista-manager",{attributes:"length displaystart displayend",length:p,chain:t,children:[(0,l.jsx)("protvista-navigation",{rulerstart:m,displaystart:m,displayend:v}),(0,l.jsxs)("div",{className:i.default.entries,children:[(0,l.jsx)("protvista-sequence",{sequence:y,height:"37"}),(0,l.jsx)("protvista-coloured-sequence",{sequence:y,scale:"hydrophobicity-scale",height:"15"}),b.length?b.map(((e,t)=>(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:i.default.label,children:e.accession}),(0,l.jsx)(u,{match:e,shape:"roundRectangle",classAttr:e.signatures?i.default["has-signatures"]:void 0})]},t))):"No entry was found for this sequence"]})]})}))},9480:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(65043),a=n(29449),r=n(67784),i=n(51787),l=n(70068),o=n(35709),c=n(70579);const d="Not available",u=()=>{const{metadata:e}=(0,s.useContext)(a.f);if(!e)return"No available metadata";const t=e.FRAMESTEP&&1e3*e.FRAMESTEP||null;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Counts"}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"System atoms",title:"Total number of atoms in the system",value:null===e.SYSTATS?d:e.SYSTATS,disabled:null===e.SYSTATS}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Proteins atoms",title:"Number of protein atoms in the system",value:null===e.PROTATS?d:e.PROTATS,disabled:null===e.PROTATS}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Proteins residues",title:"Number of protein residues in the system",value:null===e.PROT?d:e.PROT,disabled:null===e.PROT}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Solvent molecules",title:"Number of solvent molecules in the system",value:null===e.SOL?d:e.SOL,disabled:null===e.SOL}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Positive ions",title:"Number of positively charged ions in the system",value:null===e.NA?d:e.NA,disabled:null===e.NA}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Negative ions",title:"Number of negatively charged ions in the system",value:null===e.CL?d:e.CL,disabled:null===e.CL})]}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"System box"}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Type",title:"Box type",value:null===e.BOXTYPE?d:e.BOXTYPE,disabled:null===e.BOXTYPE}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Size X",title:"Simulated system box X dimension",value:null===e.BOXSIZEX?d:(0,l.wC)(e.BOXSIZEX),disabled:null===e.BOXSIZEX,InputProps:{endAdornment:(0,c.jsx)(i.A,{variant:"filled",position:"end",children:"nm"})}}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Size Y",title:"Simulated system box Y dimension",value:null===e.BOXSIZEY?d:(0,l.wC)(e.BOXSIZEY),disabled:null===e.BOXSIZEY,InputProps:{endAdornment:(0,c.jsx)(i.A,{variant:"filled",position:"end",children:"nm"})}}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Size Z",title:"Simulated system box Z dimension",value:null===e.BOXSIZEZ?d:(0,l.wC)(e.BOXSIZEZ),disabled:null===e.BOXSIZEZ,InputProps:{endAdornment:(0,c.jsx)(i.A,{variant:"filled",position:"end",children:"nm"})}}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Volume",title:"Simulated system box volume",value:null===e.BOXSIZEX||null===e.BOXSIZEY||null===e.BOXSIZEZ?d:(0,l.wC)(e.BOXSIZEX*e.BOXSIZEY*e.BOXSIZEZ),disabled:!(e.BOXSIZEX&&e.BOXSIZEY&&e.BOXSIZEZ),InputProps:{endAdornment:(0,c.jsx)(i.A,{variant:"filled",position:"end",children:"nm\xb3"})}})]}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Simulation"}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Length",title:"Simulation length",value:null===e.timeLength?d:(0,l.wC)(e.timeLength),disabled:null===e.timeLength,InputProps:{endAdornment:(0,c.jsx)(i.A,{variant:"filled",position:"end",children:"ns"})}}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Timestep",title:"Simulation timestep",value:null===e.TIMESTEP?d:e.TIMESTEP,disabled:null===e.TIMESTEP,InputProps:{endAdornment:(0,c.jsx)(i.A,{variant:"filled",position:"end",children:"fs"})}}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Snapshots",title:"Number of snapshots",value:null===e.mdFrames?d:e.mdFrames,disabled:null===e.mdFrames}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Frequency",title:"Frequency of snapshots",value:null===t?d:t,disabled:null===t,InputProps:{endAdornment:(0,c.jsx)(i.A,{variant:"filled",position:"end",children:"ps"})}}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Force fields",title:"Force fields",value:null===e.FF?d:e.FF.join(", "),disabled:null===e.FF}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Temperature",title:"Temperature",value:null===e.TEMP?d:e.TEMP,disabled:null===e.TEMP,InputProps:{endAdornment:(0,c.jsx)(i.A,{variant:"filled",position:"end",children:"K"})}}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Water type",title:"Water type",value:null===e.WAT?d:e.WAT,disabled:null===e.WAT}),(0,c.jsx)(r.A,{className:o.default["text-field"],label:"Ensemble",title:"Simulation ensemble",value:null===e.ENSEMBLE?d:e.ENSEMBLE,disabled:null===e.ENSEMBLE})]})]})}},9632:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});const s=e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t},a=e=>{const t=s(e);return`hsla(${Math.abs(t%360)}, ${Math.abs(t%20)+40}%, ${Math.abs(t%10)+45}%, 1)`},r=(e,t)=>Number.isFinite(t)?e[0]=t:e[0],i=(e,t)=>Number.isFinite(t)?e[1]=t:e[1],l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const s=Array.from(e).sort(((e,n)=>t(e)-t(n)));let a,l=[];for(const r of s)a?n(a)<t(r)?(l.push(a),a=r):n(a,Math.max(n(a),n(r))):a=r;return a&&l.push(a),l},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map((e=>{return{fragments:(n=e["location-fragments"],s=t,n.forEach((e=>{e.start+=s-1,e.end+=s-1})),n)};var n,s}))},c=(e,t)=>{const n=[];for(const s of e||[])if(s.signature.entry){let e=n.find((e=>e.accession===s.signature.entry.accession));e||(e={accession:s.signature.entry.accession,db:"InterPro",signatures:[],locations:[],color:a(s.signature.entry.accession)},n.push(e));const r=o(s.locations,t);e.locations=l([...e.locations,...r],((e,t)=>Number.isFinite(t)?e.fragments[0].start=t:e.fragments[0].start),((e,t)=>Number.isFinite(t)?e.fragments[0].end=t:e.fragments[0].end)),e.signatures.push({accession:s.signature.accession,db:s.signature.signatureLibraryRelease.library,locations:r,color:e.color.replace(", 1)",", 0.25)")})}else n.push({accession:s.signature.accession,db:s.signature.signatureLibraryRelease.library,locations:o(s.locations,t),color:a(s["model-ac"])});return n.sort(((e,t)=>e.locations[0].fragments[0].start-t.locations[0].fragments[0].start)).sort(((e,t)=>(t.signatures||[]).length-(e.signatures||[]).length)),n}},10939:(e,t,n)=>{n.d(t,{A:()=>d});var s=n(65043),a=n(12110),r=n(17604);const i="style_container__M9GCG";var l=n(70579);const o={opacity:[0,1]};(0,r.A)()||(o.transform=["translateY(50px)","translateY(0)"]);const c={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},d=(0,s.forwardRef)(((e,t)=>{let{overrideComponent:n,...r}=e;const d=(0,s.useRef)(null);(0,s.useLayoutEffect)((()=>{const e=d.current&&d.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex((t=>e===t)),n=e.animate(o,{...c,delay:150*t});return()=>n.cancel()}),[]);const u=n?"section":a.A;return(0,l.jsx)("div",{ref:d,className:i,children:(0,l.jsx)(u,{component:"section",...r,ref:t})})}))},12110:(e,t,n)=>{n.d(t,{A:()=>b});var s=n(58168),a=n(98587),r=n(65043),i=n(58387),l=n(98610),o=n(34535),c=n(98206),d=n(63336),u=n(92532),m=n(72372);function f(e){return(0,m.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var p=n(70579);const h=["className","raised"],g=(0,o.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),b=r.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,d=(0,a.A)(n,h),u=(0,s.A)({},n,{raised:o}),m=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},f,t)})(u);return(0,p.jsx)(g,(0,s.A)({className:(0,i.A)(m.root,r),elevation:o?8:void 0,ref:t,ownerState:u},d))}))},21136:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var s=n(65043),a=n(89257),r=n(10939),i=n(26494),l=n(43845),o=n(29449),c=n(10419),d=n(36114),u=n(35847);const m="style_card__Ocl+v",f="style_chips__40Fvj",p="style_title__tHkJW";var h=n(17545),g=n(66496),b=n(70579);const v=e=>{let{setRepresentations:t,setInitialFocus:n}=e;const{metadata:a,proteinReferences:v,ligandReferences:y,topology:x,interactions:A}=(0,s.useContext)(o.f),[E,j]=(0,s.useState)(0),[S,N]=(0,s.useState)(null),w=(0,c.A)(),I=(0,d.A)(),P=(0,u.A)(),T=(0,s.useMemo)((()=>{if(!x)return;const e={name:"Overall",representations:w},t=a.CUSTOMS||[],n=[];A&&A.forEach((e=>{if(e.failed)return;[{name:e.agent_1,residues:e.residue_indices_1},{name:e.agent_2,residues:e.residue_indices_2}].forEach((e=>{if(n.find((t=>t.name===e.name)))return;const{rangedSelection:t}=x.residueIndices2Ngl(e.residues);n.push({name:e.name,representations:[{name:e.name,selection:t,type:"licorice"}]})}))}));const s=[];v&&v.forEach((e=>{const a=e.uniprot;let r=[];e.domains&&(r=r.concat(e.domains)),e.custom_domains&&(r=r.concat(e.custom_domains)),0!==r.length&&r.forEach((r=>{const i=r.name;if(t.find((e=>e.name===i)))return;if(n.find((e=>e.name===i)))return;if(e.name===i)return;const l={name:e.name+" - "+i,description:r.description,representations:[]},o=e=>{const t=e.selection,n=(0,g.hR)(t),s=x.getReferenceResidueIndices(a,n);if(!s||0===s.length)return;const{rangedSelection:r,small:i}=x.residueIndices2Ngl(s),o={...e};o.selection=r,i&&(o.type="licorice"),l.representations.push(o)};if(r.selection){o({name:i,selection:r.selection})}r.representations&&r.representations.forEach(o),l.representations.length>0&&s.push(l)}))})),y&&y.forEach((e=>{const a=e.name;if(t.find((e=>e.name===a)))return;if(n.find((e=>e.name===a)))return;const r=x.getReferenceResidueIndices(e.pubchem);if(!r)throw new Error(`Ligand reference "${e.pubchem}" not found in topology`);const{rangedSelection:i}=x.residueIndices2Ngl(r),l={name:a,representations:[{name:a,selection:i,type:"ball+stick",color:"element"}]};s.push(l)}));const r=[e,...t,...s,...n];if(I){const e={name:"Mutations",description:"Show the entropies of each residue according to the bibliography",representations:I};r.push(e)}if(P){const e={name:"Epitopes",description:"Show regions considered as epitopes according to the bibliography",representations:P};r.push(e)}return j(0),r}),[a,w,I,P,x,v,A]);return(0,s.useEffect)((()=>{if(!T)return;const e=T[E],s=e.representations.map((e=>({...e}))),a=null!==S&&T[S],r=[...s,...a?a.representations.map((e=>({...e,type:"spacefill",opacity:e.opacity?.2*e.opacity:.2}))):[]];"Overall"!==e.name&&r.push({name:"Reference",color:"grey",opacity:.1});const i={sele:`(${e.representations.map((e=>e.selection)).join(") or (")})`};t(r),n(i)}),[T,E,S,t,n]),T?(0,b.jsx)(s.Suspense,{fallback:(0,b.jsx)(h.A,{}),children:T&&T.length>0&&(0,b.jsx)(r.A,{className:m,children:(0,b.jsxs)(i.A,{children:[(0,b.jsx)("a",{className:p,children:"Domains"}),T.map(((e,t)=>(0,b.jsx)(l.A,{title:e.description,className:f,label:e.name,variant:E===t||S===t?void 0:"outlined",color:E===t?"primary":S===t?"secondary":void 0,onClick:e=>e.shiftKey||e.ctrlKey||e.metaKey?N((e=>e===t||E===t?null:t)):j((e=>e===t?0:(S===t&&N(null),t)))},e.name)))]})})}):(0,b.jsx)(h.A,{})};var y=n(92428),x=n(9480),A=n(53171),E=n(78133);const j={triggerOnce:!0,rootMargin:"100px"},S=()=>{const[e,t]=(0,a.Wx)(j),[n,l]=(0,a.Wx)(j),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v,{setRepresentations:c,setInitialFocus:u}),(0,b.jsx)(r.A,{className:E.default["ngl-card"],ref:e,children:t?(0,b.jsx)(y.default,{className:E.default.container,representationsState:[o,c],initialFocus:d}):(0,b.jsx)("div",{style:{height:"50vh"}})}),(0,b.jsx)(r.A,{className:E.default.card,children:(0,b.jsx)(i.A,{children:(0,b.jsxs)("details",{children:[(0,b.jsx)("summary",{className:E.default["trajectory-metadata-title"],children:"Trajectory metadata"}),(0,b.jsx)("br",{}),(0,b.jsx)("span",{children:(0,b.jsx)(x.default,{})})]})})}),(0,b.jsx)(r.A,{className:E.default.card,ref:n,children:l?(0,b.jsx)(i.A,{children:(0,b.jsx)(A.default,{})}):(0,b.jsx)("div",{style:{height:"50vh"}})})]})}},24963:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});const s={entries:"style_entries__T4f7r","has-signatures":"style_has-signatures__4CW-U",label:"style_label__UT0BE"}},35709:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});const s={"text-field":"style_text-field__34cWZ"}},35847:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(65043),a=n(29449);const r=()=>{const{topology:e}=(0,s.useContext)(a.f);return(0,s.useMemo)((()=>{if(!e)return;if(!e.proteinReferences.some((e=>!!e.epitopes)))return;const t=e.proteinReferences.map((t=>{const n=t.uniprot,s=t.epitopes;if(!s)return[];const a=Object.values(s).map((e=>e.residues)),r=[].concat.apply([],a),i=Array.from(new Set(r)),l=e.getReferenceResidueIndices(n,i);return l||[]})),n=[].concat.apply([],Object.values(t)),{rangedSelection:s,small:a}=e.residueIndices2Ngl(n);return[{name:"Epitopes",selection:s||"none",type:a?"licorice":"cartoon",color:"purple"}]}),[e])}},36114:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(65043),a=n(82746),r=n(32577),i=n(29449);const l=["grey","yellow","red"],o=()=>{const{topology:e}=(0,s.useContext)(i.f);return(0,s.useMemo)((()=>{if(!e)return;if(!e.proteinReferences.some((e=>!!e.entropies)))return;const t=e.proteinReferences.map((e=>{if(!e.entropies)return[];const t=e.entropies.map((e=>Math.log(e+1e-4)));return e.logarithmicEntropies=t,t})),n=[].concat.apply([],t),s=Math.max(...n),i=Math.min(...n),o=(0,r.m4Y)().range(l).domain([i,(i+s)/2,s]);return[{name:"Mutations",color:"custom",customScheme:a.ColormakerRegistry.addScheme((function(t){this.atomColor=t=>{const n=t.residueIndex,s=e.getResidueByIndex(n);if(!s.referenceId)return parseInt("ffffff",16);const a=s.referenceData.logarithmicEntropies;if(!a||0===a.length)return parseInt("ffffff",16);const i=a[s.referenceNumber-1];if(!i)return parseInt("ffffff",16);const l=(0,r.yWT)(o(i)).formatHex();return parseInt(l.substring(1),16)}}))}]}),[e])}},51787:(e,t,n)=>{n.d(t,{A:()=>E});var s=n(98587),a=n(58168),r=n(65043),i=n(58387),l=n(98610),o=n(6803),c=n(85865),d=n(41053),u=n(85213),m=n(34535),f=n(92532),p=n(72372);function h(e){return(0,p.Ay)("MuiInputAdornment",e)}const g=(0,f.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var b,v=n(98206),y=n(70579);const x=["children","className","component","disablePointerEvents","disableTypography","position","variant"],A=(0,m.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,o.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{[`&.${g.positionStart}&:not(.${g.hiddenLabel})`]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),E=r.forwardRef((function(e,t){const n=(0,v.b)({props:e,name:"MuiInputAdornment"}),{children:m,className:f,component:p="div",disablePointerEvents:g=!1,disableTypography:E=!1,position:j,variant:S}=n,N=(0,s.A)(n,x),w=(0,u.A)()||{};let I=S;S&&w.variant,w&&!I&&(I=w.variant);const P=(0,a.A)({},n,{hiddenLabel:w.hiddenLabel,size:w.size,disablePointerEvents:g,position:j,variant:I}),T=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:s,position:a,size:r,variant:i}=e,c={root:["root",n&&"disablePointerEvents",a&&`position${(0,o.A)(a)}`,i,s&&"hiddenLabel",r&&`size${(0,o.A)(r)}`]};return(0,l.A)(c,h,t)})(P);return(0,y.jsx)(d.A.Provider,{value:null,children:(0,y.jsx)(A,(0,a.A)({as:p,ownerState:P,className:(0,i.A)(T.root,f),ref:t},N,{children:"string"!==typeof m||E?(0,y.jsxs)(r.Fragment,{children:["start"===j?b||(b=(0,y.jsx)("span",{className:"notranslate",children:"\u200b"})):null,m]}):(0,y.jsx)(c.A,{color:"text.secondary",children:m})}))})}))},51814:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});const s={popup:"style_popup__-6ZHj","portal-container":"style_portal-container__B70Nq","chain-analysis-list":"style_chain-analysis-list__TzUHq","trajectory-metadata-title":"style_trajectory-metadata-title__7GlAT"}},53171:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s=n(65043),a=n(85865),r=n(92127),i=n(12639),l=n(29449),o=n(8029),c=n(17604),d=n(51814),u=n(70579);const m=new Map([["InterPro","InterPro"],["TIGRFAM","tigrfams"],["PROSITE_PROFILES","profile"],["PROSITE_PATTERNS","prosite"],["SUPERFAMILY","ssf"],["GENE3D","cathgene3d"],["CDD","cdd"],["HAMAP","hamap"],["PANTHER","panther"],["PFAM","pfam"],["PIRSF","pirsf"],["PRINTS","prints"],["SFLD","sfld"],["SMART","smart"]]),f=(0,s.memo)((()=>{const{topology:e}=(0,s.useContext)(l.f);if((0,s.useEffect)((()=>{const e=document.createElement("div");let t,n;e.className=d.default.popup,"HTMLPortalElement"in window&&(n=document.createElement("div"),n.className=d.default["portal-container"],t=document.createElement("portal"),n.appendChild(t),e.appendChild(n),t.addEventListener("click",(()=>{const e=t.getBoundingClientRect();t.animate({transform:[`scale(1) translate(${-e.left}px, ${-e.top}px)`]},{duration:(0,c.A)()?0:1e3,easing:"cubic-bezier(.23,-0.26,0,1)",fill:"both"}).onfinish=()=>{window.location.href=t.src}})));const s=document.createElement("a");s.rel="noopener",s.target="_blank",e.appendChild(s);let a,r=!1;const i=()=>{s.textContent="",s.href="",t&&(n.style.display="none",t.src=null,t.removeAttribute("src")),e.style.visibility="hidden",e.style.transform="translate(0, 0)"},l=()=>clearTimeout(a),o=()=>a=setTimeout(i,1e3);e.addEventListener("mouseenter",l),e.addEventListener("mouseleave",o);const u=l=>{if(!l.detail)return;let o,c,d;switch(l.detail.eventtype){case"mouseover":if(!l.detail.feature.accession)return;clearTimeout(a);const u=m.get(l.detail.feature.db),f=u&&`https://www.ebi.ac.uk/interpro/entry/${u}/${l.detail.feature.accession}/`;t&&u&&(t.src=f),s.textContent=`${l.detail.feature.db} - ${l.detail.feature.accession}`,s.href=f,u?t&&(n.style.display="block"):(t&&(n.style.display="none",t.removeAttribute("src"),t.src=null),s.removeAttribute("href")),o=l.detail.target.getBoundingClientRect(),c=e.getBoundingClientRect(),d=l.detail.target.closest("protvista-interpro-track").getBoundingClientRect();const p=Math.min(Math.max(o.left+o.width/2-c.width/2,d.left),d.right-c.width),h=window.scrollY+o.top-c.height;e.style.visibility="visible",e.style.transform=`translate(${p}px, ${h}px)`,r=!0;break;case"mouseout":if(!r)return;a=setTimeout(i,1e3),r=!1}};return document.body.appendChild(e),window.addEventListener("change",u),()=>{window.removeEventListener("change",u),e.removeEventListener("mouseenter",l),e.removeEventListener("mouseleave",o),document.body.removeChild(e)}}),[]),!e)return;const t=e.chainReferences;return t&&t.length>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.A,{variant:"h5",children:"Protein functional analysis"}),(0,u.jsx)("br",{}),(0,u.jsxs)(a.A,{variant:"subtitle2",children:[(0,u.jsx)("strong",{children:t.length})," chains were analysed."]}),(0,u.jsx)("ul",{className:d.default["chain-analysis-list"],children:(()=>{const n=[];return t.forEach((t=>{t.chains.forEach((s=>{let l="",c=1;if(e){const t=e.getChainByName(s);l=t.metadataChainName,c=t.residueNumbers[0]}n.push((0,u.jsxs)("li",{children:[(0,u.jsxs)(a.A,{variant:"h6",children:[(0,u.jsx)(r.g,{icon:i.vmR}),` Chain ${s} ${l?"("+l+")":""}`]}),(0,u.jsx)(o.default,{chain:s,data:t,firstResidueNumber:c})]},s))}))})),n.sort(((e,t)=>e.key.localeCompare(t.key)))})()}),(0,u.jsxs)(a.A,{variant:"body2",children:["Data generated using"," ",(0,u.jsx)("a",{href:"https://www.ebi.ac.uk/",target:"_blank",rel:"noreferrer noopener",children:"EBI"}),"'s"," ",(0,u.jsx)("a",{href:"https://www.ebi.ac.uk/interpro/about/interproscan/",target:"_blank",rel:"noreferrer noopener",children:"InterProScan service"})," ","and visualised using the"," ",(0,u.jsx)("a",{href:"https://ebi-webcomponents.github.io/nightingale/",target:"_blank",rel:"noreferrer noopener",children:"Nightingale visualisation library"}),"."]})]}):"No chain analyses available"}))},78133:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});const s={card:"style_card__T1Y+D","ngl-card":"style_ngl-card__596lW",container:"style_container__VwOAd","trajectory-metadata-title":"style_trajectory-metadata-title__MQcG8"}}}]);
//# sourceMappingURL=3804.fc7dd457.chunk.js.map