"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[421],{10939:(e,r,s)=>{s.d(r,{A:()=>h});var t=s(65043),a=s(12110),n=s(17604);const l="style_container__M9GCG";var i=s(70579);const c={opacity:[0,1]};(0,n.A)()||(c.transform=["translateY(50px)","translateY(0)"]);const o={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},h=(0,t.forwardRef)(((e,r)=>{let{overrideComponent:s,...n}=e;const h=(0,t.useRef)(null);(0,t.useLayoutEffect)((()=>{const e=h.current&&h.current.firstElementChild;if(!e||!e.animate)return;const r=Array.from(document.querySelectorAll("main section")).findIndex((r=>e===r)),s=e.animate(c,{...o,delay:150*r});return()=>s.cancel()}),[]);const d=s?"section":a.A;return(0,i.jsx)("div",{ref:h,className:l,children:(0,i.jsx)(d,{component:"section",...n,ref:r})})}))},11567:(e,r,s)=>{s.r(r),s.d(r,{default:()=>xe});var t=s(65043),a=s(35475),n=s(73216),l=s(22908),i=s(64600),c=s.n(i),o=s(28076),h=s(10039),d=s(43845),u=s(26494),p=s(53193),m=s(79190),x=s(2260),f=s(32143),j=s(85865),_=s(71806),g=s(84882),y=s(73460),A=s(207),N=s(67803),b=s(83150),v=s(10939),P=s(10312),w=s(70008);const C="style_highlightable__biB77";var $=s(70579);const k=/\s+/,E=(0,P.A)((e=>new RegExp(`(${e.toString().trim().split(k).map(w.A).join("|")})`,"i"))),S=t.memo((e=>{let{highlight:r,children:s}=e;if(Array.isArray(s))return s.map(((e,s)=>(0,$.jsx)(S,{highlight:r,children:e},s)));if(!r||!s||"string"!==typeof s&&!Number.isFinite(s))return s||null;const a=E(r);return(0,$.jsx)("span",{className:C,children:s.toString().split(a).filter(Boolean).map(((e,r)=>t.createElement(a.test(e)?"mark":"span",{key:r},e)))})})),q=S;var z=s(17545),D=s(58338),M=s(95747);const I="style_table-body__UaSDI",R="style_invalid-results__xfJgr",B="style_table-head__tmuYe",Q="style_not-published__KTvNz",U="style_center__5C2Uk",L="style_no-results-card__hJ248",O="style_minheight__Qpr-9",X="style_no-results-text__PtOSj",Y="style_analysis__M4Th0",F="style_small__QxCJm",J="style_horizontal__f42Xi",T="style_selector__XVrF1",G="style_fillheight__1UWvV";var V=s(17604),Z=s(66062),K=s(88058),W=s(51787),H=s(67784),ee=s(92127),re=s(12639),se=s(1198);const te="style_searchbar__L3fSk",ae="style_searchbar-icon__o1zED",ne="style_searchbar-letters__NY7xQ",le={"aria-label":"Search projects by text",startAdornment:(0,$.jsx)(W.A,{position:"start",children:(0,$.jsx)(ee.g,{icon:re.MjD,size:"2x",className:ae})}),classes:{input:ne}},ie=(0,K.A)(((e,r,s)=>{const{search:t,...a}=(0,l.parse)(e.search,{ignoreQueryPrefix:!0}),n=Boolean(t)===Boolean(s);s&&(a.search=s),t!==s&&(a.page=void 0,r({...e,search:(0,l.stringify)(a),replace:n}))}),500),ce=()=>{const e=(0,n.zy)(),r=(0,n.Zp)(),[s,a]=(0,t.useState)((0,l.parse)(e.search,{ignoreQueryPrefix:!0}).search);(0,t.useEffect)((()=>ie.cancel),[]);const i=(0,t.useCallback)((s=>{let{target:{value:t}}=s;a(t),ie(e,r,t)}),[e,r]),c=se.m.find((e=>"browser"===e.id));return(0,$.jsx)(H.A,{title:c.text,value:s||"",onChange:i,className:te,InputProps:le,placeholder:M._r.searchExample})},oe="All results",he=[5,10,25,50],de={title:"Previous page"},ue={title:"Next page"},pe={opacity:[0,1]};(0,V.A)()||(pe.transform=["translateX(2.5%)","translateX(0)"]);const me=e=>{let{projectData:r,highlight:s,index:n,previewUrl:l}=e;const i=new Z.M(r),{identifier:u,accession:p,published:m,pdbInfo:x,metadata:f,mdCount:j,directions:_}=i,g=(0,t.useRef)(null);return(0,t.useLayoutEffect)((()=>{if(!g.current||!g.current.animate)return;const e=g.current.animate(pe,{fill:"both",easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",duration:750,delay:100+75*n});return()=>e.cancel()}),[n]),i.error?(0,$.jsxs)(o.A,{ref:g,className:Q,children:[(0,$.jsx)(h.A,{className:U,children:" Errored entry "}),(0,$.jsxs)(h.A,{className:U,children:[" ",i.error," "]}),(0,$.jsx)(h.A,{className:U,children:" - "}),(0,$.jsx)(h.A,{className:U,children:" - "})]}):(0,$.jsxs)(o.A,{ref:g,className:c()({[Q]:!m}),children:[(0,$.jsxs)(h.A,{className:U,children:[(0,$.jsx)(a.N_,{to:{pathname:`/id/${p||u}/overview`,state:{projectData:i}},children:(0,$.jsxs)(q,{highlight:s,children:[p||u,!m&&(0,$.jsx)("div",{children:"(not published)"})]})}),j>1&&(0,$.jsx)("div",{className:F,children:`${j} MDs`})]}),(0,$.jsx)(h.A,{className:U,children:(0,$.jsx)(q,{highlight:s,children:f&&f.NAME?f.NAME:x&&x.compound?x.compound:"Not available"})}),(0,$.jsx)(h.A,{className:U,children:(0,$.jsx)(b.A,{src:l,width:"110",height:"110",loading:"lazy",alt:"Project preview"})}),(0,$.jsx)(h.A,{className:U,children:Object.entries(_).filter((e=>{let[r,s]=e;return s})).map((e=>{let[r,s]=e;return(0,$.jsx)(d.A,{clickable:!0,className:Y,component:a.N_,to:{pathname:`/id/${p||u}/${r}`,state:{projectData:i}},label:M.h7.get(r)||r,variant:"outlined"},r)}))})]})},xe=()=>{const e=(0,n.zy)(),r=(0,n.Zp)(),s=decodeURIComponent(e.search),a=(0,l.parse)(s,{ignoreQueryPrefix:!0,decoder:e=>e}),[i,d]=(0,t.useState)(a.option||oe),b=(0,t.useCallback)((s=>{let{target:{value:t}}=s;r({...e,search:(0,l.stringify)({search:a.search,query:a.query,option:t&&t!==oe?t:void 0})}),d(t)}),[e,a,d]),P=M._r.optionsField,w=i&&i!==oe&&`${P}+*${i}`,C=(0,l.stringify)({search:a.search,query:a.query,ref:a.ref,page:a.page||1,limit:a.limit||10,filter:w});(0,t.useEffect)((()=>{window.scrollTo(0,0)}),[a.page]);const k=(0,t.useRef)(null),E=P?`${M.nP}/options?projection=${P}`:null,{payload:S,error:q}=(0,D.A)(E),Q=(0,t.useMemo)((()=>{let e=[];return S&&(e=Object.keys(S[P]).filter((e=>"null"!==e))),[oe,...e]}),[S]),Y=`${M.nP}?${C}`,{loading:F,payload:V,error:Z}=(0,D.A)(Y);if(F&&!k.current)return(0,$.jsx)(z.A,{});if(Z)return Z.toString();if(q)return q.toString();let K,W=0;V?(K=V.projects,W=V.filteredCount,k.current=V):k.current?(K=k.current.projects,W=k.current.filteredCount):K=[];const H=K.map((e=>`${M.nP}/${e.identifier}/files/${M.pP}`));return(0,$.jsx)(v.A,{children:(0,$.jsxs)(u.A,{className:O,children:[(0,$.jsxs)("div",{className:J,children:[(0,$.jsx)(ce,{}),P&&(0,$.jsxs)(p.A,{className:T,children:[(0,$.jsx)(m.A,{children:M._r.optionsLabel}),(0,$.jsx)(x.A,{label:M._r.optionsLabel,value:i!==oe?i:"",onChange:b,className:G,children:Q.map(((e,r)=>(0,$.jsx)(f.A,{value:e,children:M._r.optionsNiceNames[e]||e},r)))})]})]}),F||V?[]:(0,$.jsx)(v.A,{className:L,children:(0,$.jsx)(j.A,{variant:"h5",className:X,children:"No results were found"})}),(0,$.jsxs)(_.A,{children:[(0,$.jsx)(g.A,{className:B,children:(0,$.jsxs)(o.A,{children:[(0,$.jsx)(h.A,{className:U,children:"accession"}),(0,$.jsx)(h.A,{className:U,children:"name"}),(0,$.jsx)(h.A,{className:U,children:"preview"}),(0,$.jsx)(h.A,{className:U,children:"analyses"})]})}),(0,$.jsx)(y.A,{className:V?c()(I):c()(I,R),children:K.map(((e,r)=>(0,$.jsx)(me,{projectData:e,highlight:a.search,index:r,previewUrl:H[r]},r)))}),(0,$.jsx)(A.A,{children:(0,$.jsx)(o.A,{children:(0,$.jsx)(N.A,{rowsPerPageOptions:he,colSpan:6,count:W,rowsPerPage:+a.limit||10,page:(+a.page||1)-1,onPageChange:(s,t)=>{r({...e,search:(0,l.stringify)({search:a.search,query:a.query,option:a.option,page:t+1===1?void 0:t+1,limit:a.limit&&10!==+a.limit?+a.limit:void 0})})},onRowsPerPageChange:s=>{let{target:{value:t}}=s;r({...e,search:(0,l.stringify)({search:a.search,query:a.query,option:a.option,limit:10===+t?void 0:t})})},backIconButtonProps:de,nextIconButtonProps:ue})})})]})]})})}}}]);
//# sourceMappingURL=browse.dddc8831.chunk.js.map