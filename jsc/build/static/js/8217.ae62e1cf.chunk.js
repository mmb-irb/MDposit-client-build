"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[2100,8217],{10939:(e,t,n)=>{n.d(t,{A:()=>d});var s=n(65043),r=n(12110),a=n(17604);const i="style_container__M9GCG";var o=n(70579);const l={opacity:[0,1]};(0,a.A)()||(l.transform=["translateY(50px)","translateY(0)"]);const c={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},d=(0,s.forwardRef)(((e,t)=>{let{overrideComponent:n,...a}=e;const d=(0,s.useRef)(null);(0,s.useLayoutEffect)((()=>{const e=d.current&&d.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex((t=>e===t)),n=e.animate(l,{...c,delay:150*t});return()=>n.cancel()}),[]);const u=n?"section":r.A;return(0,o.jsx)("div",{ref:d,className:i,children:(0,o.jsx)(u,{component:"section",...a,ref:t})})}))},34088:(e,t,n)=>{n.d(t,{A:()=>h});var s=n(65043),r=n(43126),a=n(10939);const i="style_rnd__Txifm",o="style_floating-card__HHpby";var l=n(70579);const c=(0,s.lazy)((()=>Promise.all([n.e(7784),n.e(8095),n.e(3845),n.e(9070),n.e(2594),n.e(8280),n.e(7955),n.e(6190),n.e(1235),n.e(9117)]).then(n.bind(n,92428))));let d=0;const u=e=>{const t=e.viewerRef||(0,s.useRef)(null),[n,u]=(0,s.useState)((()=>{const{innerWidth:e,innerHeight:t,scrollY:n}=window,s=document.querySelector("main").offsetTop,r=Math.max(Math.min(e/4,t/4),150),a=1.5*r;return{width:2*r,height:a,x:0,y:t-s-a-20+n}}));return(0,l.jsx)(r.p,{position:{x:n.x,y:n.y},size:{width:n.width,height:n.height},style:{zIndex:(d+=1,d)},className:i,"data-rnd":!0,bounds:"window",cancel:"canvas, [data-popover], #preventDragSize",onDragStart:()=>{u({...n})},onResizeStart:()=>{u({...n})},onDragStop:(e,t)=>{0===e.layerX&&0===e.layerY||n.x===t.x&&n.y===t.y||u({...n,x:t.x,y:t.y})},onResize:()=>t.current&&t.current.autoResize(),onResizeStop:(e,t,n,s,r)=>{u({width:n.style.width,height:n.style.height,...r})},children:(0,l.jsx)(a.A,{className:o,elevation:4,children:(0,l.jsx)(s.Suspense,{fallback:null,children:(0,l.jsx)(c,{className:o,ref:t,startsPlaying:!1,...e})})})})},h=e=>{let{newViewer:t,nailing:n=!0,onNail:r,onClose:a}=e;const[i,o]=(0,s.useState)([]),c=[...i],d=(0,s.useRef)([]);if(t){const e=()=>{let e=0;for(;e<999;){if(-1===d.current.indexOf(e))return e;e+=1}console.error("Maximum number of viewers reached")};t.id=e(),t.close=()=>{n&&o((e=>{const n=[...e],s=e.indexOf(t);return-1!==s&&n.splice(s,1),n})),a&&a(t),d.current.push(t.id)},n&&(t.nail=()=>{o((e=>[...e,t])),r&&r(t),d.current.push(t.id)}),c.push(t)}return c.map((e=>(0,l.jsx)(u,{...e},e.id)))}},18217:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var s=n(65043),r=n(26494),a=n(71806),i=n(84882),o=n(28076),l=n(10039),c=n(73460),d=n(85865),u=n(10939),h=n(34088),x=n(17545),f=n(11906),m=n(92127),y=n(44642),A=n(58338),p=n(29449),j=n(95747),g=n(62100),v=n(70579);const w=(0,s.lazy)((()=>Promise.all([n.e(2577),n.e(2460),n.e(5291),n.e(5077)]).then(n.bind(n,75291)))),S=()=>{const{accessionAndMdNumber:e,topology:t}=(0,s.useContext)(p.f),{loading:n,payload:S,error:b}=(0,A.A)(`${j.nP}/${e}/analyses/fluctuation/`);(0,s.useMemo)((()=>{if(!S)return;const e=S.y.rmsf;e.data=e.data.map((e=>10*e)),e.average=10*e.average,e.stddev=10*e.stddev}),[S]);const[_,C]=(0,s.useState)(null),[z,k]=(0,s.useState)(new Set),M=(0,s.useMemo)((()=>Array.from(z).map((e=>({x:e,attr:{fill:"#c8c8c8"}})))),[z]),{xColors:N,xTooltip:R}=(0,s.useMemo)((()=>{if(!t)return{};return{xColors:t.getAtomElementColors(),xTooltip:(e,n)=>{const s="atom "+(n+1),r=t.getAtomByIndex(n),a=r.name;if(!a)return s;const i=r.residue.name;return i?s+` (${i} - ${a})`:s+` (${a})`}}}),[t]);if(!t)return(0,v.jsx)(x.A,{});if(n)return(0,v.jsx)(x.A,{});if(b)return b.toString();if(!S)return"Something bad happened";const D=e=>Math.round(100*e)/100;return(0,v.jsxs)(s.Suspense,{fallback:(0,v.jsx)(x.A,{}),children:[(0,v.jsx)(u.A,{className:g.default.card,children:(0,v.jsx)(r.A,{children:(0,v.jsxs)(a.A,{children:[(0,v.jsx)(i.A,{children:(0,v.jsxs)(o.A,{children:[(0,v.jsx)(l.A,{children:"name"}),(0,v.jsx)(l.A,{children:"mean (\xc5)"}),(0,v.jsx)(l.A,{children:"standard deviation (\xc5)"})]})}),(0,v.jsx)(c.A,{children:(0,v.jsxs)(o.A,{children:[(0,v.jsx)(l.A,{children:"Fluctuation"}),(0,v.jsx)(l.A,{children:D(S.y.rmsf.average)}),(0,v.jsx)(l.A,{children:D(S.y.rmsf.stddev)})]})})]})})}),(0,v.jsx)(u.A,{className:g.default.card,children:(0,v.jsxs)(r.A,{children:[(0,v.jsx)(d.A,{variant:"h6"}),(0,v.jsx)(w,{yData:S.y,step:1,xAxisLabel:"Atom",xColors:N,xTooltip:R,yAxisLabel:"Fluctuation (\xc5)",type:"dash",onHover:C,onSelect:e=>{k((t=>{if(e instanceof Set)return e;const n=new Set(t);return n[n.has(e)?"delete":"add"](e),n}))},mean:!0,standardDeviation:!0,marks:M,fullPrecision:!0}),(0,v.jsx)("div",{className:g.default.right,children:(0,v.jsxs)(f.A,{variant:"contained",disabled:!z.size,onClick:()=>k(new Set),children:[(0,v.jsx)(m.g,{icon:y.UB}),"\xa0",(0,v.jsx)("span",{children:"Clear selection"})]})})]})}),(0,v.jsx)(h.A,{newViewer:z&&z.size?{selectedAtoms:_?new Set([...z,_]):z}:null,nailing:!1,onClose:e=>k((t=>e.selectedAtoms===t?new Set:t))})]})}},62100:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});const s={card:"style_card__9qUkb",right:"style_right__Y0Fdo"}}}]);
//# sourceMappingURL=8217.ae62e1cf.chunk.js.map