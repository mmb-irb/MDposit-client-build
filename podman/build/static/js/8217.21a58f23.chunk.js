"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[2100,8217],{10939:(e,t,n)=>{n.d(t,{A:()=>x});var r=n(89379),s=n(80045),a=n(65043),i=n(12110),o=n(17604);const l="style_container__M9GCG";var c=n(70579);const d=["overrideComponent"],u={opacity:[0,1]};(0,o.A)()||(u.transform=["translateY(50px)","translateY(0)"]);const h={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},x=(0,a.forwardRef)(((e,t)=>{let{overrideComponent:n}=e,o=(0,s.A)(e,d);const x=(0,a.useRef)(null);(0,a.useLayoutEffect)((()=>{const e=x.current&&x.current.firstElementChild;if(!e||!e.animate)return;const t=Array.from(document.querySelectorAll("main section")).findIndex((t=>e===t)),n=e.animate(u,(0,r.A)((0,r.A)({},h),{},{delay:150*t}));return()=>n.cancel()}),[]);const m=n?"section":i.A;return(0,c.jsx)("div",{ref:x,className:l,children:(0,c.jsx)(m,(0,r.A)((0,r.A)({component:"section"},o),{},{ref:t}))})}))},34088:(e,t,n)=>{n.d(t,{A:()=>x});var r=n(89379),s=n(65043),a=n(43126),i=n(10939);const o="style_rnd__Txifm",l="style_floating-card__HHpby";var c=n(70579);const d=(0,s.lazy)((()=>Promise.all([n.e(7784),n.e(8095),n.e(3845),n.e(9070),n.e(2594),n.e(8280),n.e(7955),n.e(6064),n.e(1235),n.e(9117)]).then(n.bind(n,92428))));let u=0;const h=e=>{const t=e.viewerRef||(0,s.useRef)(null),[n,h]=(0,s.useState)((()=>{const{innerWidth:e,innerHeight:t,scrollY:n}=window,r=document.querySelector("main").offsetTop,s=Math.max(Math.min(e/4,t/4),150),a=1.5*s;return{width:2*s,height:a,x:0,y:t-r-a-20+n}}));return(0,c.jsx)(a.p,{position:{x:n.x,y:n.y},size:{width:n.width,height:n.height},style:{zIndex:(u+=1,u)},className:o,"data-rnd":!0,bounds:"window",cancel:"canvas, [data-popover], #preventDragSize",onDragStart:()=>{h((0,r.A)({},n))},onResizeStart:()=>{h((0,r.A)({},n))},onDragStop:(e,t)=>{0===e.layerX&&0===e.layerY||n.x===t.x&&n.y===t.y||h((0,r.A)((0,r.A)({},n),{},{x:t.x,y:t.y}))},onResize:()=>t.current&&t.current.autoResize(),onResizeStop:(e,t,n,s,a)=>{h((0,r.A)({width:n.style.width,height:n.style.height},a))},children:(0,c.jsx)(i.A,{className:l,elevation:4,children:(0,c.jsx)(s.Suspense,{fallback:null,children:(0,c.jsx)(d,(0,r.A)({className:l,ref:t,startsPlaying:!1},e))})})})},x=e=>{let{newViewer:t,nailing:n=!0,onNail:a,onClose:i}=e;const[o,l]=(0,s.useState)([]),d=[...o],u=(0,s.useRef)([]);if(t){const e=()=>{let e=0;for(;e<999;){if(-1===u.current.indexOf(e))return e;e+=1}console.error("Maximum number of viewers reached")};t.id=e(),t.close=()=>{n&&l((e=>{const n=[...e],r=e.indexOf(t);return-1!==r&&n.splice(r,1),n})),i&&i(t),u.current.push(t.id)},n&&(t.nail=()=>{l((e=>[...e,t])),a&&a(t),u.current.push(t.id)}),d.push(t)}return d.map((e=>(0,c.jsx)(h,(0,r.A)({},e),e.id)))}},18217:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(65043),s=n(26494),a=n(71806),i=n(84882),o=n(28076),l=n(10039),c=n(73460),d=n(85865),u=n(10939),h=n(34088),x=n(17545),m=n(11906),f=n(92127),A=n(44642),y=n(58338),p=n(29449),j=n(95747),g=n(62100),v=n(70579);const w=(0,r.lazy)((()=>Promise.all([n.e(2577),n.e(2460),n.e(5291),n.e(5077)]).then(n.bind(n,75291)))),S=()=>{const{accessionAndMdNumber:e,topology:t}=(0,r.useContext)(p.f),{loading:n,payload:S,error:b}=(0,y.A)("".concat(j.nP,"/").concat(e,"/analyses/fluctuation/"));(0,r.useMemo)((()=>{if(!S)return;const e=S.y.rmsf;e.data=e.data.map((e=>10*e)),e.average=10*e.average,e.stddev=10*e.stddev}),[S]);const[C,_]=(0,r.useState)(null),[z,k]=(0,r.useState)(new Set),M=(0,r.useMemo)((()=>Array.from(z).map((e=>({x:e,attr:{fill:"#c8c8c8"}})))),[z]),{xColors:N,xTooltip:R}=(0,r.useMemo)((()=>{if(!t)return{};return{xColors:t.getAtomElementColors(),xTooltip:(e,n)=>{const r="atom "+(n+1),s=t.getAtomByIndex(n),a=s.name;if(!a)return r;const i=s.residue.name;return i?r+" (".concat(i," - ").concat(a,")"):r+" (".concat(a,")")}}}),[t]);if(!t)return(0,v.jsx)(x.A,{});if(n)return(0,v.jsx)(x.A,{});if(b)return b.toString();if(!S)return"Something bad happened";const D=e=>Math.round(100*e)/100;return(0,v.jsxs)(r.Suspense,{fallback:(0,v.jsx)(x.A,{}),children:[(0,v.jsx)(u.A,{className:g.default.card,children:(0,v.jsx)(s.A,{children:(0,v.jsxs)(a.A,{children:[(0,v.jsx)(i.A,{children:(0,v.jsxs)(o.A,{children:[(0,v.jsx)(l.A,{children:"name"}),(0,v.jsx)(l.A,{children:"mean (\xc5)"}),(0,v.jsx)(l.A,{children:"standard deviation (\xc5)"})]})}),(0,v.jsx)(c.A,{children:(0,v.jsxs)(o.A,{children:[(0,v.jsx)(l.A,{children:"Fluctuation"}),(0,v.jsx)(l.A,{children:D(S.y.rmsf.average)}),(0,v.jsx)(l.A,{children:D(S.y.rmsf.stddev)})]})})]})})}),(0,v.jsx)(u.A,{className:g.default.card,children:(0,v.jsxs)(s.A,{children:[(0,v.jsx)(d.A,{variant:"h6"}),(0,v.jsx)(w,{yData:S.y,step:1,xAxisLabel:"Atom",xColors:N,xTooltip:R,yAxisLabel:"Fluctuation (\xc5)",type:"dash",onHover:_,onSelect:e=>{k((t=>{if(e instanceof Set)return e;const n=new Set(t);return n[n.has(e)?"delete":"add"](e),n}))},mean:!0,standardDeviation:!0,marks:M,fullPrecision:!0}),(0,v.jsx)("div",{className:g.default.right,children:(0,v.jsxs)(m.A,{variant:"contained",disabled:!z.size,onClick:()=>k(new Set),children:[(0,v.jsx)(f.g,{icon:A.UB}),"\xa0",(0,v.jsx)("span",{children:"Clear selection"})]})})]})}),(0,v.jsx)(h.A,{newViewer:z&&z.size?{selectedAtoms:C?new Set([...z,C]):z}:null,nailing:!1,onClose:e=>k((t=>e.selectedAtoms===t?new Set:t))})]})}},62100:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r={card:"style_card__9qUkb",right:"style_right__Y0Fdo"}}}]);
//# sourceMappingURL=8217.21a58f23.chunk.js.map